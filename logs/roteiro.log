2025-03-10 17:40:13 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 17:40:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 17:40:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 17:40:13 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:13 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:13 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:13 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para t√≠tulos: tema= pelos filhos, estilo=Reflexiva
2025-03-10 17:40:13 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo selecionado automaticamente: PODEROSA ORACI√ìN POR MIS HIJOS POR SU PROTECCI√ìN #oraci√≥n #bendiciones üôè
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 8378064e-b77f-4d2e-bc62-f253af471f06 com t√≠tulo: PODEROSA ORACI√ìN POR MIS HIJOS POR SU PROTECCI√ìN #oraci√≥n #bendiciones üôè
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema= pelos filhos, estilo=Reflexiva, duracao=Padr√£o, tipo=Matinal
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o...
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema= pelos filhos, estilo=Reflexiva, duracao=Padr√£o, titulo=PODEROSA ORACI√ìN POR MIS HIJOS POR SU PROTECCI√ìN #oraci√≥n #bendiciones üôè
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 744 caracteres)
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crie uma ora√ß√£o em espanhol com o t√≠tulo: "PODEROSA ORACI√ìN POR MIS HIJOS POR SU PROTECCI√ìN #oraci√≥n #bendiciones üôè"

Tema:  pelos filhos
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 17:40:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 17:40:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 17:40:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 3080 caracteres)
2025-03-10 17:40:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 17:40:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 17:40:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 17:40:25 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=PODEROSA ORACI√ìN POR MIS HIJOS POR SU PROTECCI√ìN #oraci√≥n #bendiciones üôè, tamanho da ora√ß√£o=3080 caracteres
2025-03-10 17:40:25 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 17:40:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 17:40:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:27 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=PODEROSA ORACI√ìN POR MIS HIJOS POR SU PROTECCI√ìN #oraci√≥n #bendiciones üôè, tamanho da ora√ß√£o=3080 caracteres
2025-03-10 17:40:27 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 17:40:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 17:40:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.s.ContentCompilationService - Compilando conte√∫do final para processo: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\8378064e-b77f-4d2e-bc62-f253af471f06\PODEROSA_ORACI_N_POR_MIS_HIJOS_POR_SU_PROTECCI_N_oraci_n_bendiciones__meta.txt
2025-03-10 17:40:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\8378064e-b77f-4d2e-bc62-f253af471f06\PODEROSA_ORACI_N_POR_MIS_HIJOS_POR_SU_PROTECCI_N_oraci_n_bendiciones_.srt
2025-03-10 17:40:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Arquivo SRT da vers√£o curta salvo com sucesso: .\gerados\8378064e-b77f-4d2e-bc62-f253af471f06\PODEROSA_ORACI_N_POR_MIS_HIJOS_POR_SU_PROTECCI_N_oraci_n_bendiciones__short.srt
2025-03-10 17:40:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.s.ContentCompilationService - Conte√∫do compilado com sucesso. Arquivos gerados em: .\gerados\8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 17:40:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 8378064e-b77f-4d2e-bc62-f253af471f06
2025-03-10 18:25:04 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 18:25:04 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 18:25:04 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 18:25:04 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 18:25:04 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 18:25:09 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 47972 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 18:25:09 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 18:25:09 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 18:25:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 18:25:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 18:25:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 18:25:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 18:25:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 18:25:10 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 18:25:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1595 ms
2025-03-10 18:25:11 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 18:25:11 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 18:25:11 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 18:25:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 18:25:11 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.079 seconds (process running for 3.492)
2025-03-10 18:25:28 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 18:25:28 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 18:25:28 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 18:25:28 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 76153822-789f-4398-8b8c-88fcf7866939 (idioma: es-MX)
2025-03-10 18:25:28 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:28 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=76153822-789f-4398-8b8c-88fcf7866939, idioma=es-MX
2025-03-10 18:25:28 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:28 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:28 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=76153822-789f-4398-8b8c-88fcf7866939, stage=Gerando t√≠tulos..., progress=20%
2025-03-10 18:25:28 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando t√≠tulos para o processo 76153822-789f-4398-8b8c-88fcf7866939 no idioma es-MX
2025-03-10 18:25:28 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para t√≠tulos: tema=protecci√≥n de los hijos, estilo=Reflexiva, idioma=es-MX
2025-03-10 18:25:28 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=76153822-789f-4398-8b8c-88fcf7866939, quantidade=5
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=76153822-789f-4398-8b8c-88fcf7866939, stage=T√≠tulos gerados com sucesso, progress=40%
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 t√≠tulos com sucesso para o processo 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo selecionado automaticamente: PODEROSA ORACI√ìN para PROTEGER a los HIJOS de todo MAL #oraci√≥n #bendiciones üôè
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=76153822-789f-4398-8b8c-88fcf7866939, stage=T√≠tulo selecionado: PODEROSA ORACI√ìN para PROTEGER a los HIJOS de todo MAL #oraci√≥n #bendiciones üôè, progress=45%
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 76153822-789f-4398-8b8c-88fcf7866939 com t√≠tulo: PODEROSA ORACI√ìN para PROTEGER a los HIJOS de todo MAL #oraci√≥n #bendiciones üôè
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=76153822-789f-4398-8b8c-88fcf7866939, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de los hijos, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de los hijos, estilo=Reflexiva, duracao=Padr√£o, titulo=PODEROSA ORACI√ìN para PROTEGER a los HIJOS de todo MAL #oraci√≥n #bendiciones üôè, idioma=es-MX
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 923 caracteres)
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "PODEROSA ORACI√ìN para PROTEGER a los HIJOS de todo MAL #oraci√≥n #bendiciones üôè"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de los hijos
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 18:25:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 2386 caracteres)
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=76153822-789f-4398-8b8c-88fcf7866939, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=76153822-789f-4398-8b8c-88fcf7866939, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=PODEROSA ORACI√ìN para PROTEGER a los HIJOS de todo MAL #oraci√≥n #bendiciones üôè, tamanho da ora√ß√£o=2386 caracteres, idioma=es-MX
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 18:25:38 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 18:25:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 18:25:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=76153822-789f-4398-8b8c-88fcf7866939, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 18:25:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 390 caracteres
2025-03-10 18:25:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:40 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=76153822-789f-4398-8b8c-88fcf7866939, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 18:25:40 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 18:25:40 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=PODEROSA ORACI√ìN para PROTEGER a los HIJOS de todo MAL #oraci√≥n #bendiciones üôè, tamanho da ora√ß√£o=2386 caracteres, idioma=es-MX
2025-03-10 18:25:40 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 18:25:40 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 557 caracteres
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=76153822-789f-4398-8b8c-88fcf7866939, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=76153822-789f-4398-8b8c-88fcf7866939, stage=Compilando conte√∫do final..., progress=95%
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.s.ContentCompilationService - Compilando conte√∫do final para processo: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\76153822-789f-4398-8b8c-88fcf7866939\PODEROSA_ORACI_N_para_PROTEGER_a_los_HIJOS_de_todo_MAL_oraci_n_bendiciones__meta.txt
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\76153822-789f-4398-8b8c-88fcf7866939\PODEROSA_ORACI_N_para_PROTEGER_a_los_HIJOS_de_todo_MAL_oraci_n_bendiciones_.srt
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Arquivo SRT da vers√£o curta salvo com sucesso: .\gerados\76153822-789f-4398-8b8c-88fcf7866939\PODEROSA_ORACI_N_para_PROTEGER_a_los_HIJOS_de_todo_MAL_oraci_n_bendiciones__short.srt
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Processo conclu√≠do: processId=76153822-789f-4398-8b8c-88fcf7866939, resultPath=.\gerados\76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=76153822-789f-4398-8b8c-88fcf7866939, stage=Processo conclu√≠do com sucesso! Arquivos gerados em: .\gerados\76153822-789f-4398-8b8c-88fcf7866939, progress=100%
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.s.ContentCompilationService - Conte√∫do compilado com sucesso. Arquivos gerados em: .\gerados\76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:25:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 76153822-789f-4398-8b8c-88fcf7866939
2025-03-10 18:44:05 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 18:44:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 18:44:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 18:44:05 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 18:44:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 18:47:13 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 16264 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 18:47:13 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 18:47:13 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 18:47:14 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 18:47:14 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 18:47:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 18:47:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 18:47:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 18:47:14 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 18:47:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1486 ms
2025-03-10 18:47:15 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 18:47:15 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 18:47:15 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 18:47:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 18:47:15 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.863 seconds (process running for 3.225)
2025-03-10 18:50:06 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 18:50:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 18:50:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 18:50:23 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 18:50:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 18:50:23 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 18:50:23 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 18:50:23 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 18:50:26 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 36312 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 18:50:26 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 18:50:26 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 18:50:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 18:50:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 18:50:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 18:50:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 18:50:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 18:50:28 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 18:50:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1519 ms
2025-03-10 18:50:29 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 18:50:29 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 18:50:29 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 18:50:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 18:50:29 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.929 seconds (process running for 3.271)
2025-03-10 18:50:38 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 18:50:39 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 18:50:39 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 18:50:39 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 18:50:39 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 18:50:42 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 46728 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 18:50:42 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 18:50:42 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 18:50:43 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 18:50:43 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 18:50:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 18:50:43 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 18:50:43 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 18:50:43 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 18:50:43 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1497 ms
2025-03-10 18:50:44 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 18:50:44 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 18:50:44 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 18:50:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 18:50:44 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.893 seconds (process running for 3.245)
2025-03-10 18:51:24 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 18:51:24 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 18:51:24 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-10 18:52:00 [http-nio-8080-exec-5] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42 (idioma: es-MX, t√≠tulo: n√£o fornecido)
2025-03-10 18:52:00 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:00 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, idioma=es-MX, titulo=n√£o fornecido
2025-03-10 18:52:00 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:00 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, stage=Gerando t√≠tulos..., progress=20%
2025-03-10 18:52:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando t√≠tulos para o processo 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42 no idioma es-MX
2025-03-10 18:52:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para t√≠tulos: tema=protecci√≥n de los hijos, estilo=Reflexiva, idioma=es-MX, hasObservacoes=false
2025-03-10 18:52:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, quantidade=5
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, stage=T√≠tulos gerados com sucesso, progress=40%
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 t√≠tulos com sucesso para o processo 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo selecionado automaticamente: PODEROSA ORACI√ìN para PROTEGER A TUS HIJOS DE TODO MAL #oraci√≥n #bendiciones üôè
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, stage=T√≠tulo selecionado: PODEROSA ORACI√ìN para PROTEGER A TUS HIJOS DE TODO MAL #oraci√≥n #bendiciones üôè, progress=45%
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42 com t√≠tulo: PODEROSA ORACI√ìN para PROTEGER A TUS HIJOS DE TODO MAL #oraci√≥n #bendiciones üôè
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de los hijos, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de los hijos, estilo=Reflexiva, duracao=Padr√£o, titulo=PODEROSA ORACI√ìN para PROTEGER A TUS HIJOS DE TODO MAL #oraci√≥n #bendiciones üôè, idioma=es-MX
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 923 caracteres)
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "PODEROSA ORACI√ìN para PROTEGER A TUS HIJOS DE TODO MAL #oraci√≥n #bendiciones üôè"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de los hijos
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 18:52:03 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 2967 caracteres)
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=PODEROSA ORACI√ìN para PROTEGER A TUS HIJOS DE TODO MAL #oraci√≥n #bendiciones üôè, tamanho da ora√ß√£o=2967 caracteres, idioma=es-MX
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 18:52:10 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 18:52:11 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 18:52:11 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 18:52:11 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 376 caracteres
2025-03-10 18:52:11 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:11 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:11 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 18:52:11 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 18:52:11 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=PODEROSA ORACI√ìN para PROTEGER A TUS HIJOS DE TODO MAL #oraci√≥n #bendiciones üôè, tamanho da ora√ß√£o=2967 caracteres, idioma=es-MX
2025-03-10 18:52:11 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 18:52:11 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 456 caracteres
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, stage=Compilando conte√∫do final..., progress=95%
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.s.ContentCompilationService - Compilando conte√∫do final para processo: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42\PODEROSA_ORACI_N_para_PROTEGER_A_TUS_HIJOS_DE_TODO_MAL_oraci_n_bendiciones__meta.txt
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42\PODEROSA_ORACI_N_para_PROTEGER_A_TUS_HIJOS_DE_TODO_MAL_oraci_n_bendiciones_.srt
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Arquivo SRT da vers√£o curta salvo com sucesso: .\gerados\43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42\PODEROSA_ORACI_N_para_PROTEGER_A_TUS_HIJOS_DE_TODO_MAL_oraci_n_bendiciones__short.srt
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Processo conclu√≠do: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, resultPath=.\gerados\43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, stage=Processo conclu√≠do com sucesso! Arquivos gerados em: .\gerados\43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42, progress=100%
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.s.ContentCompilationService - Conte√∫do compilado com sucesso. Arquivos gerados em: .\gerados\43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:52:13 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 43f6b5ae-0ea8-47bc-8e60-32e4eb63ee42
2025-03-10 18:53:28 [http-nio-8080-exec-10] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 496f0af0-8fcc-43e0-a1b9-46b642fab398 (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 18:53:28 [http-nio-8080-exec-10] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 496f0af0-8fcc-43e0-a1b9-46b642fab398
2025-03-10 18:53:28 [http-nio-8080-exec-10] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=496f0af0-8fcc-43e0-a1b9-46b642fab398, idioma=es-MX, titulo=fornecido
2025-03-10 18:53:28 [http-nio-8080-exec-10] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 496f0af0-8fcc-43e0-a1b9-46b642fab398
2025-03-10 18:53:28 [http-nio-8080-exec-10] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 496f0af0-8fcc-43e0-a1b9-46b642fab398
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo 496f0af0-8fcc-43e0-a1b9-46b642fab398: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=496f0af0-8fcc-43e0-a1b9-46b642fab398, quantidade=1
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=496f0af0-8fcc-43e0-a1b9-46b642fab398, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 496f0af0-8fcc-43e0-a1b9-46b642fab398
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 496f0af0-8fcc-43e0-a1b9-46b642fab398
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 496f0af0-8fcc-43e0-a1b9-46b642fab398 com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=496f0af0-8fcc-43e0-a1b9-46b642fab398, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=null, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-18] ERROR d.l.r.s.OracaoGenerationService - Informa√ß√µes incompletas para o processo: 496f0af0-8fcc-43e0-a1b9-46b642fab398
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-18] ERROR d.l.r.s.OracaoGenerationService - Erro ao gerar ora√ß√£o: Informa√ß√µes incompletas para o processo: 496f0af0-8fcc-43e0-a1b9-46b642fab398
java.lang.RuntimeException: Informa√ß√µes incompletas para o processo: 496f0af0-8fcc-43e0-a1b9-46b642fab398
	at dev.luisoliveira.roteiro.service.OracaoGenerationService.handleTitleSelectedEvent(OracaoGenerationService.java:48)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 18:53:28 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=496f0af0-8fcc-43e0-a1b9-46b642fab398, stage=Erro ao gerar ora√ß√£o: Informa√ß√µes incompletas para o processo: 496f0af0-8fcc-43e0-a1b9-46b642fab398, progress=0%
2025-03-10 19:18:59 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 58f7c4a8-3191-4aa7-9136-9742917130b7 (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 19:18:59 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 58f7c4a8-3191-4aa7-9136-9742917130b7
2025-03-10 19:18:59 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=58f7c4a8-3191-4aa7-9136-9742917130b7, idioma=es-MX, titulo=fornecido
2025-03-10 19:18:59 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 58f7c4a8-3191-4aa7-9136-9742917130b7
2025-03-10 19:18:59 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 58f7c4a8-3191-4aa7-9136-9742917130b7
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo 58f7c4a8-3191-4aa7-9136-9742917130b7: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=58f7c4a8-3191-4aa7-9136-9742917130b7, quantidade=1
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=58f7c4a8-3191-4aa7-9136-9742917130b7, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 58f7c4a8-3191-4aa7-9136-9742917130b7
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 58f7c4a8-3191-4aa7-9136-9742917130b7
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 58f7c4a8-3191-4aa7-9136-9742917130b7 com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=58f7c4a8-3191-4aa7-9136-9742917130b7, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=null, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-20] ERROR d.l.r.s.OracaoGenerationService - Informa√ß√µes incompletas para o processo: 58f7c4a8-3191-4aa7-9136-9742917130b7
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-20] ERROR d.l.r.s.OracaoGenerationService - Erro ao gerar ora√ß√£o: Informa√ß√µes incompletas para o processo: 58f7c4a8-3191-4aa7-9136-9742917130b7
java.lang.RuntimeException: Informa√ß√µes incompletas para o processo: 58f7c4a8-3191-4aa7-9136-9742917130b7
	at dev.luisoliveira.roteiro.service.OracaoGenerationService.handleTitleSelectedEvent(OracaoGenerationService.java:48)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 19:18:59 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=58f7c4a8-3191-4aa7-9136-9742917130b7, stage=Erro ao gerar ora√ß√£o: Informa√ß√µes incompletas para o processo: 58f7c4a8-3191-4aa7-9136-9742917130b7, progress=0%
2025-03-10 19:20:33 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: dd2b3620-e27e-4006-b261-86d0666f4611 (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 19:20:33 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:33 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=dd2b3620-e27e-4006-b261-86d0666f4611, idioma=es-MX, titulo=fornecido
2025-03-10 19:20:33 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:33 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo dd2b3620-e27e-4006-b261-86d0666f4611: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=dd2b3620-e27e-4006-b261-86d0666f4611, quantidade=1
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd2b3620-e27e-4006-b261-86d0666f4611, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: dd2b3620-e27e-4006-b261-86d0666f4611 com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd2b3620-e27e-4006-b261-86d0666f4611, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-22] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-22] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 19:20:33 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 1937 caracteres)
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd2b3620-e27e-4006-b261-86d0666f4611, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd2b3620-e27e-4006-b261-86d0666f4611, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-23] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1937 caracteres, idioma=es-MX
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 19:20:38 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:20:40 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:20:40 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd2b3620-e27e-4006-b261-86d0666f4611, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 19:20:40 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 797 caracteres
2025-03-10 19:20:40 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:40 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:41 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd2b3620-e27e-4006-b261-86d0666f4611, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 19:20:41 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 19:20:41 [SimpleAsyncTaskExecutor-24] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1937 caracteres, idioma=es-MX
2025-03-10 19:20:41 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 19:20:41 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 963 caracteres
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd2b3620-e27e-4006-b261-86d0666f4611, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd2b3620-e27e-4006-b261-86d0666f4611, stage=Compilando conte√∫do final..., progress=95%
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.ContentCompilationService - Compilando conte√∫do final para processo: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\dd2b3620-e27e-4006-b261-86d0666f4611\_ANTES_DE_SALIR_DE_CASA_ORACI_N_MILAGROSA_para_PROTECCI_N_DIVINA_y_XITO_en_TODO_lo_que_HAGAS_meta.txt
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\dd2b3620-e27e-4006-b261-86d0666f4611\_ANTES_DE_SALIR_DE_CASA_ORACI_N_MILAGROSA_para_PROTECCI_N_DIVINA_y_XITO_en_TODO_lo_que_HAGAS.srt
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.service.FileStorageService - Arquivo SRT da vers√£o curta salvo com sucesso: .\gerados\dd2b3620-e27e-4006-b261-86d0666f4611\_ANTES_DE_SALIR_DE_CASA_ORACI_N_MILAGROSA_para_PROTECCI_N_DIVINA_y_XITO_en_TODO_lo_que_HAGAS_short.srt
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.service.ProcessTrackingService - Processo conclu√≠do: processId=dd2b3620-e27e-4006-b261-86d0666f4611, resultPath=.\gerados\dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd2b3620-e27e-4006-b261-86d0666f4611, stage=Processo conclu√≠do com sucesso! Arquivos gerados em: .\gerados\dd2b3620-e27e-4006-b261-86d0666f4611, progress=100%
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.ContentCompilationService - Conte√∫do compilado com sucesso. Arquivos gerados em: .\gerados\dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:20:44 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: dd2b3620-e27e-4006-b261-86d0666f4611
2025-03-10 19:36:53 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 19:36:53 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 19:36:53 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 19:36:53 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 19:36:53 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 19:36:58 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 15168 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 19:36:58 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 19:36:58 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 19:36:59 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 19:36:59 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 19:36:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 19:36:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 19:36:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 19:36:59 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 19:36:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1671 ms
2025-03-10 19:37:00 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 19:37:00 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 19:37:00 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 19:37:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 19:37:00 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.123 seconds (process running for 3.481)
2025-03-10 19:47:04 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 19:47:04 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 19:47:04 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 19:47:04 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 19:47:04 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 19:47:10 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 48920 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 19:47:10 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 19:47:10 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 19:47:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 19:47:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 19:47:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 19:47:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 19:47:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 19:47:12 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 19:47:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1964 ms
2025-03-10 19:47:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 19:47:12 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 19:47:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 19:47:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 19:47:12 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.667 seconds (process running for 4.164)
2025-03-10 19:48:16 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 19:48:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 19:48:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 19:48:16 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: cbc14e82-39c9-417f-8463-d834427b9004 (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 19:48:16 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:16 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=cbc14e82-39c9-417f-8463-d834427b9004, idioma=es-MX, titulo=fornecido
2025-03-10 19:48:16 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:16 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo cbc14e82-39c9-417f-8463-d834427b9004: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=cbc14e82-39c9-417f-8463-d834427b9004, quantidade=1
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cbc14e82-39c9-417f-8463-d834427b9004, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: cbc14e82-39c9-417f-8463-d834427b9004 com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cbc14e82-39c9-417f-8463-d834427b9004, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 19:48:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 1800 caracteres)
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cbc14e82-39c9-417f-8463-d834427b9004, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cbc14e82-39c9-417f-8463-d834427b9004, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1800 caracteres, idioma=es-MX
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 19:48:46 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:48:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:48:47 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:47 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cbc14e82-39c9-417f-8463-d834427b9004, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 19:48:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 305 caracteres
2025-03-10 19:48:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:47 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cbc14e82-39c9-417f-8463-d834427b9004, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 19:48:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 19:48:47 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1800 caracteres, idioma=es-MX
2025-03-10 19:48:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 19:48:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 764 caracteres
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para cbc14e82-39c9-417f-8463-d834427b9004: em processamento
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cbc14e82-39c9-417f-8463-d834427b9004, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para cbc14e82-39c9-417f-8463-d834427b9004, pulando compila√ß√£o direta
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para cbc14e82-39c9-417f-8463-d834427b9004: em processamento
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cbc14e82-39c9-417f-8463-d834427b9004, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1800 caracteres, idioma=es-MX
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 19:48:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:48:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:48:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 559 caracteres
2025-03-10 19:48:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 19:48:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: cbc14e82-39c9-417f-8463-d834427b9004
2025-03-10 19:48:51 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Uma cena inspiradora para a miniatura do v√≠deo:

Prompt para gera√ß√£o de imagem:
"Uma paisagem tranquila ao amanhecer, com um c√©u colorido em tons de a..., prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 19:48:52 [SimpleAsyncTaskExecutor-17] ERROR d.l.roteiro.service.ReplicateService - Erro na requisi√ß√£o ao Replicate: Status code 422
2025-03-10 19:48:52 [SimpleAsyncTaskExecutor-17] ERROR d.l.r.s.ImagePromptGenerationService - Erro ao gerar capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
java.io.IOException: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
	at dev.luisoliveira.roteiro.service.ReplicateService.createPrediction(ReplicateService.java:398)
	at dev.luisoliveira.roteiro.service.ReplicateService.generateImage(ReplicateService.java:324)
	at dev.luisoliveira.roteiro.service.ImagePromptGenerationService.handleDescriptionGeneratedEvent(ImagePromptGenerationService.java:196)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 19:48:52 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cbc14e82-39c9-417f-8463-d834427b9004, stage=Aviso: N√£o foi poss√≠vel gerar a capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}, progress=93%
2025-03-10 19:48:52 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para cbc14e82-39c9-417f-8463-d834427b9004: conclu√≠do
2025-03-10 19:55:02 [http-nio-8080-exec-5] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 738d723d-ed62-4e99-beef-c5f6de7dad23 (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 19:55:02 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:02 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=738d723d-ed62-4e99-beef-c5f6de7dad23, idioma=es-MX, titulo=fornecido
2025-03-10 19:55:02 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:02 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo 738d723d-ed62-4e99-beef-c5f6de7dad23: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=738d723d-ed62-4e99-beef-c5f6de7dad23, quantidade=1
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=738d723d-ed62-4e99-beef-c5f6de7dad23, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 738d723d-ed62-4e99-beef-c5f6de7dad23 com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=738d723d-ed62-4e99-beef-c5f6de7dad23, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 19:55:02 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 2219 caracteres)
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=738d723d-ed62-4e99-beef-c5f6de7dad23, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=738d723d-ed62-4e99-beef-c5f6de7dad23, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2219 caracteres, idioma=es-MX
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 19:55:07 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:55:08 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:55:08 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:08 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=738d723d-ed62-4e99-beef-c5f6de7dad23, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 19:55:08 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 488 caracteres
2025-03-10 19:55:08 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:08 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:08 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=738d723d-ed62-4e99-beef-c5f6de7dad23, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 19:55:08 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 19:55:08 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2219 caracteres, idioma=es-MX
2025-03-10 19:55:08 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 19:55:08 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 624 caracteres
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 738d723d-ed62-4e99-beef-c5f6de7dad23: em processamento
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=738d723d-ed62-4e99-beef-c5f6de7dad23, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 738d723d-ed62-4e99-beef-c5f6de7dad23, pulando compila√ß√£o direta
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 738d723d-ed62-4e99-beef-c5f6de7dad23: em processamento
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=738d723d-ed62-4e99-beef-c5f6de7dad23, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-23] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2219 caracteres, idioma=es-MX
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 19:55:11 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:55:12 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:55:12 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 508 caracteres
2025-03-10 19:55:12 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 19:55:12 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: 738d723d-ed62-4e99-beef-c5f6de7dad23
2025-03-10 19:55:12 [SimpleAsyncTaskExecutor-23] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Una imagen inspiradora para la miniatura del video de oraci√≥n:

Prompt para Midjourney/DALL-E:
- Uma pessoa em posi√ß√£o de ora√ß√£o, com as m√£os levantad..., prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 19:55:13 [SimpleAsyncTaskExecutor-23] ERROR d.l.roteiro.service.ReplicateService - Erro na requisi√ß√£o ao Replicate: Status code 422
2025-03-10 19:55:13 [SimpleAsyncTaskExecutor-23] ERROR d.l.r.s.ImagePromptGenerationService - Erro ao gerar capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
java.io.IOException: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
	at dev.luisoliveira.roteiro.service.ReplicateService.createPrediction(ReplicateService.java:398)
	at dev.luisoliveira.roteiro.service.ReplicateService.generateImage(ReplicateService.java:324)
	at dev.luisoliveira.roteiro.service.ImagePromptGenerationService.handleDescriptionGeneratedEvent(ImagePromptGenerationService.java:196)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 19:55:13 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=738d723d-ed62-4e99-beef-c5f6de7dad23, stage=Aviso: N√£o foi poss√≠vel gerar a capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}, progress=93%
2025-03-10 19:55:13 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 738d723d-ed62-4e99-beef-c5f6de7dad23: conclu√≠do
2025-03-10 19:58:15 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 19:58:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 19:58:15 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 19:58:15 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 19:58:15 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 19:58:17 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 42180 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 19:58:17 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 19:58:17 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 19:58:18 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 19:58:18 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 19:58:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 19:58:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 19:58:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 19:58:18 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 19:58:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1578 ms
2025-03-10 19:58:19 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 19:58:19 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 19:58:19 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 19:58:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 19:58:19 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.0 seconds (process running for 3.385)
2025-03-10 19:58:27 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 19:58:27 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 19:58:27 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 19:58:27 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 919d31a1-0675-438a-94e5-37ed022b7fb9 (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 19:58:27 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:27 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=919d31a1-0675-438a-94e5-37ed022b7fb9, idioma=es-MX, titulo=fornecido
2025-03-10 19:58:27 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:27 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo 919d31a1-0675-438a-94e5-37ed022b7fb9: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=919d31a1-0675-438a-94e5-37ed022b7fb9, quantidade=1
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=919d31a1-0675-438a-94e5-37ed022b7fb9, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 919d31a1-0675-438a-94e5-37ed022b7fb9 com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=919d31a1-0675-438a-94e5-37ed022b7fb9, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 19:58:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 2043 caracteres)
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=919d31a1-0675-438a-94e5-37ed022b7fb9, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=919d31a1-0675-438a-94e5-37ed022b7fb9, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2043 caracteres, idioma=es-MX
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 19:58:31 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:58:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:58:35 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:35 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=919d31a1-0675-438a-94e5-37ed022b7fb9, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 19:58:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 314 caracteres
2025-03-10 19:58:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:35 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=919d31a1-0675-438a-94e5-37ed022b7fb9, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 19:58:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 19:58:35 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2043 caracteres, idioma=es-MX
2025-03-10 19:58:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 19:58:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 532 caracteres
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 919d31a1-0675-438a-94e5-37ed022b7fb9: em processamento
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=919d31a1-0675-438a-94e5-37ed022b7fb9, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 919d31a1-0675-438a-94e5-37ed022b7fb9, pulando compila√ß√£o direta
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 919d31a1-0675-438a-94e5-37ed022b7fb9: em processamento
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=919d31a1-0675-438a-94e5-37ed022b7fb9, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2043 caracteres, idioma=es-MX
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 19:58:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 19:58:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 19:58:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 302 caracteres
2025-03-10 19:58:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 19:58:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: 919d31a1-0675-438a-94e5-37ed022b7fb9
2025-03-10 19:58:39 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Uma imagem de um c√©u azul claro com raios de sol dourados brilhantes iluminando suavemente um par de m√£os unidas em ora√ß√£o. Ao fundo, uma paisagem tra..., prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 19:58:39 [SimpleAsyncTaskExecutor-17] ERROR d.l.roteiro.service.ReplicateService - Erro na requisi√ß√£o ao Replicate: Status code 422
2025-03-10 19:58:39 [SimpleAsyncTaskExecutor-17] ERROR d.l.r.s.ImagePromptGenerationService - Erro ao gerar capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
java.io.IOException: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
	at dev.luisoliveira.roteiro.service.ReplicateService.createPrediction(ReplicateService.java:398)
	at dev.luisoliveira.roteiro.service.ReplicateService.generateImage(ReplicateService.java:324)
	at dev.luisoliveira.roteiro.service.ImagePromptGenerationService.handleDescriptionGeneratedEvent(ImagePromptGenerationService.java:196)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 19:58:39 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=919d31a1-0675-438a-94e5-37ed022b7fb9, stage=Aviso: N√£o foi poss√≠vel gerar a capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}, progress=93%
2025-03-10 19:58:39 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 919d31a1-0675-438a-94e5-37ed022b7fb9: conclu√≠do
2025-03-10 20:00:06 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 20:00:06 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 20:00:06 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 20:00:06 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 20:00:06 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 20:00:08 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 50232 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 20:00:08 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 20:00:08 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 20:00:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 20:00:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 20:00:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 20:00:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 20:00:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 20:00:10 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 20:00:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1831 ms
2025-03-10 20:00:11 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 20:00:11 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 20:00:11 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 20:00:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 20:00:11 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.343 seconds (process running for 3.784)
2025-03-10 20:11:23 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 20:11:23 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 20:11:23 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 20:11:23 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: e69e12aa-4b2f-42ec-a875-54d73b410f3f (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 20:11:23 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:23 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=e69e12aa-4b2f-42ec-a875-54d73b410f3f, idioma=es-MX, titulo=fornecido
2025-03-10 20:11:23 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:23 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo e69e12aa-4b2f-42ec-a875-54d73b410f3f: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=e69e12aa-4b2f-42ec-a875-54d73b410f3f, quantidade=1
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e69e12aa-4b2f-42ec-a875-54d73b410f3f, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: e69e12aa-4b2f-42ec-a875-54d73b410f3f com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e69e12aa-4b2f-42ec-a875-54d73b410f3f, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 20:11:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 2514 caracteres)
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e69e12aa-4b2f-42ec-a875-54d73b410f3f, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e69e12aa-4b2f-42ec-a875-54d73b410f3f, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2514 caracteres, idioma=es-MX
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 20:11:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:11:32 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:11:32 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:32 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e69e12aa-4b2f-42ec-a875-54d73b410f3f, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 20:11:32 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 281 caracteres
2025-03-10 20:11:32 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:32 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:32 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e69e12aa-4b2f-42ec-a875-54d73b410f3f, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 20:11:32 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 20:11:32 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2514 caracteres, idioma=es-MX
2025-03-10 20:11:32 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 20:11:32 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 485 caracteres
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para e69e12aa-4b2f-42ec-a875-54d73b410f3f: em processamento
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e69e12aa-4b2f-42ec-a875-54d73b410f3f, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para e69e12aa-4b2f-42ec-a875-54d73b410f3f, pulando compila√ß√£o direta
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para e69e12aa-4b2f-42ec-a875-54d73b410f3f: em processamento
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e69e12aa-4b2f-42ec-a875-54d73b410f3f, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2514 caracteres, idioma=es-MX
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 20:11:33 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:11:36 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:11:36 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 742 caracteres
2025-03-10 20:11:36 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 20:11:36 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: e69e12aa-4b2f-42ec-a875-54d73b410f3f
2025-03-10 20:11:36 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Uma imagem para a miniatura do v√≠deo poderia incluir:

1. Uma pessoa com as m√£os em posi√ß√£o de ora√ß√£o, olhando para o c√©u.
2. Um fundo de um belo p√¥r ..., prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 20:11:37 [SimpleAsyncTaskExecutor-17] ERROR d.l.roteiro.service.ReplicateService - Erro na requisi√ß√£o ao Replicate: Status code 422
2025-03-10 20:11:37 [SimpleAsyncTaskExecutor-17] ERROR d.l.r.s.ImagePromptGenerationService - Erro ao gerar capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
java.io.IOException: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
	at dev.luisoliveira.roteiro.service.ReplicateService.createPrediction(ReplicateService.java:398)
	at dev.luisoliveira.roteiro.service.ReplicateService.generateImage(ReplicateService.java:324)
	at dev.luisoliveira.roteiro.service.ImagePromptGenerationService.handleDescriptionGeneratedEvent(ImagePromptGenerationService.java:196)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 20:11:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e69e12aa-4b2f-42ec-a875-54d73b410f3f, stage=Aviso: N√£o foi poss√≠vel gerar a capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}, progress=93%
2025-03-10 20:11:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para e69e12aa-4b2f-42ec-a875-54d73b410f3f: conclu√≠do
2025-03-10 20:15:36 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 20:15:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 20:15:37 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 20:15:37 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 20:15:37 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 20:15:39 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 46748 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 20:15:39 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 20:15:39 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 20:15:40 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 20:15:40 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 20:15:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 20:15:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 20:15:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 20:15:40 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 20:15:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1507 ms
2025-03-10 20:15:41 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 20:15:41 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 20:15:41 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 20:15:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 20:15:41 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.96 seconds (process running for 3.317)
2025-03-10 20:15:56 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 20:15:56 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 20:15:56 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 20:15:56 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: d1213c13-ac95-461a-bb5c-436a28630b3d (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 20:15:56 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:15:56 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=d1213c13-ac95-461a-bb5c-436a28630b3d, idioma=es-MX, titulo=fornecido
2025-03-10 20:15:56 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:15:56 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo d1213c13-ac95-461a-bb5c-436a28630b3d: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=d1213c13-ac95-461a-bb5c-436a28630b3d, quantidade=1
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d1213c13-ac95-461a-bb5c-436a28630b3d, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: d1213c13-ac95-461a-bb5c-436a28630b3d com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d1213c13-ac95-461a-bb5c-436a28630b3d, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 20:15:56 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 1598 caracteres)
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d1213c13-ac95-461a-bb5c-436a28630b3d, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d1213c13-ac95-461a-bb5c-436a28630b3d, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1598 caracteres, idioma=es-MX
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 20:16:00 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:16:01 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:16:01 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:16:01 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d1213c13-ac95-461a-bb5c-436a28630b3d, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 20:16:01 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 289 caracteres
2025-03-10 20:16:01 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:16:01 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:16:01 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d1213c13-ac95-461a-bb5c-436a28630b3d, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 20:16:01 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 20:16:01 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1598 caracteres, idioma=es-MX
2025-03-10 20:16:01 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 20:16:01 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 599 caracteres
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para d1213c13-ac95-461a-bb5c-436a28630b3d: em processamento
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d1213c13-ac95-461a-bb5c-436a28630b3d, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para d1213c13-ac95-461a-bb5c-436a28630b3d, pulando compila√ß√£o direta
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para d1213c13-ac95-461a-bb5c-436a28630b3d: em processamento
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d1213c13-ac95-461a-bb5c-436a28630b3d, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1598 caracteres, idioma=es-MX
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 20:16:04 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:16:05 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:16:05 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 300 caracteres
2025-03-10 20:16:05 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 20:16:05 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: d1213c13-ac95-461a-bb5c-436a28630b3d
2025-03-10 20:16:05 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Cena de uma pessoa de m√£os postas em ora√ß√£o, olhando para o c√©u com uma luz divina brilhando sobre ela. Ao redor, anjos invis√≠veis envolvendo a pessoa..., prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 20:16:06 [SimpleAsyncTaskExecutor-17] ERROR d.l.roteiro.service.ReplicateService - Erro na requisi√ß√£o ao Replicate: Status code 422
2025-03-10 20:16:06 [SimpleAsyncTaskExecutor-17] ERROR d.l.r.s.ImagePromptGenerationService - Erro ao gerar capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
java.io.IOException: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
	at dev.luisoliveira.roteiro.service.ReplicateService.createPrediction(ReplicateService.java:398)
	at dev.luisoliveira.roteiro.service.ReplicateService.generateImage(ReplicateService.java:324)
	at dev.luisoliveira.roteiro.service.ImagePromptGenerationService.handleDescriptionGeneratedEvent(ImagePromptGenerationService.java:196)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 20:16:06 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d1213c13-ac95-461a-bb5c-436a28630b3d, stage=Aviso: N√£o foi poss√≠vel gerar a capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}, progress=93%
2025-03-10 20:16:06 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para d1213c13-ac95-461a-bb5c-436a28630b3d: conclu√≠do
2025-03-10 20:16:28 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 20:16:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 20:16:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 20:16:29 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 20:16:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 20:16:30 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 46648 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 20:16:30 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 20:16:30 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 20:16:31 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 20:16:31 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 20:16:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 20:16:32 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 20:16:32 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 20:16:32 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 20:16:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1625 ms
2025-03-10 20:16:33 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 20:16:33 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 20:16:33 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 20:16:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 20:16:33 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.13 seconds (process running for 3.539)
2025-03-10 20:16:49 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 20:16:49 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 20:16:49 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 20:16:49 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 2cbaba00-fa41-4041-94af-d3560aa4eb2d (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 20:16:49 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:49 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=2cbaba00-fa41-4041-94af-d3560aa4eb2d, idioma=es-MX, titulo=fornecido
2025-03-10 20:16:49 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:49 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo 2cbaba00-fa41-4041-94af-d3560aa4eb2d: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=2cbaba00-fa41-4041-94af-d3560aa4eb2d, quantidade=1
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2cbaba00-fa41-4041-94af-d3560aa4eb2d, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 2cbaba00-fa41-4041-94af-d3560aa4eb2d com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2cbaba00-fa41-4041-94af-d3560aa4eb2d, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 20:16:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 1750 caracteres)
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2cbaba00-fa41-4041-94af-d3560aa4eb2d, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2cbaba00-fa41-4041-94af-d3560aa4eb2d, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1750 caracteres, idioma=es-MX
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 20:16:53 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:16:54 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:16:54 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:54 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2cbaba00-fa41-4041-94af-d3560aa4eb2d, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 20:16:54 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 257 caracteres
2025-03-10 20:16:54 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:54 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:54 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2cbaba00-fa41-4041-94af-d3560aa4eb2d, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 20:16:54 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 20:16:54 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1750 caracteres, idioma=es-MX
2025-03-10 20:16:54 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 20:16:54 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 551 caracteres
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 2cbaba00-fa41-4041-94af-d3560aa4eb2d: em processamento
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2cbaba00-fa41-4041-94af-d3560aa4eb2d, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 2cbaba00-fa41-4041-94af-d3560aa4eb2d, pulando compila√ß√£o direta
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 2cbaba00-fa41-4041-94af-d3560aa4eb2d: em processamento
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2cbaba00-fa41-4041-94af-d3560aa4eb2d, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1750 caracteres, idioma=es-MX
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 20:16:56 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:16:58 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:16:58 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 403 caracteres
2025-03-10 20:16:58 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 20:16:58 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: 2cbaba00-fa41-4041-94af-d3560aa4eb2d
2025-03-10 20:16:58 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Uma cena tranquila e inspiradora de um amanhecer, com raios de sol dourados filtrando pelas nuvens no c√©u azul. Uma pessoa em posi√ß√£o de ora√ß√£o, com a..., prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 20:16:58 [SimpleAsyncTaskExecutor-17] ERROR d.l.roteiro.service.ReplicateService - Erro na requisi√ß√£o ao Replicate: Status code 422
2025-03-10 20:16:58 [SimpleAsyncTaskExecutor-17] ERROR d.l.r.s.ImagePromptGenerationService - Erro ao gerar capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
java.io.IOException: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
	at dev.luisoliveira.roteiro.service.ReplicateService.createPrediction(ReplicateService.java:398)
	at dev.luisoliveira.roteiro.service.ReplicateService.generateImage(ReplicateService.java:324)
	at dev.luisoliveira.roteiro.service.ImagePromptGenerationService.handleDescriptionGeneratedEvent(ImagePromptGenerationService.java:196)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 20:16:58 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2cbaba00-fa41-4041-94af-d3560aa4eb2d, stage=Aviso: N√£o foi poss√≠vel gerar a capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}, progress=93%
2025-03-10 20:16:58 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 2cbaba00-fa41-4041-94af-d3560aa4eb2d: conclu√≠do
2025-03-10 20:17:17 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 20:17:17 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 20:17:17 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 20:17:17 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 20:17:17 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 20:17:20 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 39636 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 20:17:20 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 20:17:20 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 20:17:21 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 20:17:21 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 20:17:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 20:17:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 20:17:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 20:17:21 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 20:17:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1657 ms
2025-03-10 20:17:22 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 20:17:22 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 20:17:22 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 20:17:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 20:17:22 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.113 seconds (process running for 3.597)
2025-03-10 20:17:48 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 20:17:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 20:17:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 20:17:48 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 6291bc4f-6e28-434a-b538-f22cdbf402b8 (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 20:17:48 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:17:48 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=6291bc4f-6e28-434a-b538-f22cdbf402b8, idioma=es-MX, titulo=fornecido
2025-03-10 20:17:48 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:17:48 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo 6291bc4f-6e28-434a-b538-f22cdbf402b8: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=6291bc4f-6e28-434a-b538-f22cdbf402b8, quantidade=1
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6291bc4f-6e28-434a-b538-f22cdbf402b8, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 6291bc4f-6e28-434a-b538-f22cdbf402b8 com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6291bc4f-6e28-434a-b538-f22cdbf402b8, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 20:17:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 2159 caracteres)
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6291bc4f-6e28-434a-b538-f22cdbf402b8, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6291bc4f-6e28-434a-b538-f22cdbf402b8, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2159 caracteres, idioma=es-MX
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 20:17:53 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:17:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:17:57 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:17:57 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6291bc4f-6e28-434a-b538-f22cdbf402b8, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 20:17:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 389 caracteres
2025-03-10 20:17:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:17:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:17:57 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6291bc4f-6e28-434a-b538-f22cdbf402b8, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 20:17:57 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 20:17:57 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2159 caracteres, idioma=es-MX
2025-03-10 20:17:57 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 20:17:57 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 445 caracteres
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 6291bc4f-6e28-434a-b538-f22cdbf402b8: em processamento
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6291bc4f-6e28-434a-b538-f22cdbf402b8, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 6291bc4f-6e28-434a-b538-f22cdbf402b8, pulando compila√ß√£o direta
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 6291bc4f-6e28-434a-b538-f22cdbf402b8: em processamento
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6291bc4f-6e28-434a-b538-f22cdbf402b8, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2159 caracteres, idioma=es-MX
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 20:18:00 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 20:18:01 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 20:18:01 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 644 caracteres
2025-03-10 20:18:01 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 20:18:01 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: 6291bc4f-6e28-434a-b538-f22cdbf402b8
2025-03-10 20:18:01 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Crea un prompt para generaci√≥n de imagen en espa√±ol latino/mexicano para la miniatura de este video de oraci√≥n:

T√≠tulo: "¬°ANTES DE SALIR DE CASA! ORA..., prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 20:18:02 [SimpleAsyncTaskExecutor-17] ERROR d.l.roteiro.service.ReplicateService - Erro na requisi√ß√£o ao Replicate: Status code 422
2025-03-10 20:18:02 [SimpleAsyncTaskExecutor-17] ERROR d.l.r.s.ImagePromptGenerationService - Erro ao gerar capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
java.io.IOException: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}
	at dev.luisoliveira.roteiro.service.ReplicateService.createPrediction(ReplicateService.java:398)
	at dev.luisoliveira.roteiro.service.ReplicateService.generateImage(ReplicateService.java:324)
	at dev.luisoliveira.roteiro.service.ImagePromptGenerationService.handleDescriptionGeneratedEvent(ImagePromptGenerationService.java:196)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 20:18:02 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6291bc4f-6e28-434a-b538-f22cdbf402b8, stage=Aviso: N√£o foi poss√≠vel gerar a capa: Erro na API do Replicate: 422 - {"title":"Invalid version or not permitted","detail":"The specified version does not exist (or perhaps you don't have permission to use it?)","status":422}, progress=93%
2025-03-10 20:18:02 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 6291bc4f-6e28-434a-b538-f22cdbf402b8: conclu√≠do
2025-03-10 22:29:15 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 22:29:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 22:29:16 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 22:29:16 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 22:29:16 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 22:29:28 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 54948 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 22:29:28 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 22:29:28 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 22:29:30 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 22:29:30 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 22:29:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 22:29:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 22:29:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 22:29:30 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 22:29:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1908 ms
2025-03-10 22:29:31 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 22:29:31 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 22:29:31 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 22:29:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 22:29:31 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.396 seconds (process running for 3.842)
2025-03-10 22:30:02 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 22:30:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 22:30:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 22:30:02 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8 (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 22:30:02 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:02 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=72e1bdef-7be6-4a68-9e7e-ced20287bfc8, idioma=es-MX, titulo=fornecido
2025-03-10 22:30:02 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:02 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo 72e1bdef-7be6-4a68-9e7e-ced20287bfc8: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=72e1bdef-7be6-4a68-9e7e-ced20287bfc8, quantidade=1
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72e1bdef-7be6-4a68-9e7e-ced20287bfc8, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8 com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72e1bdef-7be6-4a68-9e7e-ced20287bfc8, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 22:30:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 1813 caracteres)
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72e1bdef-7be6-4a68-9e7e-ced20287bfc8, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72e1bdef-7be6-4a68-9e7e-ced20287bfc8, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1813 caracteres, idioma=es-MX
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 22:30:08 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:30:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:30:09 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:09 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72e1bdef-7be6-4a68-9e7e-ced20287bfc8, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 22:30:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 402 caracteres
2025-03-10 22:30:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72e1bdef-7be6-4a68-9e7e-ced20287bfc8, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 22:30:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 22:30:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1813 caracteres, idioma=es-MX
2025-03-10 22:30:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 22:30:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 521 caracteres
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 72e1bdef-7be6-4a68-9e7e-ced20287bfc8: em processamento
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72e1bdef-7be6-4a68-9e7e-ced20287bfc8, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 72e1bdef-7be6-4a68-9e7e-ced20287bfc8, pulando compila√ß√£o direta
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 72e1bdef-7be6-4a68-9e7e-ced20287bfc8: em processamento
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72e1bdef-7be6-4a68-9e7e-ced20287bfc8, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=1813 caracteres, idioma=es-MX
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 22:30:12 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:30:14 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:30:14 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 611 caracteres
2025-03-10 22:30:14 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 22:30:14 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: 72e1bdef-7be6-4a68-9e7e-ced20287bfc8
2025-03-10 22:30:14 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Una imagen inspiradora que muestra rayos de luz divina descendiendo del cielo mientras una persona est√° orando, representando protecci√≥n divina y √©xito, ambiente protector, colores brillantes, prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 22:30:14 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Corpo da requisi√ß√£o: {"input":{"aspect_ratio":"16:9","num_outputs":1,"output_format":"jpg","go_fast":true,"megapixels":"1","prompt":"Una imagen inspiradora que muestra rayos de luz divina descendiendo del cielo mientras una persona est√° orando, representando protecci√≥n divina y √©xito, ambiente protector, colores brillantes, prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed","output_quality":80,"num_inference_steps":4},"version":"black-forest-labs/flux-schnell:latest"}
2025-03-10 22:30:15 [SimpleAsyncTaskExecutor-17] ERROR d.l.roteiro.service.ReplicateService - Erro na requisi√ß√£o ao Replicate: Status code 401
2025-03-10 22:30:15 [SimpleAsyncTaskExecutor-17] ERROR d.l.r.s.ImagePromptGenerationService - Erro ao gerar capa: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}
java.io.IOException: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}
	at dev.luisoliveira.roteiro.service.ReplicateService.createPrediction(ReplicateService.java:128)
	at dev.luisoliveira.roteiro.service.ReplicateService.generateImage(ReplicateService.java:53)
	at dev.luisoliveira.roteiro.service.ImagePromptGenerationService.handleDescriptionGeneratedEvent(ImagePromptGenerationService.java:69)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 22:30:15 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72e1bdef-7be6-4a68-9e7e-ced20287bfc8, stage=Aviso: N√£o foi poss√≠vel gerar a capa: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}, progress=93%
2025-03-10 22:30:15 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 72e1bdef-7be6-4a68-9e7e-ced20287bfc8: conclu√≠do
2025-03-10 22:31:51 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 22:31:51 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 22:31:51 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 22:31:51 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 22:31:51 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 22:31:55 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 54728 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 22:31:55 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 22:31:55 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 22:31:56 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 22:31:56 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 22:31:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 22:31:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 22:31:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 22:31:57 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 22:31:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1566 ms
2025-03-10 22:31:58 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 22:31:58 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 22:31:58 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 22:31:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 22:31:58 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.91 seconds (process running for 3.276)
2025-03-10 22:32:29 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 22:32:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 22:32:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 22:32:29 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 22:32:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 22:36:04 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 51196 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 22:36:04 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 22:36:04 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 22:36:05 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 22:36:05 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 22:36:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 22:36:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 22:36:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 22:36:06 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 22:36:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1422 ms
2025-03-10 22:36:07 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 22:36:07 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 22:36:07 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 22:36:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 22:36:07 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.897 seconds (process running for 3.256)
2025-03-10 22:36:51 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 22:36:51 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 22:36:51 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 22:36:51 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 3e50829b-36d1-4bb5-9ac8-348a153de791 (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 22:36:51 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:36:51 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=3e50829b-36d1-4bb5-9ac8-348a153de791, idioma=es-MX, titulo=fornecido
2025-03-10 22:36:51 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:36:51 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo 3e50829b-36d1-4bb5-9ac8-348a153de791: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=3e50829b-36d1-4bb5-9ac8-348a153de791, quantidade=1
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e50829b-36d1-4bb5-9ac8-348a153de791, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 3e50829b-36d1-4bb5-9ac8-348a153de791 com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e50829b-36d1-4bb5-9ac8-348a153de791, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 22:36:51 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 2305 caracteres)
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e50829b-36d1-4bb5-9ac8-348a153de791, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e50829b-36d1-4bb5-9ac8-348a153de791, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2305 caracteres, idioma=es-MX
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 22:36:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:36:58 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:36:58 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:36:58 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e50829b-36d1-4bb5-9ac8-348a153de791, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 22:36:58 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 322 caracteres
2025-03-10 22:36:58 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:36:58 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:36:58 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e50829b-36d1-4bb5-9ac8-348a153de791, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 22:36:58 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 22:36:58 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2305 caracteres, idioma=es-MX
2025-03-10 22:36:58 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 22:36:58 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 710 caracteres
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 3e50829b-36d1-4bb5-9ac8-348a153de791: em processamento
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e50829b-36d1-4bb5-9ac8-348a153de791, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 3e50829b-36d1-4bb5-9ac8-348a153de791, pulando compila√ß√£o direta
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 3e50829b-36d1-4bb5-9ac8-348a153de791: em processamento
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e50829b-36d1-4bb5-9ac8-348a153de791, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2305 caracteres, idioma=es-MX
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 22:37:01 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:37:02 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:37:02 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 323 caracteres
2025-03-10 22:37:02 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 22:37:02 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: 3e50829b-36d1-4bb5-9ac8-348a153de791
2025-03-10 22:37:02 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Una imagen inspiradora que muestra rayos de luz divina descendiendo del cielo mientras una persona est√° orando, representando protecci√≥n divina y √©xito, ambiente protector, colores brillantes, prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 22:37:02 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Corpo da requisi√ß√£o: {"input":{"aspect_ratio":"16:9","num_outputs":1,"output_format":"jpg","go_fast":true,"megapixels":"1","prompt":"Una imagen inspiradora que muestra rayos de luz divina descendiendo del cielo mientras una persona est√° orando, representando protecci√≥n divina y √©xito, ambiente protector, colores brillantes, prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed","output_quality":80,"num_inference_steps":4}}
2025-03-10 22:37:03 [SimpleAsyncTaskExecutor-17] ERROR d.l.roteiro.service.ReplicateService - Erro na requisi√ß√£o ao Replicate: Status code 401
2025-03-10 22:37:03 [SimpleAsyncTaskExecutor-17] ERROR d.l.r.s.ImagePromptGenerationService - Erro ao gerar capa: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}
java.io.IOException: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}
	at dev.luisoliveira.roteiro.service.ReplicateService.createPrediction(ReplicateService.java:128)
	at dev.luisoliveira.roteiro.service.ReplicateService.generateImage(ReplicateService.java:53)
	at dev.luisoliveira.roteiro.service.ImagePromptGenerationService.handleDescriptionGeneratedEvent(ImagePromptGenerationService.java:69)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 22:37:03 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e50829b-36d1-4bb5-9ac8-348a153de791, stage=Aviso: N√£o foi poss√≠vel gerar a capa: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}, progress=93%
2025-03-10 22:37:03 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 3e50829b-36d1-4bb5-9ac8-348a153de791: conclu√≠do
2025-03-10 22:37:58 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 22:37:58 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 22:37:58 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 22:37:58 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 22:37:58 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 22:38:00 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 55292 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 22:38:00 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 22:38:00 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 22:38:01 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 22:38:01 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 22:38:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 22:38:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 22:38:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 22:38:02 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 22:38:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1582 ms
2025-03-10 22:38:03 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 22:38:03 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 22:38:03 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 22:38:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 22:38:03 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.093 seconds (process running for 3.539)
2025-03-10 22:38:17 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 22:38:17 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 22:38:17 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 22:38:17 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: ee8870c2-0ec3-420e-8c0c-4512881df86d (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 22:38:17 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:17 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=ee8870c2-0ec3-420e-8c0c-4512881df86d, idioma=es-MX, titulo=fornecido
2025-03-10 22:38:17 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:17 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo ee8870c2-0ec3-420e-8c0c-4512881df86d: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=ee8870c2-0ec3-420e-8c0c-4512881df86d, quantidade=1
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ee8870c2-0ec3-420e-8c0c-4512881df86d, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: ee8870c2-0ec3-420e-8c0c-4512881df86d com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ee8870c2-0ec3-420e-8c0c-4512881df86d, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 22:38:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 2135 caracteres)
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ee8870c2-0ec3-420e-8c0c-4512881df86d, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ee8870c2-0ec3-420e-8c0c-4512881df86d, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2135 caracteres, idioma=es-MX
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 22:38:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:38:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:38:24 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:24 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ee8870c2-0ec3-420e-8c0c-4512881df86d, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 22:38:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 319 caracteres
2025-03-10 22:38:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:24 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ee8870c2-0ec3-420e-8c0c-4512881df86d, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 22:38:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 22:38:24 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2135 caracteres, idioma=es-MX
2025-03-10 22:38:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 22:38:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 1160 caracteres
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para ee8870c2-0ec3-420e-8c0c-4512881df86d: em processamento
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ee8870c2-0ec3-420e-8c0c-4512881df86d, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para ee8870c2-0ec3-420e-8c0c-4512881df86d, pulando compila√ß√£o direta
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para ee8870c2-0ec3-420e-8c0c-4512881df86d: em processamento
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ee8870c2-0ec3-420e-8c0c-4512881df86d, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2135 caracteres, idioma=es-MX
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 22:38:28 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:38:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:38:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 309 caracteres
2025-03-10 22:38:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 22:38:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: ee8870c2-0ec3-420e-8c0c-4512881df86d
2025-03-10 22:38:29 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Una imagen inspiradora que muestra rayos de luz divina descendiendo del cielo mientras una persona est√° orando, representando protecci√≥n divina y √©xito, ambiente protector, colores brillantes, prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 22:38:29 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Corpo da requisi√ß√£o: {"input":{"aspect_ratio":"16:9","num_outputs":1,"output_format":"jpg","go_fast":true,"megapixels":"1","prompt":"Una imagen inspiradora que muestra rayos de luz divina descendiendo del cielo mientras una persona est√° orando, representando protecci√≥n divina y √©xito, ambiente protector, colores brillantes, prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed","output_quality":80,"num_inference_steps":4}}
2025-03-10 22:38:30 [SimpleAsyncTaskExecutor-17] ERROR d.l.roteiro.service.ReplicateService - Erro na requisi√ß√£o ao Replicate: Status code 401
2025-03-10 22:38:30 [SimpleAsyncTaskExecutor-17] ERROR d.l.r.s.ImagePromptGenerationService - Erro ao gerar capa: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}
java.io.IOException: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}
	at dev.luisoliveira.roteiro.service.ReplicateService.createPrediction(ReplicateService.java:128)
	at dev.luisoliveira.roteiro.service.ReplicateService.generateImage(ReplicateService.java:53)
	at dev.luisoliveira.roteiro.service.ImagePromptGenerationService.handleDescriptionGeneratedEvent(ImagePromptGenerationService.java:69)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 22:38:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ee8870c2-0ec3-420e-8c0c-4512881df86d, stage=Aviso: N√£o foi poss√≠vel gerar a capa: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}, progress=93%
2025-03-10 22:38:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para ee8870c2-0ec3-420e-8c0c-4512881df86d: conclu√≠do
2025-03-10 22:40:04 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 22:40:04 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 22:40:04 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 22:40:04 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 22:40:04 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-10 22:41:05 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 40016 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-10 22:41:05 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-10 22:41:05 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-10 22:41:05 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-10 22:41:05 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-10 22:41:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-10 22:41:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-10 22:41:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-10 22:41:06 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-10 22:41:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1462 ms
2025-03-10 22:41:07 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 22:41:07 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-10 22:41:07 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-10 22:41:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-10 22:41:07 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.874 seconds (process running for 3.786)
2025-03-10 22:41:19 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 22:41:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-10 22:41:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-10 22:41:19 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 4914279a-f0df-4a02-a0ae-c51b33176f75 (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 22:41:19 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:19 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=4914279a-f0df-4a02-a0ae-c51b33176f75, idioma=es-MX, titulo=fornecido
2025-03-10 22:41:19 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:19 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo 4914279a-f0df-4a02-a0ae-c51b33176f75: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=4914279a-f0df-4a02-a0ae-c51b33176f75, quantidade=1
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4914279a-f0df-4a02-a0ae-c51b33176f75, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 4914279a-f0df-4a02-a0ae-c51b33176f75 com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4914279a-f0df-4a02-a0ae-c51b33176f75, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 22:41:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 2365 caracteres)
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4914279a-f0df-4a02-a0ae-c51b33176f75, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4914279a-f0df-4a02-a0ae-c51b33176f75, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2365 caracteres, idioma=es-MX
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 22:41:25 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:41:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:41:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4914279a-f0df-4a02-a0ae-c51b33176f75, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 22:41:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 314 caracteres
2025-03-10 22:41:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:27 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4914279a-f0df-4a02-a0ae-c51b33176f75, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 22:41:27 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 22:41:27 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2365 caracteres, idioma=es-MX
2025-03-10 22:41:27 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 22:41:27 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 552 caracteres
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 4914279a-f0df-4a02-a0ae-c51b33176f75: em processamento
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4914279a-f0df-4a02-a0ae-c51b33176f75, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 4914279a-f0df-4a02-a0ae-c51b33176f75, pulando compila√ß√£o direta
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 4914279a-f0df-4a02-a0ae-c51b33176f75: em processamento
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4914279a-f0df-4a02-a0ae-c51b33176f75, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2365 caracteres, idioma=es-MX
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 22:41:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:41:31 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:41:31 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 464 caracteres
2025-03-10 22:41:31 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 22:41:31 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: 4914279a-f0df-4a02-a0ae-c51b33176f75
2025-03-10 22:41:31 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Una imagen inspiradora que muestra rayos de luz divina descendiendo del cielo mientras una persona est√° orando, representando protecci√≥n divina y √©xito, ambiente protector, colores brillantes, prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 22:41:31 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.service.ReplicateService - Corpo da requisi√ß√£o: {"input":{"aspect_ratio":"16:9","num_outputs":1,"output_format":"jpg","go_fast":true,"megapixels":"1","prompt":"Una imagen inspiradora que muestra rayos de luz divina descendiendo del cielo mientras una persona est√° orando, representando protecci√≥n divina y √©xito, ambiente protector, colores brillantes, prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed","output_quality":80,"num_inference_steps":4}}
2025-03-10 22:41:31 [SimpleAsyncTaskExecutor-17] ERROR d.l.roteiro.service.ReplicateService - Erro na requisi√ß√£o ao Replicate: Status code 401
2025-03-10 22:41:31 [SimpleAsyncTaskExecutor-17] ERROR d.l.r.s.ImagePromptGenerationService - Erro ao gerar capa: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}
java.io.IOException: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}
	at dev.luisoliveira.roteiro.service.ReplicateService.createPrediction(ReplicateService.java:128)
	at dev.luisoliveira.roteiro.service.ReplicateService.generateImage(ReplicateService.java:53)
	at dev.luisoliveira.roteiro.service.ImagePromptGenerationService.handleDescriptionGeneratedEvent(ImagePromptGenerationService.java:69)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-10 22:41:31 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4914279a-f0df-4a02-a0ae-c51b33176f75, stage=Aviso: N√£o foi poss√≠vel gerar a capa: Erro na API do Replicate: 401 - {"title":"Unauthenticated","detail":"You did not pass a valid authentication token","status":401}, progress=93%
2025-03-10 22:41:31 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 4914279a-f0df-4a02-a0ae-c51b33176f75: conclu√≠do
2025-03-10 22:41:58 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de gera√ß√£o com ID: 69b4daa7-838f-4fd5-ad48-4120f43a73d5 (idioma: es-MX, t√≠tulo: fornecido)
2025-03-10 22:41:58 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:41:58 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informa√ß√µes do processo configuradas: processId=69b4daa7-838f-4fd5-ad48-4120f43a73d5, idioma=es-MX, titulo=fornecido
2025-03-10 22:41:58 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:41:58 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - T√≠tulo fornecido diretamente para o processo 69b4daa7-838f-4fd5-ad48-4120f43a73d5: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - T√≠tulos armazenados: processId=69b4daa7-838f-4fd5-ad48-4120f43a73d5, quantidade=1
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=69b4daa7-838f-4fd5-ad48-4120f43a73d5, stage=Usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, progress=40%
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Pulando gera√ß√£o de t√≠tulos e usando t√≠tulo fornecido: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 69b4daa7-838f-4fd5-ad48-4120f43a73d5 com t√≠tulo: ¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=69b4daa7-838f-4fd5-ad48-4120f43a73d5, stage=Gerando ora√ß√£o para o t√≠tulo selecionado..., progress=50%
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando ora√ß√£o...' (50%)
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informa√ß√µes do processo: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, idioma=es-MX
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para ora√ß√£o no idioma: es-MX
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para ora√ß√£o: tema=protecci√≥n de protecion, estilo=Reflexiva, duracao=Padr√£o, titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, idioma=es-MX
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt constru√≠do com sucesso (tamanho: 938 caracteres)
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt constru√≠do: Crea una oraci√≥n en espa√±ol latino/mexicano con el t√≠tulo: "¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS"

Utiliza expresiones, palabras y giros t√≠picos del espa√±ol de M√©xico y Latinoam√©rica. Evita t√©rminos o expresiones propias del espa√±ol de Espa√±a.

Tema: protecci√≥n de protecion
Estilo: Reflexiva
Dura√ß√£o: Padr√£o

A ora√ß√£o deve seguir esta estrutura:
1. Vers√≠culo inicial relevante ("Vers√≠culo del d√≠a:")
2. Introdu√ß√£o com sauda√ß√£o e relev√¢ncia do tema (6-8 linhas)
3. Reflex√£o b√≠blica com passagem relevante (6-8 linhas)
4. Ora√ß√£o principal com:
   - Invoca√ß√£o inicial
   - Desenvolvimento do tema
   - Aplica√ß√£o pr√°tica
   - Pedidos espec√≠ficos
   - Declara√ß√£o de f√©
5. Encerramento com:
   - Recapitula√ß√£o
   - Vers√≠culo final (diferente do inicial)
   - B√™n√ß√£o final
   - Convite para inscri√ß√£o
   - "En el nombre de Jes√∫s, Am√©n"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada √† API OpenAI para gerar ora√ß√£o...
2025-03-10 22:41:58 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da ora√ß√£o armazenado para processo: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Ora√ß√£o gerada com sucesso (tamanho: 2054 caracteres)
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=69b4daa7-838f-4fd5-ad48-4120f43a73d5, stage=Ora√ß√£o gerada com sucesso, progress=70%
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Ora√ß√£o gerada com sucesso' (70%)
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=69b4daa7-838f-4fd5-ad48-4120f43a73d5, stage=Gerando vers√£o short da ora√ß√£o..., progress=75%
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando vers√£o short da ora√ß√£o no idioma: es-MX
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para vers√£o short: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2054 caracteres, idioma=es-MX
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando gera√ß√£o da vers√£o short no idioma: es-MX
2025-03-10 22:42:04 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:42:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:42:05 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do short armazenado para processo: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:42:05 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=69b4daa7-838f-4fd5-ad48-4120f43a73d5, stage=Vers√£o short gerada com sucesso, progress=80%
2025-03-10 22:42:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Vers√£o short gerada com sucesso: 321 caracteres
2025-03-10 22:42:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:42:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:42:05 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=69b4daa7-838f-4fd5-ad48-4120f43a73d5, stage=Gerando descri√ß√£o para YouTube e TikTok..., progress=85%
2025-03-10 22:42:05 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descri√ß√£o para YouTube e TikTok no idioma: es-MX
2025-03-10 22:42:05 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descri√ß√£o: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2054 caracteres, idioma=es-MX
2025-03-10 22:42:05 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando gera√ß√£o da descri√ß√£o no idioma: es-MX
2025-03-10 22:42:05 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conte√∫do da descri√ß√£o armazenado para processo: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descri√ß√£o gerada com sucesso: 705 caracteres
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 69b4daa7-838f-4fd5-ad48-4120f43a73d5: em processamento
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=69b4daa7-838f-4fd5-ad48-4120f43a73d5, stage=Descri√ß√£o gerada com sucesso, progress=90%
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 69b4daa7-838f-4fd5-ad48-4120f43a73d5, pulando compila√ß√£o direta
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 69b4daa7-838f-4fd5-ad48-4120f43a73d5: em processamento
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=69b4daa7-838f-4fd5-ad48-4120f43a73d5, stage=Gerando capa para a ora√ß√£o..., progress=92%
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para imagem de capa no idioma: es-MX
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-23] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para imagem: titulo=¬°ANTES DE SALIR DE CASA! ORACI√ìN MILAGROSA para PROTECCI√ìN DIVINA y √âXITO en TODO lo que HAGAS, tamanho da ora√ß√£o=2054 caracteres, idioma=es-MX
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ImagePromptGenerationService - Gerando prompt para capa via OpenAI...
2025-03-10 22:42:07 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisi√ß√£o ao OpenAI...
2025-03-10 22:42:08 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.OpenAIService - Requisi√ß√£o conclu√≠da com sucesso
2025-03-10 22:42:08 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ImagePromptGenerationService - Prompt de imagem gerado com sucesso: 294 caracteres
2025-03-10 22:42:08 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ImagePromptGenerationService - Gerando imagem via Replicate...
2025-03-10 22:42:08 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.ReplicateService - Iniciando gera√ß√£o de imagem para o processo: 69b4daa7-838f-4fd5-ad48-4120f43a73d5
2025-03-10 22:42:08 [SimpleAsyncTaskExecutor-23] DEBUG d.l.roteiro.service.ReplicateService - Prompt para imagem: Una imagen inspiradora que muestra rayos de luz divina descendiendo del cielo mientras una persona est√° orando, representando protecci√≥n divina y √©xito, ambiente protector, colores brillantes, prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed
2025-03-10 22:43:16 [SimpleAsyncTaskExecutor-23] DEBUG d.l.roteiro.service.ReplicateService - Corpo da requisi√ß√£o: {"input":{"aspect_ratio":"16:9","num_outputs":1,"output_format":"jpg","go_fast":true,"megapixels":"1","prompt":"Una imagen inspiradora que muestra rayos de luz divina descendiendo del cielo mientras una persona est√° orando, representando protecci√≥n divina y √©xito, ambiente protector, colores brillantes, prayer, divine light, holy text, professional photography, inspirational, spiritual, sacred, high quality, detailed","output_quality":80,"num_inference_steps":4}}
2025-03-10 22:43:16 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-10 22:43:16 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-10 22:43:16 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-10 22:43:16 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-10 22:43:16 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
