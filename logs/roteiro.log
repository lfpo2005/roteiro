2025-03-15 08:44:38 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 19388 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 08:44:38 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 08:44:38 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 08:44:39 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 08:44:39 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 08:44:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 08:44:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 08:44:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 08:44:40 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 08:44:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1964 ms
2025-03-15 08:44:41 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 08:44:41 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 08:44:41 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 08:44:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 08:44:41 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.818 seconds (process running for 4.279)
2025-03-15 08:52:05 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 08:52:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 08:52:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 08:52:05 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 08:52:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 09:02:59 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 13320 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 09:02:59 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 09:02:59 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 09:03:00 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 09:03:00 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 09:03:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 09:03:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 09:03:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 09:03:00 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 09:03:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1568 ms
2025-03-15 09:03:01 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:03:01 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 09:03:01 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 09:03:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 09:03:01 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.834 seconds (process running for 3.938)
2025-03-15 09:19:40 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 09:19:40 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 09:19:40 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:19:40 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 09:19:40 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 09:24:09 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 5388 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 09:24:09 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 09:24:09 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 09:24:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 09:24:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 09:24:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 09:24:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 09:24:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 09:24:11 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 09:24:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1414 ms
2025-03-15 09:24:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:24:12 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 09:24:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 09:24:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 09:24:12 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.858 seconds (process running for 3.308)
2025-03-15 09:29:48 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 09:29:48 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 09:29:48 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:29:48 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 09:29:48 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 09:29:52 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 16536 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 09:29:52 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 09:29:52 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 09:29:53 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 09:29:53 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 09:29:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 09:29:54 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 09:29:54 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 09:29:54 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 09:29:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1539 ms
2025-03-15 09:29:54 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:29:54 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 09:29:54 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 09:29:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 09:29:54 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.053 seconds (process running for 3.462)
2025-03-15 09:56:22 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 09:56:22 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 09:56:22 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:56:22 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 09:56:22 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 10:02:19 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 27592 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 10:02:19 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 10:02:19 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 10:02:20 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 10:02:20 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 10:02:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 10:02:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 10:02:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 10:02:21 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 10:02:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1483 ms
2025-03-15 10:02:22 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 10:02:22 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 10:02:22 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 10:02:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 10:02:22 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.864 seconds (process running for 3.278)
2025-03-15 10:20:43 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 12064 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 10:20:43 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 10:20:43 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 10:20:44 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 10:20:44 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 10:20:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 10:20:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 10:20:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 10:20:45 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 10:20:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1600 ms
2025-03-15 10:20:45 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 10:20:45 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 10:20:45 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 10:20:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 10:20:45 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.007 seconds (process running for 3.486)
2025-03-15 10:24:55 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 10:24:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 10:24:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 10:24:55 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 10:24:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 10:24:57 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 1072 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 10:24:57 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 10:24:57 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 10:24:58 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 10:24:58 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 10:24:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 10:24:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 10:24:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 10:24:58 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 10:24:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1433 ms
2025-03-15 10:24:59 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 10:24:59 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 10:24:59 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 10:24:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 10:24:59 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.928 seconds (process running for 3.362)
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 45472ea9-90d3-4dbb-bc33-af55013b0301 (idioma: es-MX, título: não fornecido)
2025-03-15 10:30:47 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:47 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, idioma=es-MX, titulo=não fornecido
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:47 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Gerando títulos..., progress=20%
2025-03-15 10:30:47 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 45472ea9-90d3-4dbb-bc33-af55013b0301 no idioma es-MX
2025-03-15 10:30:47 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=oração benção na saude salmo 91, estilo=Reflexiva, idioma=es-MX, hasObservacoes=false
2025-03-15 10:30:47 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, quantidade=5
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Título selecionado: PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏, progress=45%
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 45472ea9-90d3-4dbb-bc33-af55013b0301 com título: PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=oração benção na saude salmo 91, estilo=Reflexiva, duracao=Padrão, idioma=es-MX
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=oração benção na saude salmo 91, estilo=Reflexiva, duracao=Padrão, titulo=PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏, idioma=es-MX
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 923 caracteres)
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: oração benção na saude salmo 91
Estilo: Reflexiva
Duração: Padrão

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1987 caracteres)
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Oração gerada com sucesso, progress=70%
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Gerando versão short da oração..., progress=75%
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏, tamanho da oração=1987 caracteres, idioma=es-MX
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 419 caracteres
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏, tamanho da oração=1987 caracteres, idioma=es-MX
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 514 caracteres
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 45472ea9-90d3-4dbb-bc33-af55013b0301: em processamento
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Gerando áudio da oração..., progress=88%
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 45472ea9-90d3-4dbb-bc33-af55013b0301, pulando compilação direta
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.s.ImagePromptGenerationService - Geração de imagem desabilitada para o processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 45472ea9-90d3-4dbb-bc33-af55013b0301: concluído
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 10:31:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud_.mp3
2025-03-15 10:31:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud_.mp3
2025-03-15 10:31:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud__short.mp3
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud__short.mp3
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Áudios gerados, compilando conteúdo final..., progress=95%
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final com áudios para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud__meta.txt
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud_.srt
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud__short.srt
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, resultPath=.\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301, progress=100%
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:32:49 [http-nio-8080-exec-5] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9 (idioma: es-MX, título: não fornecido)
2025-03-15 10:32:49 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:49 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, idioma=es-MX, titulo=não fornecido
2025-03-15 10:32:49 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:49 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:49 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Gerando títulos..., progress=20%
2025-03-15 10:32:49 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9 no idioma es-MX
2025-03-15 10:32:49 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=oração de proteção salmo 23, estilo=Reflexiva, idioma=es-MX, hasObservacoes=false
2025-03-15 10:32:49 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, quantidade=5
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Título selecionado: PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏, progress=45%
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9 com título: PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=oração de proteção salmo 23, estilo=Reflexiva, duracao=Padrão, idioma=es-MX
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=oração de proteção salmo 23, estilo=Reflexiva, duracao=Padrão, titulo=PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 918 caracteres)
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: oração de proteção salmo 23
Estilo: Reflexiva
Duração: Padrão

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 2034 caracteres)
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Oração gerada com sucesso, progress=70%
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Gerando versão short da oração..., progress=75%
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-22] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏, tamanho da oração=2034 caracteres, idioma=es-MX
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 307 caracteres
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-23] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏, tamanho da oração=2034 caracteres, idioma=es-MX
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 593 caracteres
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9: em processamento
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Gerando áudio da oração..., progress=88%
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, pulando compilação direta
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.s.ImagePromptGenerationService - Geração de imagem desabilitada para o processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9: concluído
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 10:33:25 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones_.mp3
2025-03-15 10:33:25 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones_.mp3
2025-03-15 10:33:25 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:25 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones__short.mp3
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones__short.mp3
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Áudios gerados, compilando conteúdo final..., progress=95%
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final com áudios para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones__meta.txt
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones_.srt
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones__short.srt
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, resultPath=.\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, progress=100%
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 13:54:43 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 17800 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 13:54:43 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 13:54:43 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 13:54:45 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 13:54:45 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 13:54:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 13:54:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 13:54:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 13:54:46 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 13:54:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2523 ms
2025-03-15 13:54:47 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 13:54:47 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 13:54:47 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 13:54:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 13:54:47 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.792 seconds (process running for 5.384)
2025-03-15 14:10:11 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 14:10:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 14:10:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-15 14:12:21 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 14:12:22 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 14:12:22 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:12:22 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 14:12:22 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 14:12:29 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 23980 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 14:12:29 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 14:12:29 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 14:12:30 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 14:12:30 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 14:12:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 14:12:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 14:12:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 14:12:31 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 14:12:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1727 ms
2025-03-15 14:12:32 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:12:32 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 14:12:32 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 14:12:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 14:12:32 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.621 seconds (process running for 4.077)
2025-03-15 14:12:50 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 14:12:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 14:12:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 14:12:50 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 6f051bc5-da2b-4508-9f77-3ed8643b9599 (idioma: es-MX, título: fornecido)
2025-03-15 14:12:50 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:50 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, idioma=es-MX, titulo=fornecido
2025-03-15 14:12:50 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:50 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:50 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Gerando títulos..., progress=20%
2025-03-15 14:12:50 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 6f051bc5-da2b-4508-9f77-3ed8643b9599 no idioma es-MX
2025-03-15 14:12:50 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=contemplativa, idioma=es-MX, hasObservacoes=true
2025-03-15 14:12:50 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, quantidade=5
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599 com título: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=contemplativa, duracao=Short2, idioma=es-MX
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=contemplativa, duracao=Short2, titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 917 caracteres)
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: contemplativa
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1452 caracteres)
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Oração gerada com sucesso, progress=70%
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Gerando versão short da oração..., progress=75%
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1452 caracteres, idioma=es-MX
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 311 caracteres
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1452 caracteres, idioma=es-MX
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 507 caracteres
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 6f051bc5-da2b-4508-9f77-3ed8643b9599: em processamento
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Geração de áudio desativada para o processo: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 6f051bc5-da2b-4508-9f77-3ed8643b9599, pulando compilação direta
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.s.ImagePromptGenerationService - Geração de imagem desabilitada para o processo: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 6f051bc5-da2b-4508-9f77-3ed8643b9599: concluído
2025-03-15 14:16:00 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 14:16:00 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 14:16:00 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:16:00 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 14:16:00 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 14:16:02 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 9448 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 14:16:02 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 14:16:02 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 14:16:04 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 14:16:04 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 14:16:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 14:16:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 14:16:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 14:16:04 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 14:16:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1772 ms
2025-03-15 14:16:05 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:16:05 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 14:16:05 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 14:16:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 14:16:05 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.606 seconds (process running for 4.276)
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: ac739195-ac2d-4f02-861f-a21662697440 (idioma: es-MX, título: fornecido)
2025-03-15 14:16:58 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:16:58 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=ac739195-ac2d-4f02-861f-a21662697440, idioma=es-MX, titulo=fornecido
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:16:58 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Gerando títulos..., progress=20%
2025-03-15 14:16:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo ac739195-ac2d-4f02-861f-a21662697440 no idioma es-MX
2025-03-15 14:16:58 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 14:16:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=ac739195-ac2d-4f02-861f-a21662697440, quantidade=5
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: ac739195-ac2d-4f02-861f-a21662697440 com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 910 caracteres)
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1841 caracteres)
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Oração gerada com sucesso, progress=70%
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Gerando versão short da oração..., progress=75%
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1841 caracteres, idioma=es-MX
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 300 caracteres
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1841 caracteres, idioma=es-MX
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 596 caracteres
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para ac739195-ac2d-4f02-861f-a21662697440: em processamento
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Geração de áudio desativada para o processo: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para ac739195-ac2d-4f02-861f-a21662697440, pulando compilação direta
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.s.ImagePromptGenerationService - Geração de imagem desabilitada para o processo: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para ac739195-ac2d-4f02-861f-a21662697440: concluído
2025-03-15 14:27:04 [http-nio-8080-exec-7] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0 (idioma: es-MX, título: fornecido)
2025-03-15 14:27:04 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:04 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, idioma=es-MX, titulo=fornecido
2025-03-15 14:27:04 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:04 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:04 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Gerando títulos..., progress=20%
2025-03-15 14:27:04 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 3acab6f1-9840-4fb4-9dbc-6f65461af2c0 no idioma es-MX
2025-03-15 14:27:04 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 14:27:04 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, quantidade=5
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91, progress=45%
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0 com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91, idioma=es-MX
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 904 caracteres)
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1453 caracteres)
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Oração gerada com sucesso, progress=70%
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Gerando versão short da oração..., progress=75%
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91, tamanho da oração=1453 caracteres, idioma=es-MX
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 654 caracteres
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-22] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91, tamanho da oração=1453 caracteres, idioma=es-MX
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 943 caracteres
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 3acab6f1-9840-4fb4-9dbc-6f65461af2c0: em processamento
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Gerando áudio da oração..., progress=88%
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 3acab6f1-9840-4fb4-9dbc-6f65461af2c0, pulando compilação direta
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.ImagePromptGenerationService - Geração de imagem desabilitada para o processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 3acab6f1-9840-4fb4-9dbc-6f65461af2c0: concluído
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 14:27:31 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\3acab6f1-9840-4fb4-9dbc-6f65461af2c0\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91.mp3
2025-03-15 14:27:31 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\3acab6f1-9840-4fb4-9dbc-6f65461af2c0\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91.mp3
2025-03-15 14:27:31 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:31 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\3acab6f1-9840-4fb4-9dbc-6f65461af2c0\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91_short.mp3
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\3acab6f1-9840-4fb4-9dbc-6f65461af2c0\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91_short.mp3
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Áudios gerados, compilando conteúdo final..., progress=95%
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final com áudios para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91_meta.txt
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91.srt
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91_short.srt
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, resultPath=.\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91, progress=100%
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:42:42 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 14:42:42 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 14:42:42 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:42:42 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 14:42:42 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 14:58:25 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 4900 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 14:58:25 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 14:58:25 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 14:58:26 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 14:58:26 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 14:58:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 14:58:26 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 14:58:26 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 14:58:26 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 14:58:26 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1550 ms
2025-03-15 14:58:27 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:58:27 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 14:58:27 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 14:58:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 14:58:27 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.978 seconds (process running for 3.434)
2025-03-15 14:58:42 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 14:58:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 14:58:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 14:59:01 [http-nio-8080-exec-8] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 0f015d6e-ff16-4ac0-921b-94e3db30d1cd (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 14:59:01 [http-nio-8080-exec-8] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 0f015d6e-ff16-4ac0-921b-94e3db30d1cd
2025-03-15 14:59:01 [http-nio-8080-exec-8] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=0f015d6e-ff16-4ac0-921b-94e3db30d1cd, idioma=es-MX, titulo=fornecido, gerarVersaoShort=null, gerarAudio=true
2025-03-15 14:59:01 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "java.lang.Boolean.booleanValue()" because the return value of "dev.luisoliveira.roteiro.dto.GenerationRequest.getGerarVersaoShort()" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.lang.Boolean.booleanValue()" because the return value of "dev.luisoliveira.roteiro.dto.GenerationRequest.getGerarVersaoShort()" is null
	at dev.luisoliveira.roteiro.controller.ContentGenerationController.startGeneration(ContentGenerationController.java:95)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 14:59:36 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 0df76ee7-c30e-4d50-8254-7a1a3611f329 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 14:59:36 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 0df76ee7-c30e-4d50-8254-7a1a3611f329
2025-03-15 14:59:36 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=0df76ee7-c30e-4d50-8254-7a1a3611f329, idioma=es-MX, titulo=fornecido, gerarVersaoShort=null, gerarAudio=true
2025-03-15 14:59:36 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "java.lang.Boolean.booleanValue()" because the return value of "dev.luisoliveira.roteiro.dto.GenerationRequest.getGerarVersaoShort()" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.lang.Boolean.booleanValue()" because the return value of "dev.luisoliveira.roteiro.dto.GenerationRequest.getGerarVersaoShort()" is null
	at dev.luisoliveira.roteiro.controller.ContentGenerationController.startGeneration(ContentGenerationController.java:95)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 15:06:05 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:06:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:06:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:06:05 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:06:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:06:10 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 26628 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:06:10 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:06:10 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:06:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:06:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:06:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:06:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:06:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:06:12 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:06:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2040 ms
2025-03-15 15:06:13 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:06:13 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:06:13 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:06:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:06:13 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.943 seconds (process running for 4.472)
2025-03-15 15:06:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:06:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:06:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 15:06:37 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 1c48cdba-5395-4719-8ef6-fe09bee4b53d (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:06:37 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:37 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:06:37 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:06:37 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:37 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:37 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Gerando títulos..., progress=20%
2025-03-15 15:06:37 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 1c48cdba-5395-4719-8ef6-fe09bee4b53d no idioma es-MX
2025-03-15 15:06:37 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:06:37 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, quantidade=5
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Título selecionado: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d com título: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1457 caracteres)
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1457 caracteres, idioma=es-MX
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 548 caracteres
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1457 caracteres, idioma=es-MX
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 755 caracteres
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Gerando áudio da oração..., progress=88%
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, resultPath=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 15:06:50 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:06:50 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:50 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:07:09 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 15:07:09 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 15:07:09 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:07:09 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 1c48cdba-5395-4719-8ef6-fe09bee4b53d: full=.\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3, short=.\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:12:55 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:12:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:12:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:12:55 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:12:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:13:00 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 22196 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:13:00 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:13:00 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:13:01 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:13:01 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:13:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:13:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:13:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:13:02 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:13:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1791 ms
2025-03-15 15:13:03 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:13:03 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:13:03 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:13:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:13:03 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.567 seconds (process running for 4.081)
2025-03-15 15:13:03 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:13:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:13:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:13:15 [http-nio-8080-exec-7] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:13:15 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:15 [http-nio-8080-exec-7] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:13:15 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:13:15 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:15 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Gerando títulos..., progress=20%
2025-03-15 15:13:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab no idioma es-MX
2025-03-15 15:13:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:13:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, quantidade=5
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 727 caracteres)
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=727 caracteres, idioma=es-MX
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 375 caracteres
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=727 caracteres, idioma=es-MX
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 520 caracteres
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__full.mp3
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab: full=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__full.mp3, short=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:19:07 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:19:07 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:19:07 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:19:07 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:19:07 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:19:14 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 24124 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:19:14 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:19:14 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:19:15 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:19:15 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:19:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:19:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:19:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:19:16 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:19:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2671 ms
2025-03-15 15:19:18 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:19:18 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:19:18 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:19:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:19:18 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 5.125 seconds (process running for 5.751)
2025-03-15 15:19:26 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:19:26 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:19:26 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:19:30 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:19:30 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:30 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:19:30 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:19:30 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:30 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:30 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Gerando títulos..., progress=20%
2025-03-15 15:19:30 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7 no idioma es-MX
2025-03-15 15:19:30 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:19:30 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, quantidade=5
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏, progress=45%
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7 com título: PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏, idioma=es-MX
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 917 caracteres)
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1018 caracteres)
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração Short1 é curta, não é necessário gerar versão short
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7 (duração: Short1)
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏, tamanho da oração=1018 caracteres, idioma=es-MX
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 587 caracteres
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91__full.mp3
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91__meta.txt
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7: full=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91__full.mp3, short=null
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_.srt
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_, progress=100%
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:21:38 [http-nio-8080-exec-8] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:21:38 [http-nio-8080-exec-8] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:38 [http-nio-8080-exec-8] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:21:38 [http-nio-8080-exec-8] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:21:38 [http-nio-8080-exec-8] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:38 [http-nio-8080-exec-8] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:38 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Gerando títulos..., progress=20%
2025-03-15 15:21:38 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d no idioma es-MX
2025-03-15 15:21:38 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:21:38 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, quantidade=5
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Título selecionado: PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏, progress=45%
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d com título: PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏, idioma=es-MX
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 907 caracteres)
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 842 caracteres)
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Duração Short1 é curta, não é necessário gerar versão short
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d (duração: Short1)
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏, tamanho da oração=842 caracteres, idioma=es-MX
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 595 caracteres
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91__full.mp3
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d: full=.\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91__full.mp3, short=null
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91__meta.txt
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_.srt
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, resultPath=.\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_, progress=100%
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:22:54 [http-nio-8080-exec-7] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: ef1facd8-2d64-4baa-9a5f-c225884f4251 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:22:54 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:54 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, idioma=es-MX, titulo=fornecido, gerarVersaoShort=false, gerarAudio=true
2025-03-15 15:22:54 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:54 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:54 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Gerando títulos..., progress=20%
2025-03-15 15:22:54 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo ef1facd8-2d64-4baa-9a5f-c225884f4251 no idioma es-MX
2025-03-15 15:22:54 [SimpleAsyncTaskExecutor-24] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:22:54 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, quantidade=5
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏, progress=45%
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: ef1facd8-2d64-4baa-9a5f-c225884f4251 com título: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Mini, idioma=es-MX
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Mini, titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏, idioma=es-MX
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 902 caracteres)
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Mini

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 800-1.200 caracteres (2-3 minutos)
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1571 caracteres)
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Duração Mini é curta, não é necessário gerar versão short
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo ef1facd8-2d64-4baa-9a5f-c225884f4251 (duração: Mini)
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-27] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏, tamanho da oração=1571 caracteres, idioma=es-MX
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 634 caracteres
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91__full.mp3
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo ef1facd8-2d64-4baa-9a5f-c225884f4251: full=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91__full.mp3, short=null
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91__meta.txt
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_.srt
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_, progress=100%
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:27:54 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:27:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:27:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:27:55 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:27:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:27:59 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 32844 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:27:59 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:27:59 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:28:00 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:28:00 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:28:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:28:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:28:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:28:01 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:28:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1668 ms
2025-03-15 15:28:02 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:28:02 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:28:02 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:28:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:28:02 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.24 seconds (process running for 3.681)
2025-03-15 15:28:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:28:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:28:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:28:21 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 5e6651f3-fae2-4926-8390-5114187cfae2 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:28:21 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:21 [http-nio-8080-exec-4] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:28:21 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=5e6651f3-fae2-4926-8390-5114187cfae2, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:28:21 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:21 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:21 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Gerando títulos..., progress=20%
2025-03-15 15:28:21 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 5e6651f3-fae2-4926-8390-5114187cfae2 no idioma es-MX
2025-03-15 15:28:21 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:28:21 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=5e6651f3-fae2-4926-8390-5114187cfae2, quantidade=5
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏, progress=45%
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 5e6651f3-fae2-4926-8390-5114187cfae2 com título: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏, idioma=es-MX
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 908 caracteres)
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1179 caracteres)
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração Short2 é curta, não é necessário gerar versão short
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 5e6651f3-fae2-4926-8390-5114187cfae2 (duração: Short2)
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏, tamanho da oração=1179 caracteres, idioma=es-MX
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 529 caracteres
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Áudio simulado gerado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp12919765248873478600\full_audio.mp3
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91__full.mp3
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 5e6651f3-fae2-4926-8390-5114187cfae2: full=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91__full.mp3, short=null
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91__meta.txt
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_.srt
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=5e6651f3-fae2-4926-8390-5114187cfae2, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_, progress=100%
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:32:55 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:32:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:32:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:32:55 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:32:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:33:01 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 31508 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:33:01 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:33:01 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:33:02 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:33:02 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:33:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:33:03 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:33:03 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:33:03 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:33:03 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2055 ms
2025-03-15 15:33:04 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:33:04 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:33:04 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:33:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:33:04 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.895 seconds (process running for 4.429)
2025-03-15 15:33:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:33:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:33:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:33:23 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: c6f8c72f-8515-477e-adf3-0d58d4652cfa (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:33:23 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:23 [http-nio-8080-exec-4] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:33:23 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:33:23 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:23 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Gerando títulos..., progress=20%
2025-03-15 15:33:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo c6f8c72f-8515-477e-adf3-0d58d4652cfa no idioma es-MX
2025-03-15 15:33:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:33:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, quantidade=5
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏, progress=45%
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏, idioma=es-MX
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 907 caracteres)
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1470 caracteres)
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração Short2 é curta, não é necessário gerar versão short
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo c6f8c72f-8515-477e-adf3-0d58d4652cfa (duração: Short2)
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏, tamanho da oração=1470 caracteres, idioma=es-MX
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 599 caracteres
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Config: audioApiEnabled=false, audioApiUrl=, sampleAudioPath=audio/sample.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Conteúdo para geração de áudio: título='PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏', tamanho da oração=1470 caracteres, shortContent=null
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Criado diretório temporário para áudio: C:\Users\lfpo2\AppData\Local\Temp\audio-temp9835266356019885799
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - API de TTS não configurada. Usando geração simulada de áudio.
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Gerando áudio simulado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp9835266356019885799\full_audio.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Tentando carregar áudio de amostra de: audio/sample.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] WARN  d.l.r.service.AudioGenerationService - Recurso de áudio de amostra não encontrado: audio/sample.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Criando arquivo MP3 simulado (dummy) para: C:\Users\lfpo2\AppData\Local\Temp\audio-temp9835266356019885799\full_audio.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91__meta.txt
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio simulado gerado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp9835266356019885799\full_audio.mp3 (tamanho: 147000 bytes)
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Arquivo de áudio gerado com sucesso: C:\Users\lfpo2\AppData\Local\Temp\audio-temp9835266356019885799\full_audio.mp3, tamanho=147000 bytes
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_.srt
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_, progress=100%
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91__full.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Arquivos de áudio salvos em: full=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91__full.mp3, short=N/A
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo c6f8c72f-8515-477e-adf3-0d58d4652cfa: full=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91__full.mp3, short=null
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Limpando arquivos temporários...
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Arquivos temporários limpos com sucesso
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:34:29 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:34:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:34:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:34:29 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:34:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:34:33 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 5188 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:34:33 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:34:33 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:34:34 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:34:34 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:34:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:34:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:34:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:34:35 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:34:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1621 ms
2025-03-15 15:34:36 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:34:36 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:34:36 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:34:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:34:36 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.211 seconds (process running for 3.694)
2025-03-15 15:34:36 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:34:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:34:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 15:35:14 [http-nio-8080-exec-7] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 7ecce28e-e61d-4888-8012-7e90be1fd305 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:35:14 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:14 [http-nio-8080-exec-7] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:35:14 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:35:14 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:14 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:14 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Gerando títulos..., progress=20%
2025-03-15 15:35:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 7ecce28e-e61d-4888-8012-7e90be1fd305 no idioma es-MX
2025-03-15 15:35:14 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:35:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, quantidade=5
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, progress=45%
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 7ecce28e-e61d-4888-8012-7e90be1fd305 com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, idioma=es-MX
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 908 caracteres)
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1501 caracteres)
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração Short2 é curta, não é necessário gerar versão short
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 7ecce28e-e61d-4888-8012-7e90be1fd305 (duração: Short2)
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, tamanho da oração=1501 caracteres, idioma=es-MX
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 447 caracteres
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__meta.txt
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_.srt
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_, progress=100%
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Cannot invoke "String.length()" because "text" is null
java.lang.NullPointerException: Cannot invoke "String.length()" because "text" is null
	at dev.luisoliveira.roteiro.service.AudioGenerationService.simulateAudioGeneration(AudioGenerationService.java:99)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:49)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Erro ao gerar áudio: Cannot invoke "String.length()" because "text" is null, progress=0%
2025-03-15 15:37:01 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:37:01 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:37:01 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:37:01 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:37:01 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:37:06 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 5372 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:37:06 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:37:06 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:37:07 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:37:07 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:37:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:37:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:37:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:37:08 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:37:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1803 ms
2025-03-15 15:37:08 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:37:08 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:37:08 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:37:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:37:09 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.404 seconds (process running for 3.905)
2025-03-15 15:37:09 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:37:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:37:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:37:29 [http-nio-8080-exec-9] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: dd343e44-1624-4a19-82f7-3e1eed6d9ace (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:37:29 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:29 [http-nio-8080-exec-9] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:37:29 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:37:29 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:29 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:29 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Gerando títulos..., progress=20%
2025-03-15 15:37:29 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo dd343e44-1624-4a19-82f7-3e1eed6d9ace no idioma es-MX
2025-03-15 15:37:29 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:37:29 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, quantidade=5
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Título selecionado: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, progress=45%
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace com título: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, idioma=es-MX
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1514 caracteres)
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, tamanho da oração=1514 caracteres, idioma=es-MX
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 433 caracteres
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, tamanho da oração=1514 caracteres, idioma=es-MX
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 955 caracteres
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__full.mp3
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__short.mp3
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__meta.txt
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo dd343e44-1624-4a19-82f7-3e1eed6d9ace: full=.\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__full.mp3, short=.\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__short.mp3
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_.srt
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__short.srt
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_, progress=100%
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:40:20 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:40:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:40:20 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:40:20 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:40:20 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:40:26 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 28880 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:40:26 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:40:26 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:40:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:40:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:40:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:40:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:40:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:40:28 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:40:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2188 ms
2025-03-15 15:40:29 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:40:29 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:40:29 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:40:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:40:29 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.296 seconds (process running for 4.82)
2025-03-15 15:40:35 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:40:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:40:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-03-15 15:40:36 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: b73649dd-69ea-485a-959b-ce790c24500b (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:40:36 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:36 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:40:36 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=b73649dd-69ea-485a-959b-ce790c24500b, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:40:36 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:36 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Gerando títulos..., progress=20%
2025-03-15 15:40:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo b73649dd-69ea-485a-959b-ce790c24500b no idioma es-MX
2025-03-15 15:40:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:40:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=b73649dd-69ea-485a-959b-ce790c24500b, quantidade=5
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏, progress=45%
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: b73649dd-69ea-485a-959b-ce790c24500b com título: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏, idioma=es-MX
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 906 caracteres)
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1540 caracteres)
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏, tamanho da oração=1540 caracteres, idioma=es-MX
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 347 caracteres
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏, tamanho da oração=1540 caracteres, idioma=es-MX
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 1024 caracteres
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Config: audioApiEnabled=false, audioApiUrl=, sampleAudioPath=audio/sample.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Conteúdo para geração de áudio: título='PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏', tamanho da oração=1540 caracteres, shortContent=347 caracteres
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Criado diretório temporário para áudio: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - API de TTS não configurada. Usando geração simulada de áudio.
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Gerando áudio simulado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\full_audio.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Tentando carregar áudio de amostra de: audio/sample.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] WARN  d.l.r.service.AudioGenerationService - Recurso de áudio de amostra não encontrado: audio/sample.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Criando arquivo MP3 simulado (dummy) para: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\full_audio.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio simulado gerado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\full_audio.mp3 (tamanho: 154000 bytes)
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Gerando áudio simulado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\short_audio.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Tentando carregar áudio de amostra de: audio/sample.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] WARN  d.l.r.service.AudioGenerationService - Recurso de áudio de amostra não encontrado: audio/sample.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Criando arquivo MP3 simulado (dummy) para: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\short_audio.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio simulado gerado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\short_audio.mp3 (tamanho: 34700 bytes)
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Arquivo de áudio gerado com sucesso: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\full_audio.mp3, tamanho=154000 bytes
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Arquivo de áudio para versão curta gerado com sucesso: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\short_audio.mp3, tamanho=34700 bytes
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__meta.txt
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__full.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__short.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Arquivos de áudio salvos em: full=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__full.mp3, short=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__short.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo b73649dd-69ea-485a-959b-ce790c24500b: full=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__full.mp3, short=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__short.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Limpando arquivos temporários...
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Arquivos temporários limpos com sucesso
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_.srt
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__short.srt
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=b73649dd-69ea-485a-959b-ce790c24500b, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_, progress=100%
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:41:43 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:41:43 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:41:43 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:41:43 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:41:43 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:41:49 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 33176 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:41:49 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:41:49 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:41:50 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:41:50 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:41:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:41:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:41:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:41:51 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:41:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2223 ms
2025-03-15 15:41:52 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:41:52 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:41:52 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:41:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:41:52 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.989 seconds (process running for 4.519)
2025-03-15 15:41:52 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:41:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:41:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-15 15:42:15 [http-nio-8080-exec-9] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:42:15 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:15 [http-nio-8080-exec-9] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:42:15 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:42:15 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:15 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Gerando títulos..., progress=20%
2025-03-15 15:42:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo d9dda36d-fa2c-4e81-8b02-0162cdc19ba1 no idioma es-MX
2025-03-15 15:42:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 15:42:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, quantidade=5
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1 com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1640 caracteres)
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1640 caracteres, idioma=es-MX
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 604 caracteres
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1640 caracteres, idioma=es-MX
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 542 caracteres
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, título='PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏'
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Iniciando salvamento de arquivos para processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, título='PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏'
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Nome de arquivo seguro gerado: 'PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones'
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Verificando/criando diretório de processo: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\audio
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Diretório do processo criado: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Verificando/criando diretório de texto: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Diretório de texto criado: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo de metadados: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_meta.txt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\audio\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_full.mp3
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_meta.txt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo SRT: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones.srt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\audio\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_short.mp3
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo d9dda36d-fa2c-4e81-8b02-0162cdc19ba1: full=.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\audio\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_full.mp3, short=.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\audio\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_short.mp3
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones.srt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo SRT da versão curta: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_short.srt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_short.srt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Todos os arquivos salvos com sucesso no diretório: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, resultPath=.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, progress=100%
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:48:44 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:48:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:48:44 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:48:44 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:48:44 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:48:50 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 17896 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:48:50 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:48:50 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:48:51 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:48:52 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:48:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:48:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:48:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:48:52 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:48:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2164 ms
2025-03-15 15:48:54 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:48:54 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:48:54 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:48:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:48:54 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.741 seconds (process running for 5.261)
2025-03-15 15:49:11 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:49:11 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:49:11 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 15:49:12 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 939caad6-2555-4f73-b890-98691c05f2b7 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:49:12 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:12 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:49:12 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=939caad6-2555-4f73-b890-98691c05f2b7, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:49:12 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:12 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:12 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Gerando títulos..., progress=20%
2025-03-15 15:49:12 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 939caad6-2555-4f73-b890-98691c05f2b7 no idioma es-MX
2025-03-15 15:49:12 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 15:49:12 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=939caad6-2555-4f73-b890-98691c05f2b7, quantidade=5
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 939caad6-2555-4f73-b890-98691c05f2b7 com título: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 910 caracteres)
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1580 caracteres)
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1580 caracteres, idioma=es-MX
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 403 caracteres
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1580 caracteres, idioma=es-MX
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 475 caracteres
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=939caad6-2555-4f73-b890-98691c05f2b7, título='PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏'
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Iniciando salvamento de arquivos para processId=939caad6-2555-4f73-b890-98691c05f2b7, título='PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏'
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Nome de arquivo seguro gerado: 'PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio'
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Nome de arquivo seguro gerado para áudio: 'PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio'
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Verificando/criando diretório de processo: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho base normalizado: D:\WORKSPACE\roteiro\gerados
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Diretório do processo criado: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Verificando/criando diretório de texto: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Diretório do processo criado: D:\WORKSPACE\roteiro\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Diretório de texto criado: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Diretório de áudio criado: D:\WORKSPACE\roteiro\gerados\939caad6-2555-4f73-b890-98691c05f2b7\audio
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo de metadados: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_meta.txt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_meta.txt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo SRT: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio.srt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: D:\WORKSPACE\roteiro\gerados\939caad6-2555-4f73-b890-98691c05f2b7\audio\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_full.mp3
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: D:\WORKSPACE\roteiro\gerados\939caad6-2555-4f73-b890-98691c05f2b7\audio\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio completo: gerados\939caad6-2555-4f73-b890-98691c05f2b7\audio\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_full.mp3
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio curto: gerados\939caad6-2555-4f73-b890-98691c05f2b7\audio\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 939caad6-2555-4f73-b890-98691c05f2b7: full=gerados/939caad6-2555-4f73-b890-98691c05f2b7/audio/PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_full.mp3, short=gerados/939caad6-2555-4f73-b890-98691c05f2b7/audio/PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio.srt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo SRT da versão curta: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_short.srt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_short.srt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Todos os arquivos salvos com sucesso no diretório: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=939caad6-2555-4f73-b890-98691c05f2b7, resultPath=.\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\939caad6-2555-4f73-b890-98691c05f2b7, progress=100%
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:51:12 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:51:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:51:12 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:51:12 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:51:12 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:51:19 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 12744 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:51:19 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:51:19 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:51:20 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:51:20 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:51:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:51:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:51:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:51:22 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:51:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2486 ms
2025-03-15 15:51:23 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:51:23 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:51:23 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:51:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:51:23 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.94 seconds (process running for 5.445)
2025-03-15 15:51:36 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:51:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:51:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:51:38 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: fceb39f5-d79c-4819-b642-930e0189e30f (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:51:38 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:38 [http-nio-8080-exec-4] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:51:38 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=fceb39f5-d79c-4819-b642-930e0189e30f, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:51:38 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:38 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Gerando títulos..., progress=20%
2025-03-15 15:51:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo fceb39f5-d79c-4819-b642-930e0189e30f no idioma es-MX
2025-03-15 15:51:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 15:51:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=fceb39f5-d79c-4819-b642-930e0189e30f, quantidade=5
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: fceb39f5-d79c-4819-b642-930e0189e30f com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 910 caracteres)
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1234 caracteres)
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1234 caracteres, idioma=es-MX
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 374 caracteres
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1234 caracteres, idioma=es-MX
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 460 caracteres
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__full.mp3
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__meta.txt
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.mp3
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo fceb39f5-d79c-4819-b642-930e0189e30f: full=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__full.mp3, short=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.mp3
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.srt
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.srt
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=fceb39f5-d79c-4819-b642-930e0189e30f, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_, progress=100%
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:52:09 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:52:09 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:09 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:52:09 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:52:09 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:09 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:09 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Gerando títulos..., progress=20%
2025-03-15 15:52:09 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 72b0bad3-4a08-43bc-bf4e-425e2e7df07a no idioma es-MX
2025-03-15 15:52:09 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 15:52:09 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, quantidade=5
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a com título: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Standard, idioma=es-MX
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Standard, titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 916 caracteres)
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Standard

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 5.000-6.000 caracteres (15-30 minutos)
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 2613 caracteres)
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=2613 caracteres, idioma=es-MX
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 446 caracteres
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=2613 caracteres, idioma=es-MX
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 432 caracteres
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__full.mp3
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 72b0bad3-4a08-43bc-bf4e-425e2e7df07a: full=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__full.mp3, short=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:55:17 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:55:17 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:55:17 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:55:17 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:55:17 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:55:23 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 33656 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:55:23 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:55:23 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:55:24 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:55:24 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:55:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:55:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:55:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:55:25 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:55:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2315 ms
2025-03-15 15:55:27 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:55:27 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:55:27 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:55:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:55:27 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.398 seconds (process running for 4.982)
2025-03-15 15:56:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:56:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:56:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 15:58:36 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:58:36 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:58:36 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:58:36 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:58:36 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:03:07 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 33100 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:03:07 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:03:07 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:03:08 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:03:08 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:03:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:03:09 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:03:09 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:03:09 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:03:09 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2115 ms
2025-03-15 16:03:10 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:03:10 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:03:10 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:03:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:03:10 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.411 seconds (process running for 4.948)
2025-03-15 16:03:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:03:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:03:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-15 16:03:24 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:03:24 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:24 [http-nio-8080-exec-4] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:03:24 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:03:24 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:24 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Gerando títulos..., progress=20%
2025-03-15 16:03:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1 no idioma es-MX
2025-03-15 16:03:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:03:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, quantidade=5
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Título selecionado: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1 com título: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Standard, idioma=es-MX
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Standard, titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 923 caracteres)
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Standard

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 5.000-6.000 caracteres (15-30 minutos)
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 2868 caracteres)
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏, tamanho da oração=2868 caracteres, idioma=es-MX
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 308 caracteres
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏, tamanho da oração=2868 caracteres, idioma=es-MX
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 505 caracteres
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, título='PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏'
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Nome de arquivo seguro gerado para áudio: 'PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA'
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho base normalizado: D:\WORKSPACE\roteiro\gerados
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Diretório do processo criado: D:\WORKSPACE\roteiro\gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Diretório de áudio criado: D:\WORKSPACE\roteiro\gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1\audio
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: D:\WORKSPACE\roteiro\gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1\audio\PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_full.mp3
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: D:\WORKSPACE\roteiro\gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1\audio\PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_short.mp3
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio completo: gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1\audio\PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_full.mp3
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio curto: gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1\audio\PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_short.mp3
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1: full=gerados/79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1/audio/PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_full.mp3, short=gerados/79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1/audio/PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_short.mp3
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:10:05 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 16:10:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 16:10:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:10:05 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 16:10:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:10:10 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 22464 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:10:10 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:10:10 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:10:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:10:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:10:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:10:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:10:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:10:12 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:10:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1811 ms
2025-03-15 16:10:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:10:12 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:10:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:10:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:10:12 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.49 seconds (process running for 3.961)
2025-03-15 16:10:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:10:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:10:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 16:10:37 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 44fdc1c8-d053-4919-82ba-b6f6be9ce142 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:10:37 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:37 [http-nio-8080-exec-4] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:10:37 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:10:37 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:37 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:37 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Gerando títulos..., progress=20%
2025-03-15 16:10:37 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 44fdc1c8-d053-4919-82ba-b6f6be9ce142 no idioma es-MX
2025-03-15 16:10:37 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:10:37 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, quantidade=5
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142 com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Standard, idioma=es-MX
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Standard, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 915 caracteres)
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Standard

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 5.000-6.000 caracteres (15-30 minutos)
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 2503 caracteres)
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=2503 caracteres, idioma=es-MX
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 368 caracteres
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=2503 caracteres, idioma=es-MX
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 510 caracteres
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Simulando geração de áudio para texto de 2503 caracteres
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Criando dados de áudio simulado com tamanho: 20024 bytes
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Dados de áudio simulado gerados com sucesso: 20024 bytes
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Simulando geração de áudio para texto de 368 caracteres
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Criando dados de áudio simulado com tamanho: 4096 bytes
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Dados de áudio simulado gerados com sucesso: 4096 bytes
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, título='PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏'
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__meta.txt
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.srt
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.srt
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_, progress=100%
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Nome de arquivo seguro gerado para áudio: 'PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio'
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho base normalizado: D:\WORKSPACE\roteiro\gerados
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Diretório do processo criado: D:\WORKSPACE\roteiro\gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Diretório de áudio criado: D:\WORKSPACE\roteiro\gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142\audio
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: D:\WORKSPACE\roteiro\gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142\audio\PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_full.mp3
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: D:\WORKSPACE\roteiro\gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142\audio\PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio completo: gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142\audio\PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_full.mp3
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio curto: gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142\audio\PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 44fdc1c8-d053-4919-82ba-b6f6be9ce142: full=gerados/44fdc1c8-d053-4919-82ba-b6f6be9ce142/audio/PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_full.mp3, short=gerados/44fdc1c8-d053-4919-82ba-b6f6be9ce142/audio/PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:12:21 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 16:12:21 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 16:12:21 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:12:21 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 16:12:21 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:12:26 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 7216 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:12:26 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:12:26 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:12:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:12:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:12:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:12:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:12:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:12:28 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:12:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1713 ms
2025-03-15 16:12:29 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:12:29 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:12:29 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:12:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:12:29 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.586 seconds (process running for 4.652)
2025-03-15 16:12:39 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:12:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:12:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-15 16:12:43 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: faf4c64f-da36-432f-8629-d2c2beb1ae2c (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:12:43 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:43 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:12:43 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:12:43 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:43 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:43 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Gerando títulos..., progress=20%
2025-03-15 16:12:43 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo faf4c64f-da36-432f-8629-d2c2beb1ae2c no idioma es-MX
2025-03-15 16:12:43 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:12:43 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, quantidade=5
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 910 caracteres)
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 873 caracteres)
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=873 caracteres, idioma=es-MX
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 342 caracteres
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=873 caracteres, idioma=es-MX
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 441 caracteres
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__meta.txt
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.srt
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.srt
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_, progress=100%
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:12:57 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:57 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:57 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:13:06 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:13:06 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:13:25 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\faf4c64f-da36-432f-8629-d2c2beb1ae2c\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.mp3
2025-03-15 16:14:10 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\faf4c64f-da36-432f-8629-d2c2beb1ae2c\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.mp3
2025-03-15 16:14:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:14:22 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:14:23 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
2025-03-15 16:14:23 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 16:14:27 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:88)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	... 13 common frames omitted
2025-03-15 16:14:46 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}, progress=89%
2025-03-15 16:15:14 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 231092cd-9d4f-451d-9999-71b5bc87859a (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:15:14 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:14 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:15:14 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=231092cd-9d4f-451d-9999-71b5bc87859a, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:15:14 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:14 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:14 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Gerando títulos..., progress=20%
2025-03-15 16:15:14 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 231092cd-9d4f-451d-9999-71b5bc87859a no idioma es-MX
2025-03-15 16:15:14 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:15:14 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=231092cd-9d4f-451d-9999-71b5bc87859a, quantidade=5
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, progress=45%
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 231092cd-9d4f-451d-9999-71b5bc87859a com título: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 908 caracteres)
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 887 caracteres)
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, tamanho da oração=887 caracteres, idioma=es-MX
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 424 caracteres
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, tamanho da oração=887 caracteres, idioma=es-MX
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 483 caracteres
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones__meta.txt
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_.srt
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones__short.srt
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=231092cd-9d4f-451d-9999-71b5bc87859a, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_, progress=100%
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:23 [SimpleAsyncTaskExecutor-22] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
2025-03-15 16:15:23 [SimpleAsyncTaskExecutor-22] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 16:15:23 [SimpleAsyncTaskExecutor-22] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:88)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	... 13 common frames omitted
2025-03-15 16:15:23 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}, progress=89%
2025-03-15 16:20:43 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 93ea4747-a411-4877-8eac-b521790d8992 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:20:43 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:43 [http-nio-8080-exec-2] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:20:43 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=93ea4747-a411-4877-8eac-b521790d8992, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:20:43 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:43 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:43 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Gerando títulos..., progress=20%
2025-03-15 16:20:43 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 93ea4747-a411-4877-8eac-b521790d8992 no idioma es-MX
2025-03-15 16:20:43 [SimpleAsyncTaskExecutor-24] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:20:43 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=93ea4747-a411-4877-8eac-b521790d8992, quantidade=5
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 93ea4747-a411-4877-8eac-b521790d8992 com título: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1200 caracteres)
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-26] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1200 caracteres, idioma=es-MX
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 692 caracteres
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-27] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1200 caracteres, idioma=es-MX
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 710 caracteres
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=93ea4747-a411-4877-8eac-b521790d8992, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:88)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	... 13 common frames omitted
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}, progress=89%
2025-03-15 16:21:02 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 16:21:02 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 16:21:02 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:21:02 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 16:21:02 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:21:04 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 1932 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:21:04 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:21:04 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:21:05 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:21:05 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:21:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:21:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:21:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:21:06 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:21:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1341 ms
2025-03-15 16:21:07 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:21:07 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:21:07 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:21:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:21:07 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.746 seconds (process running for 3.661)
2025-03-15 16:21:07 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:21:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:21:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-15 16:21:16 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: b69093ac-4527-4086-a1f5-50b040851e85 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:21:16 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:16 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:21:16 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=b69093ac-4527-4086-a1f5-50b040851e85, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:21:16 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:16 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Gerando títulos..., progress=20%
2025-03-15 16:21:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo b69093ac-4527-4086-a1f5-50b040851e85 no idioma es-MX
2025-03-15 16:21:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:21:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=b69093ac-4527-4086-a1f5-50b040851e85, quantidade=5
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe, progress=45%
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: b69093ac-4527-4086-a1f5-50b040851e85 com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe, idioma=es-MX
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 903 caracteres)
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 845 caracteres)
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe, tamanho da oração=845 caracteres, idioma=es-MX
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 641 caracteres
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe, tamanho da oração=845 caracteres, idioma=es-MX
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 509 caracteres
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe_meta.txt
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe.srt
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe_short.srt
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=b69093ac-4527-4086-a1f5-50b040851e85, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe, progress=100%
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe.mp3
2025-03-15 16:21:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe.mp3
2025-03-15 16:21:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe_short.mp3
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe_short.mp3
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo b69093ac-4527-4086-a1f5-50b040851e85: full=.\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe.mp3, short=.\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe_short.mp3
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:25:09 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: b1b00082-418b-448e-802f-dcf214a23a9d (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:25:09 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:09 [http-nio-8080-exec-1] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:25:09 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=b1b00082-418b-448e-802f-dcf214a23a9d, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:25:09 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:09 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:09 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Gerando títulos..., progress=20%
2025-03-15 16:25:09 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo b1b00082-418b-448e-802f-dcf214a23a9d no idioma es-MX
2025-03-15 16:25:09 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:25:09 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=b1b00082-418b-448e-802f-dcf214a23a9d, quantidade=5
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: b1b00082-418b-448e-802f-dcf214a23a9d com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 910 caracteres)
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 922 caracteres)
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=922 caracteres, idioma=es-MX
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 327 caracteres
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=922 caracteres, idioma=es-MX
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 841 caracteres
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__meta.txt
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.srt
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.srt
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=b1b00082-418b-448e-802f-dcf214a23a9d, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_, progress=100%
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:30 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.mp3
2025-03-15 16:25:35 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.mp3
2025-03-15 16:25:36 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:36 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:25:43 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.mp3
2025-03-15 16:25:53 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.mp3
2025-03-15 16:26:36 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 16:26:36 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo b1b00082-418b-448e-802f-dcf214a23a9d: full=.\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.mp3, short=.\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.mp3
2025-03-15 16:26:36 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:26:36 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:28:23 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: e671395a-f3b0-4f47-b835-23b2207b4120 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:28:23 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:28:23 [http-nio-8080-exec-2] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:28:23 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=e671395a-f3b0-4f47-b835-23b2207b4120, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:28:23 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:28:23 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:28:57 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e671395a-f3b0-4f47-b835-23b2207b4120, stage=Gerando títulos..., progress=20%
2025-03-15 16:29:02 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo e671395a-f3b0-4f47-b835-23b2207b4120 no idioma es-MX
2025-03-15 16:29:09 [SimpleAsyncTaskExecutor-24] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:29:12 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:29:15 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:29:18 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=e671395a-f3b0-4f47-b835-23b2207b4120, quantidade=5
2025-03-15 16:29:44 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e671395a-f3b0-4f47-b835-23b2207b4120, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:29:52 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:30:00 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏
2025-03-15 16:30:12 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e671395a-f3b0-4f47-b835-23b2207b4120, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, progress=45%
2025-03-15 16:30:21 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:30:21 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: e671395a-f3b0-4f47-b835-23b2207b4120 com título: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏
2025-03-15 16:30:21 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:30:23 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e671395a-f3b0-4f47-b835-23b2207b4120, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 908 caracteres)
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:30:27 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:30:27 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:30:38 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 16:30:38 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 16:30:38 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:30:38 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 16:30:38 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:30:40 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 8660 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:30:40 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:30:40 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:30:41 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:30:41 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:30:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:30:41 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:30:41 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:30:41 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:30:41 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1330 ms
2025-03-15 16:30:42 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:30:42 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:30:42 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:30:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:30:42 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.807 seconds (process running for 3.603)
2025-03-15 16:30:44 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:30:44 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:30:44 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 16:30:47 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 2248ad37-3787-40c4-8c60-180fe52b1361 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:30:47 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:30:47 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:30:47 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=2248ad37-3787-40c4-8c60-180fe52b1361, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:30:47 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:30:47 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:31:05 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Gerando títulos..., progress=20%
2025-03-15 16:31:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 2248ad37-3787-40c4-8c60-180fe52b1361 no idioma es-MX
2025-03-15 16:31:19 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:31:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:31:29 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:31:44 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=2248ad37-3787-40c4-8c60-180fe52b1361, quantidade=5
2025-03-15 16:31:54 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:31:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:32:04 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏
2025-03-15 16:32:09 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏, progress=45%
2025-03-15 16:32:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:32:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 2248ad37-3787-40c4-8c60-180fe52b1361 com título: PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏
2025-03-15 16:32:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:32:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:32:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:32:24 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:32:24 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:32:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏, idioma=es-MX
2025-03-15 16:32:28 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 913 caracteres)
2025-03-15 16:32:28 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:32:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:32:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:32:34 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:32:34 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:32:34 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 799 caracteres)
2025-03-15 16:33:01 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:33:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:33:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏, tamanho da oração=799 caracteres, idioma=es-MX
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 254 caracteres
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏, tamanho da oração=799 caracteres, idioma=es-MX
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 628 caracteres
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones__meta.txt
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_.srt
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones__short.srt
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=2248ad37-3787-40c4-8c60-180fe52b1361, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_, progress=100%
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:52 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_.mp3
2025-03-15 16:33:52 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_.mp3
2025-03-15 16:33:52 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:52 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones__short.mp3
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones__short.mp3
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 2248ad37-3787-40c4-8c60-180fe52b1361: full=.\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_.mp3, short=.\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones__short.mp3
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:35:13 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:35:13 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:13 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:35:13 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:35:13 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:13 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:13 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Gerando títulos..., progress=20%
2025-03-15 16:35:13 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d no idioma es-MX
2025-03-15 16:35:13 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:35:13 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, quantidade=5
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Título selecionado: PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d com título: PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 913 caracteres)
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:35:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:35:18 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1188 caracteres)
2025-03-15 16:35:18 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:35:21 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:35:25 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:36:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:36:16 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:36:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:36:16 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1188 caracteres, idioma=es-MX
2025-03-15 16:36:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:36:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:36:17 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:36:30 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:36:41 [SimpleAsyncTaskExecutor-20] ERROR d.l.roteiro.service.OpenAIService - Erro ao processar a requisição
java.net.SocketException: Uma conexão estabelecida foi anulada pelo software no computador host
	at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:425)
	at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:445)
	at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:831)
	at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)
	at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)
	at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)
	at java.base/sun.security.ssl.Finished$T13FinishedProducer.onProduceFinished(Finished.java:693)
	at java.base/sun.security.ssl.Finished$T13FinishedProducer.produce(Finished.java:672)
	at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:440)
	at java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1030)
	at java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:893)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)
	at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)
	at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:589)
	at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1451)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1422)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:220)
	at dev.luisoliveira.roteiro.service.OpenAIService.callGpt(OpenAIService.java:76)
	at dev.luisoliveira.roteiro.service.OpenAIService.generateOracao(OpenAIService.java:37)
	at dev.luisoliveira.roteiro.service.ShortGenerationService.handleOracaoGeneratedEvent(ShortGenerationService.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 16:36:42 [SimpleAsyncTaskExecutor-20] ERROR d.l.r.service.ShortGenerationService - Erro ao gerar versão short: Erro ao processar a requisição para OpenAI
java.lang.RuntimeException: Erro ao processar a requisição para OpenAI
	at dev.luisoliveira.roteiro.service.OpenAIService.callGpt(OpenAIService.java:110)
	at dev.luisoliveira.roteiro.service.OpenAIService.generateOracao(OpenAIService.java:37)
	at dev.luisoliveira.roteiro.service.ShortGenerationService.handleOracaoGeneratedEvent(ShortGenerationService.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketException: Uma conexão estabelecida foi anulada pelo software no computador host
	at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:425)
	at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:445)
	at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:831)
	at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)
	at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)
	at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)
	at java.base/sun.security.ssl.Finished$T13FinishedProducer.onProduceFinished(Finished.java:693)
	at java.base/sun.security.ssl.Finished$T13FinishedProducer.produce(Finished.java:672)
	at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:440)
	at java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1030)
	at java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:893)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)
	at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)
	at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:589)
	at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1451)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1422)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:220)
	at dev.luisoliveira.roteiro.service.OpenAIService.callGpt(OpenAIService.java:76)
	... 13 common frames omitted
2025-03-15 16:36:42 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Erro ao gerar versão short: Erro ao processar a requisição para OpenAI, progress=0%
2025-03-15 16:37:45 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 16:37:46 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 16:37:46 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:37:46 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 16:37:46 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:37:48 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 22796 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:37:48 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:37:48 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:37:49 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:37:49 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:37:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:37:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:37:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:37:50 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:37:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1611 ms
2025-03-15 16:37:50 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:37:50 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:37:50 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:37:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:37:51 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.182 seconds (process running for 4.054)
2025-03-15 16:37:55 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:37:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:37:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 16:37:56 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:37:56 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:56 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:37:56 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:37:56 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:56 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:56 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Gerando títulos..., progress=20%
2025-03-15 16:37:56 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo d5e053ce-fcc7-4452-83a8-f4ffc06b43d5 no idioma es-MX
2025-03-15 16:37:56 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:37:56 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, quantidade=5
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5 com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1202 caracteres)
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1202 caracteres, idioma=es-MX
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 438 caracteres
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1202 caracteres, idioma=es-MX
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 584 caracteres
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\d5e053ce-fcc7-4452-83a8-f4ffc06b43d5\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\d5e053ce-fcc7-4452-83a8-f4ffc06b43d5\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:88)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	... 13 common frames omitted
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}, progress=89%
2025-03-15 16:39:48 [http-nio-8080-exec-9] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 1a722371-674f-41a2-b37b-7ff6bc69482b (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:39:48 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:48 [http-nio-8080-exec-9] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:39:48 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:39:48 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:48 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:48 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Gerando títulos..., progress=20%
2025-03-15 16:39:48 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 1a722371-674f-41a2-b37b-7ff6bc69482b no idioma es-MX
2025-03-15 16:39:48 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:39:48 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, quantidade=5
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Título selecionado: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 1a722371-674f-41a2-b37b-7ff6bc69482b com título: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1200 caracteres)
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1200 caracteres, idioma=es-MX
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 469 caracteres
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1200 caracteres, idioma=es-MX
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 405 caracteres
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, resultPath=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:40:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 16:40:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 16:40:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:40:11 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 1a722371-674f-41a2-b37b-7ff6bc69482b: full=.\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3, short=.\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:40:31 [http-nio-8080-exec-10] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 592ab878-b900-4cbb-800e-6a91b96a1db6 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:40:31 [http-nio-8080-exec-10] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:31 [http-nio-8080-exec-10] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:40:31 [http-nio-8080-exec-10] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:40:31 [http-nio-8080-exec-10] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:31 [http-nio-8080-exec-10] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:31 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Gerando títulos..., progress=20%
2025-03-15 16:40:31 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 592ab878-b900-4cbb-800e-6a91b96a1db6 no idioma es-MX
2025-03-15 16:40:31 [SimpleAsyncTaskExecutor-24] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:40:31 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, quantidade=5
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 592ab878-b900-4cbb-800e-6a91b96a1db6 com título: PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 912 caracteres)
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 995 caracteres)
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-26] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏, tamanho da oração=995 caracteres, idioma=es-MX
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 451 caracteres
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-27] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏, tamanho da oração=995 caracteres, idioma=es-MX
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:41:03 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:41:03 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:41:03 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 629 caracteres
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:41:48 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 16:42:05 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 16:42:05 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 16:42:09 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:42:09 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 16:42:09 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:42:09 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:42:09 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:42:21 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:45:34 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:45:44 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:45:44 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:46:03 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\592ab878-b900-4cbb-800e-6a91b96a1db6\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 17:10:17 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\592ab878-b900-4cbb-800e-6a91b96a1db6\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 17:10:17 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 17:10:17 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 17:10:18 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
2025-03-15 17:10:18 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 17:10:18 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:88)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	... 13 common frames omitted
2025-03-15 17:10:18 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}, progress=89%
2025-03-15 17:10:34 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 17:10:34 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 17:10:34 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:10:34 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 17:10:34 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 17:11:06 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 24124 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:11:06 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:11:06 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:11:07 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:11:07 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:11:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:11:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:11:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:11:08 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:11:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1452 ms
2025-03-15 17:11:08 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'audioGenerationService' defined in file [D:\WORKSPACE\roteiro\target\classes\dev\luisoliveira\roteiro\service\AudioGenerationService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'elevenLabsService' defined in file [D:\WORKSPACE\roteiro\target\classes\dev\luisoliveira\roteiro\service\ElevenLabsService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-03-15 17:11:08 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-15 17:11:08 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-15 17:11:08 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in dev.luisoliveira.roteiro.service.ElevenLabsService required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

2025-03-15 17:23:23 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 15460 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:23:23 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:23:23 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:23:24 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:23:24 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:23:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:23:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:23:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:23:25 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:23:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1493 ms
2025-03-15 17:23:26 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:23:26 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 17:23:26 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 17:23:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 17:23:26 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.999 seconds (process running for 3.407)
2025-03-15 17:24:08 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 17:24:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 17:24:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 17:24:15 [http-nio-8080-exec-5] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 15694280-afc8-4392-b2fe-4d0b05160960 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 17:24:15 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:15 [http-nio-8080-exec-5] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 17:24:15 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=15694280-afc8-4392-b2fe-4d0b05160960, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 17:24:15 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:15 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Gerando títulos..., progress=20%
2025-03-15 17:24:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 15694280-afc8-4392-b2fe-4d0b05160960 no idioma es-MX
2025-03-15 17:24:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 17:24:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=15694280-afc8-4392-b2fe-4d0b05160960, quantidade=5
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Título selecionado: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 15694280-afc8-4392-b2fe-4d0b05160960 com título: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1347 caracteres)
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Oração gerada com sucesso, progress=70%
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Gerando versão short da oração..., progress=75%
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1347 caracteres, idioma=es-MX
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 420 caracteres
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1347 caracteres, idioma=es-MX
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 439 caracteres
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Gerando áudio da oração..., progress=88%
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Compilando conteúdo final..., progress=95%
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=15694280-afc8-4392-b2fe-4d0b05160960, resultPath=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=15694280-afc8-4392-b2fe-4d0b05160960, título='PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_'
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci.mp3
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci.mp3
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=15694280-afc8-4392-b2fe-4d0b05160960, título='PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_'
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_short.mp3
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_short.mp3
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 15694280-afc8-4392-b2fe-4d0b05160960: full=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci.mp3, short=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_short.mp3
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:25:56 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 17:25:56 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 17:25:56 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:25:56 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 17:25:56 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 17:25:58 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 15048 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:25:58 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:25:58 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:25:59 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:25:59 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:26:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:26:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:26:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:26:00 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:26:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1548 ms
2025-03-15 17:26:00 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:26:00 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 17:26:00 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 17:26:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 17:26:00 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.913 seconds (process running for 3.313)
2025-03-15 17:26:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 17:26:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 17:26:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 17:27:21 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 01788757-9ea6-492e-b85e-dd19da4b13f2 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 17:27:21 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:21 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 17:27:21 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 17:27:21 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:21 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:21 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Gerando títulos..., progress=20%
2025-03-15 17:27:21 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 01788757-9ea6-492e-b85e-dd19da4b13f2 no idioma es-MX
2025-03-15 17:27:21 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 17:27:21 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, quantidade=5
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Título selecionado: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏, progress=45%
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 01788757-9ea6-492e-b85e-dd19da4b13f2 com título: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏, idioma=es-MX
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 913 caracteres)
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 899 caracteres)
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Oração gerada com sucesso, progress=70%
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Gerando versão short da oração..., progress=75%
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏, tamanho da oração=899 caracteres, idioma=es-MX
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 338 caracteres
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏, tamanho da oração=899 caracteres, idioma=es-MX
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 536 caracteres
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Gerando áudio da oração..., progress=88%
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Compilando conteúdo final..., progress=95%
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n__meta.txt
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_.srt
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n__short.srt
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, resultPath=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_, progress=100%
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:30 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
2025-03-15 17:27:30 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:150)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:97)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:498)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 17:27:30 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:106)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:498)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:150)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:97)
	... 13 common frames omitted
2025-03-15 17:27:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}, progress=89%
2025-03-15 17:34:35 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 17:34:35 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 17:34:35 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:34:35 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 17:34:35 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 17:41:10 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 31256 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:41:10 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:41:10 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:41:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:41:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:41:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:41:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:41:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:41:12 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:41:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1469 ms
2025-03-15 17:41:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:41:12 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 17:41:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 17:41:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 17:41:12 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.882 seconds (process running for 3.322)
2025-03-15 17:41:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 17:41:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 17:41:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 17:41:33 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 17:41:33 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:33 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 17:41:33 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 17:41:33 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:33 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:33 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Gerando títulos..., progress=20%
2025-03-15 17:41:33 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb no idioma es-MX
2025-03-15 17:41:33 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 17:41:33 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, quantidade=5
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏, progress=45%
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏, idioma=es-MX
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 925 caracteres)
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 782 caracteres)
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Oração gerada com sucesso, progress=70%
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Flag gerarVersaoShort é true para o processo 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, gerando versão short
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Gerando versão short da oração..., progress=75%
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏, tamanho da oração=782 caracteres, idioma=es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 315 caracteres
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏, tamanho da oração=782 caracteres, idioma=es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 489 caracteres
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Gerando áudio da oração..., progress=88%
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Compilando conteúdo final..., progress=95%
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia__meta.txt
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_.srt
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia__short.srt
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_, progress=100%
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, título='PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_'
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo.mp3
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo.mp3
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, título='PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_'
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo_short.mp3
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo_short.mp3
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb: full=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo.mp3, short=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo_short.mp3
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:44:04 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 17:44:04 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 17:44:04 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:44:04 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 17:44:04 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 17:44:09 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 37328 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:44:09 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:44:09 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:44:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:44:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:44:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:44:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:44:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:44:10 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:44:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1531 ms
2025-03-15 17:44:11 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:44:11 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 17:44:11 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 17:44:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 17:44:11 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.995 seconds (process running for 3.398)
2025-03-15 17:44:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 17:44:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 17:44:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 17:45:17 [http-nio-8080-exec-10] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 17:45:17 [http-nio-8080-exec-10] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:17 [http-nio-8080-exec-10] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 17:45:17 [http-nio-8080-exec-10] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 17:45:17 [http-nio-8080-exec-10] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:17 [http-nio-8080-exec-10] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Gerando títulos..., progress=20%
2025-03-15 17:45:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo cb9a6dab-7be9-4a9d-b203-af7583a8a1ca no idioma es-MX
2025-03-15 17:45:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Agradecimento a DEUS, estilo=louvor, idioma=es-MX, hasObservacoes=false
2025-03-15 17:45:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, quantidade=5
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Título selecionado: PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏, progress=45%
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca com título: PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Agradecimento a DEUS, estilo=louvor, duracao=Short1, idioma=es-MX
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Agradecimento a DEUS, estilo=louvor, duracao=Short1, titulo=PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏, idioma=es-MX
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 918 caracteres)
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Agradecimento a DEUS
Estilo: louvor
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1329 caracteres)
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Oração gerada com sucesso, progress=70%
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏, tamanho da oração=1329 caracteres, idioma=es-MX
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 564 caracteres
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Gerando áudio da oração..., progress=88%
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Compilando conteúdo final..., progress=95%
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\texto\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud__meta.txt
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\texto\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_.srt
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\texto\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud__short.srt
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, resultPath=.\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_, progress=100%
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, título='PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_'
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND.mp3
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND.mp3
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, título='PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_'
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND_short.mp3
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND_short.mp3
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo cb9a6dab-7be9-4a9d-b203-af7583a8a1ca: full=.\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND.mp3, short=.\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND_short.mp3
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:48:29 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 17:48:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 17:48:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:48:29 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 17:48:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 17:48:33 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 37748 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:48:33 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:48:33 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:48:34 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:48:34 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:48:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:48:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:48:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:48:35 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:48:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1691 ms
2025-03-15 17:48:36 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:48:36 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 17:48:36 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 17:48:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 17:48:36 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.207 seconds (process running for 3.665)
2025-03-15 17:48:55 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 17:48:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 17:48:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 17:49:07 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 02af6a1c-b444-4bac-81fd-2b04f1805815 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 17:49:07 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:07 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 17:49:07 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 17:49:07 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:07 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:07 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Gerando títulos..., progress=20%
2025-03-15 17:49:07 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 02af6a1c-b444-4bac-81fd-2b04f1805815 no idioma es-MX
2025-03-15 17:49:07 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Agradecimento a DEUS, estilo=gratidao, idioma=es-MX, hasObservacoes=false
2025-03-15 17:49:07 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, quantidade=5
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Título selecionado: PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏, progress=45%
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 02af6a1c-b444-4bac-81fd-2b04f1805815 com título: PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Agradecimento a DEUS, estilo=gratidao, duracao=Short1, idioma=es-MX
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Agradecimento a DEUS, estilo=gratidao, duracao=Short1, titulo=PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏, idioma=es-MX
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 918 caracteres)
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Agradecimento a DEUS
Estilo: gratidao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1221 caracteres)
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Oração gerada com sucesso, progress=70%
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏, tamanho da oração=1221 caracteres, idioma=es-MX
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 705 caracteres
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Gerando áudio da oração..., progress=88%
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Compilando conteúdo final..., progress=95%
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\texto\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o__meta.txt
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\texto\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_.srt
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\texto\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o__short.srt
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, resultPath=.\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_, progress=100%
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=02af6a1c-b444-4bac-81fd-2b04f1805815, título='PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_'
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\audio\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDIC.mp3
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\audio\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDIC.mp3
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Pulando geração de áudio short pois não houve geração de versão short personalizada
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 02af6a1c-b444-4bac-81fd-2b04f1805815: full=.\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\audio\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDIC.mp3, short=null
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 18:01:44 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: fc32d741-7d94-49e7-9793-f8f9a37e7c89 (idioma: pt-BR, título: fornecido, gerarVersaoShort: false, gerarAudio: true)
2025-03-15 18:01:44 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:44 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, idioma=pt-BR, titulo=fornecido, gerarVersaoShort=false, gerarAudio=true
2025-03-15 18:01:44 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:44 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:44 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Gerando títulos..., progress=20%
2025-03-15 18:01:44 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo fc32d741-7d94-49e7-9793-f8f9a37e7c89 no idioma pt-BR
2025-03-15 18:01:44 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=louvou a Deus, estilo=louvor, idioma=pt-BR, hasObservacoes=false
2025-03-15 18:01:44 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, quantidade=5
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Título selecionado: PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌, progress=45%
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89 com título: PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=louvou a Deus, estilo=louvor, duracao=Short1, idioma=pt-BR
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: pt-BR
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=louvou a Deus, estilo=louvor, duracao=Short1, titulo=PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌, idioma=pt-BR
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 749 caracteres)
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crie uma oração em português com o título: "PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌"

Tema: louvou a Deus
Estilo: louvor
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1416 caracteres)
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Oração gerada com sucesso, progress=70%
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: pt-BR
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌, tamanho da oração=1416 caracteres, idioma=pt-BR
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: pt-BR
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 521 caracteres
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Gerando áudio da oração..., progress=88%
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Compilando conteúdo final..., progress=95%
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\texto\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor__meta.txt
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\texto\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_.srt
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\texto\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor__short.srt
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, resultPath=.\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_, progress=100%
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, título='PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_'
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\audio\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ES.mp3
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\audio\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ES.mp3
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Pulando geração de áudio short pois não houve geração de versão short personalizada
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo fc32d741-7d94-49e7-9793-f8f9a37e7c89: full=.\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\audio\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ES.mp3, short=null
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:10:31 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 18:10:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 18:10:31 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:10:31 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 18:10:31 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 18:14:26 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 37308 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 18:14:26 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 18:14:26 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 18:14:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 18:14:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 18:14:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 18:14:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 18:14:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 18:14:28 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 18:14:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1522 ms
2025-03-15 18:14:28 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:14:28 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 18:14:28 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 18:14:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 18:14:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@336f49a1]]
2025-03-15 18:14:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 18:14:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 18:14:28 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.106 seconds (process running for 3.52)
2025-03-15 18:15:28 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 18:28:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@336f49a1]]
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 18:30:09 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 37248 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 18:30:09 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 18:30:09 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 18:30:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 18:30:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 18:30:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 18:30:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 18:30:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 18:30:11 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 18:30:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1521 ms
2025-03-15 18:30:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:30:12 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 18:30:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 18:30:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 18:30:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@340afaf8]]
2025-03-15 18:30:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 18:30:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 18:30:12 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.086 seconds (process running for 3.511)
2025-03-15 18:30:36 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 18:30:36 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 18:30:36 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 18:30:36 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 475322a9-cd73-415a-8eb3-884cd5cdd6fc (idioma: es-MX, título: fornecido, gerarVersaoShort: false, gerarAudio: true)
2025-03-15 18:30:36 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:36 [http-nio-8080-exec-3] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROCESS_INITIALIZED, message=Processo iniciado com sucesso, data=0, timestamp=2025-03-15T18:30:36.217402100)
2025-03-15 18:30:36 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, idioma=es-MX, titulo=fornecido, gerarVersaoShort=false, gerarAudio=true
2025-03-15 18:30:36 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:36 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Gerando títulos..., progress=20%
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 20%: Gerando títulos...
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Gerando títulos..., data=20, timestamp=2025-03-15T18:30:36.245401800)
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 475322a9-cd73-415a-8eb3-884cd5cdd6fc no idioma es-MX
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Jesus é o Senhor, estilo=louvor, idioma=es-MX, hasObservacoes=false
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, quantidade=5
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 40%: Títulos gerados com sucesso
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Títulos gerados com sucesso, data=40, timestamp=2025-03-15T18:30:40.819809400)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Título selecionado: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, progress=45%
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 45%: Título selecionado: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Título selecionado: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, data=45, timestamp=2025-03-15T18:30:40.820806600)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.service.NotificationService - Título selecionado para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc com título: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 50%: Gerando oração para o título selecionado...
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=TITLE_SELECTED, message=Título selecionado: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, data=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, timestamp=2025-03-15T18:30:40.821805500)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Gerando oração para o título selecionado..., data=50, timestamp=2025-03-15T18:30:40.821805500)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Jesus é o Senhor, estilo=louvor, duracao=Short1, idioma=es-MX
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Jesus é o Senhor, estilo=louvor, duracao=Short1, titulo=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 912 caracteres)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Jesus é o Senhor
Estilo: louvor
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1166 caracteres)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Oração gerada com sucesso, progress=70%
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 70%: Oração gerada com sucesso
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Oração gerada com sucesso, data=70, timestamp=2025-03-15T18:30:44.472525100)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.service.NotificationService - Oração gerada para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=ORACAO_GENERATED, message=Oração gerada com sucesso, data=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, timestamp=2025-03-15T18:30:44.473524700)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 80%: Versão short não necessária, prosseguindo...
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Versão short não necessária, prosseguindo..., data=80, timestamp=2025-03-15T18:30:44.473524700)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Versão curta gerada para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 85%: Gerando descrição para YouTube e TikTok...
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Gerando descrição para YouTube e TikTok..., data=85, timestamp=2025-03-15T18:30:44.476524700)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=SHORT_GENERATED, message=Versão curta gerada com sucesso, data=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, timestamp=2025-03-15T18:30:44.476524700)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, tamanho da oração=1166 caracteres, idioma=es-MX
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 786 caracteres
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 90%: Descrição gerada com sucesso
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Descrição gerada com sucesso, data=90, timestamp=2025-03-15T18:30:47.270448400)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Gerando áudio da oração..., progress=88%
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 88%: Gerando áudio da oração...
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Gerando áudio da oração..., data=88, timestamp=2025-03-15T18:30:47.271759100)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.NotificationService - Descrição gerada para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Compilando conteúdo final..., progress=95%
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 95%: Compilando conteúdo final...
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=DESCRIPTION_GENERATED, message=Descrição gerada com sucesso, data=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, timestamp=2025-03-15T18:30:47.271759100)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Compilando conteúdo final..., data=95, timestamp=2025-03-15T18:30:47.271759100)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones__meta.txt
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_.srt
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones__short.srt
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, resultPath=.\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=RESULT_STORED, message=Arquivos gerados e armazenados com sucesso, data=.\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_, timestamp=2025-03-15T18:30:47.279767600)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_, progress=100%
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 100%: Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_, data=100, timestamp=2025-03-15T18:30:47.280767200)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.NotificationService - Enviando notificação de conclusão para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROCESS_COMPLETED, message=Processo concluído com sucesso!, data=.\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_, timestamp=2025-03-15T18:30:47.281765500)
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, título='PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_'
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_O.mp3
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_O.mp3
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Pulando geração de áudio short pois não houve geração de versão short personalizada
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 90%: Áudio gerado com sucesso
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Áudio gerado com sucesso, data=90, timestamp=2025-03-15T18:31:06.721425)
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 475322a9-cd73-415a-8eb3-884cd5cdd6fc: full=.\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_O.mp3, short=null
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.NotificationService - Áudio gerado para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=AUDIO_GENERATED, message=Áudio gerado com sucesso, data=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, timestamp=2025-03-15T18:31:06.723434)
2025-03-15 18:31:12 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 18:47:28 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@340afaf8]]
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 18:47:32 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 39036 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 18:47:32 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 18:47:32 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 18:47:33 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 18:47:33 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 18:47:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 18:47:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 18:47:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 18:47:34 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 18:47:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1691 ms
2025-03-15 18:47:34 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:47:34 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 18:47:34 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 18:47:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 18:47:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@24d8f87a]]
2025-03-15 18:47:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 18:47:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 18:47:35 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.496 seconds (process running for 3.945)
2025-03-15 18:48:34 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c (idioma: pt-BR, título: fornecido, gerarVersaoShort: false, gerarAudio: true)
2025-03-15 18:53:24 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROCESS_INITIALIZED, message=Processo iniciado com sucesso, data=0, timestamp=2025-03-15T18:53:24.181119800)
2025-03-15 18:53:24 [http-nio-8080-exec-1] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:24 [http-nio-8080-exec-1] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:24 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, idioma=pt-BR, titulo=fornecido, gerarVersaoShort=false, gerarAudio=true
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Gerando títulos..., progress=20%
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 20%: Gerando títulos...
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Gerando títulos..., data=20, timestamp=2025-03-15T18:53:24.205119200)
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c no idioma pt-BR
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=proteção para dormir , estilo=intercessoria, idioma=pt-BR, hasObservacoes=false
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, quantidade=5
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 40%: Títulos gerados com sucesso
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Títulos gerados com sucesso, data=40, timestamp=2025-03-15T18:53:27.173729200)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, progress=45%
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 45%: Título selecionado: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Título selecionado: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, data=45, timestamp=2025-03-15T18:53:27.175731400)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.service.NotificationService - Recebido evento de título selecionado para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c com título: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 50%: Gerando oração para o título selecionado...
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=TITLE_SELECTED, message=Título selecionado: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, data=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, timestamp=2025-03-15T18:53:27.177730200)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Gerando oração para o título selecionado..., data=50, timestamp=2025-03-15T18:53:27.177730200)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=proteção para dormir , estilo=intercessoria, duracao=Short1, idioma=pt-BR
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: pt-BR
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=proteção para dormir , estilo=intercessoria, duracao=Short1, titulo=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, idioma=pt-BR
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 753 caracteres)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crie uma oração em português com o título: "PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏"

Tema: proteção para dormir 
Estilo: intercessoria
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 914 caracteres)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Oração gerada com sucesso, progress=70%
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 70%: Oração gerada com sucesso
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Oração gerada com sucesso, data=70, timestamp=2025-03-15T18:53:30.015860500)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.service.NotificationService - Recebido evento de oração gerada para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=ORACAO_GENERATED, message=Oração gerada com sucesso, data=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, timestamp=2025-03-15T18:53:30.017860)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 80%: Versão short não necessária, prosseguindo...
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Versão short não necessária, prosseguindo..., data=80, timestamp=2025-03-15T18:53:30.017860)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 85%: Gerando descrição para YouTube e TikTok...
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Recebido evento de versão curta gerada para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Gerando descrição para YouTube e TikTok..., data=85, timestamp=2025-03-15T18:53:30.019864600)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=SHORT_GENERATED, message=Versão curta gerada com sucesso, data=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, timestamp=2025-03-15T18:53:30.019864600)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: pt-BR
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, tamanho da oração=914 caracteres, idioma=pt-BR
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: pt-BR
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 765 caracteres
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 90%: Descrição gerada com sucesso
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Descrição gerada com sucesso, data=90, timestamp=2025-03-15T18:53:32.897348400)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Gerando áudio da oração..., progress=88%
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 88%: Gerando áudio da oração...
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Gerando áudio da oração..., data=88, timestamp=2025-03-15T18:53:32.904347)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.NotificationService - Recebido evento de descrição gerada para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Compilando conteúdo final..., progress=95%
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 95%: Compilando conteúdo final...
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=DESCRIPTION_GENERATED, message=Descrição gerada com sucesso, data=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, timestamp=2025-03-15T18:53:32.904347)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Compilando conteúdo final..., data=95, timestamp=2025-03-15T18:53:32.904347)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\texto\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o__meta.txt
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\texto\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_.srt
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\texto\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o__short.srt
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=RESULT_STORED, message=Arquivos gerados e armazenados com sucesso, data=.\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_, timestamp=2025-03-15T18:53:32.916360100)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_, progress=100%
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 100%: Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_, data=100, timestamp=2025-03-15T18:53:32.917355800)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.NotificationService - Recebido evento de conclusão para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROCESS_COMPLETED, message=Processo concluído com sucesso!, data=.\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_, timestamp=2025-03-15T18:53:32.918359200)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, título='PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_'
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\audio\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_or.mp3
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\audio\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_or.mp3
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Pulando geração de áudio short pois não houve geração de versão short personalizada
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 90%: Áudio gerado com sucesso
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Áudio gerado com sucesso, data=90, timestamp=2025-03-15T18:53:48.956905600)
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: full=.\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\audio\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_or.mp3, short=null
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.NotificationService - Recebido evento de áudio gerado para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=AUDIO_GENERATED, message=Áudio gerado com sucesso, data=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, timestamp=2025-03-15T18:53:48.958916)
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 19:07:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@24d8f87a]]
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 19:07:28 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 42828 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 19:07:28 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 19:07:28 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 19:07:29 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 19:07:29 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 19:07:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 19:07:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 19:07:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 19:07:29 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 19:07:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1622 ms
2025-03-15 19:07:30 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 19:07:30 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 19:07:30 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 19:07:30 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 19:07:30 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@36d582cb]]
2025-03-15 19:07:30 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 19:07:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 19:07:30 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.344 seconds (process running for 3.814)
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 4c2e51cc-7793-492d-b21b-dd82418d285f (idioma: es-MX, título: fornecido, gerarVersaoShort: false, gerarAudio: false)
2025-03-15 19:08:00 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:00 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, idioma=es-MX, titulo=fornecido, gerarVersaoShort=false, gerarAudio=false
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Gerando títulos..., progress=20%
2025-03-15 19:08:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 4c2e51cc-7793-492d-b21b-dd82418d285f no idioma es-MX
2025-03-15 19:08:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Jesus é o Senhor, estilo=meditativa, idioma=es-MX, hasObservacoes=false
2025-03-15 19:08:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, quantidade=5
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Título selecionado: PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz, progress=45%
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 4c2e51cc-7793-492d-b21b-dd82418d285f com título: PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Jesus é o Senhor, estilo=meditativa, duracao=Short1, idioma=es-MX
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Jesus é o Senhor, estilo=meditativa, duracao=Short1, titulo=PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz, idioma=es-MX
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 902 caracteres)
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Jesus é o Senhor
Estilo: meditativa
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 945 caracteres)
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Oração gerada com sucesso, progress=70%
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz, tamanho da oração=945 caracteres, idioma=es-MX
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 480 caracteres
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Geração de áudio desativada para o processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Compilando conteúdo final..., progress=95%
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz\texto\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz_meta.txt
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz\texto\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz.srt
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz\texto\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz_short.srt
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, resultPath=.\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz, progress=100%
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação de conclusão para o processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/4c2e51cc-7793-492d-b21b-dd82418d285f: NotificationMessage(processId=4c2e51cc-7793-492d-b21b-dd82418d285f, type=PROCESS_COMPLETED, message=Processo concluído com sucesso!, data=.\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz, timestamp=2025-03-15T19:08:06.924446700)
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 19:08:30 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 19:14:02 [http-nio-8080-exec-8] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 105577 ms. Closing XhrStreamingSockJsSession[id=qrmqpszv].
2025-03-15 19:14:02 [http-nio-8080-exec-8] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 107159 ms. Closing WebSocketServerSockJsSession[id=px3dhnza].
2025-03-15 19:14:31 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 89c9ef30-7469-41f6-8b09-31554ff545ea (idioma: pt-BR, título: fornecido, gerarVersaoShort: false, gerarAudio: false)
2025-03-15 19:14:31 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:31 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, idioma=pt-BR, titulo=fornecido, gerarVersaoShort=false, gerarAudio=false
2025-03-15 19:14:31 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:31 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:31 [SimpleAsyncTaskExecutor-45] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Gerando títulos..., progress=20%
2025-03-15 19:14:31 [SimpleAsyncTaskExecutor-45] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 89c9ef30-7469-41f6-8b09-31554ff545ea no idioma pt-BR
2025-03-15 19:14:31 [SimpleAsyncTaskExecutor-45] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Jesus é o Senhor, estilo=contemplativa, idioma=pt-BR, hasObservacoes=false
2025-03-15 19:14:31 [SimpleAsyncTaskExecutor-45] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, quantidade=5
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Título selecionado: PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏, progress=45%
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 89c9ef30-7469-41f6-8b09-31554ff545ea com título: PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Jesus é o Senhor, estilo=contemplativa, duracao=Short1, idioma=pt-BR
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: pt-BR
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Jesus é o Senhor, estilo=contemplativa, duracao=Short1, titulo=PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏, idioma=pt-BR
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 742 caracteres)
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crie uma oração em português com o título: "PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏"

Tema: Jesus é o Senhor
Estilo: contemplativa
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1178 caracteres)
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Oração gerada com sucesso, progress=70%
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-53] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-53] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: pt-BR
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-53] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏, tamanho da oração=1178 caracteres, idioma=pt-BR
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-53] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: pt-BR
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-53] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 562 caracteres
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-54] INFO  d.l.r.service.AudioGenerationService - Geração de áudio desativada para o processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Compilando conteúdo final..., progress=95%
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_\texto\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n__meta.txt
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_\texto\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_.srt
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_\texto\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n__short.srt
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, resultPath=.\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_, progress=100%
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-56] INFO  d.l.r.service.NotificationService - Enviando notificação de conclusão para o processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-56] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/89c9ef30-7469-41f6-8b09-31554ff545ea: NotificationMessage(processId=89c9ef30-7469-41f6-8b09-31554ff545ea, type=PROCESS_COMPLETED, message=Processo concluído com sucesso!, data=.\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_, timestamp=2025-03-15T19:14:39.032668800)
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-56] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-56] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-56] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 19:15:12 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 761ca465-780d-42e5-9904-c87c4508035a (idioma: pt-BR, título: fornecido, gerarVersaoShort: false, gerarAudio: false)
2025-03-15 19:15:12 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:12 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=761ca465-780d-42e5-9904-c87c4508035a, idioma=pt-BR, titulo=fornecido, gerarVersaoShort=false, gerarAudio=false
2025-03-15 19:15:12 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:12 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:12 [SimpleAsyncTaskExecutor-67] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Gerando títulos..., progress=20%
2025-03-15 19:15:12 [SimpleAsyncTaskExecutor-67] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 761ca465-780d-42e5-9904-c87c4508035a no idioma pt-BR
2025-03-15 19:15:12 [SimpleAsyncTaskExecutor-67] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=louvou a Deus, estilo=contemplativa, idioma=pt-BR, hasObservacoes=false
2025-03-15 19:15:12 [SimpleAsyncTaskExecutor-67] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:15:12 [http-nio-8080-exec-5] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 70041 ms. Closing WebSocketServerSockJsSession[id=po3amtmw].
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=761ca465-780d-42e5-9904-c87c4508035a, quantidade=5
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Título selecionado: PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏, progress=45%
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 761ca465-780d-42e5-9904-c87c4508035a com título: PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=louvou a Deus, estilo=contemplativa, duracao=Short1, idioma=pt-BR
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: pt-BR
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=louvou a Deus, estilo=contemplativa, duracao=Short1, titulo=PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏, idioma=pt-BR
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 749 caracteres)
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crie uma oração em português com o título: "PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏"

Tema: louvou a Deus
Estilo: contemplativa
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1196 caracteres)
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Oração gerada com sucesso, progress=70%
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-76] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-76] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: pt-BR
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-76] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏, tamanho da oração=1196 caracteres, idioma=pt-BR
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-76] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: pt-BR
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-76] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 498 caracteres
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-77] INFO  d.l.r.service.AudioGenerationService - Geração de áudio desativada para o processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Compilando conteúdo final..., progress=95%
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_\texto\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus__meta.txt
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_\texto\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_.srt
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_\texto\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus__short.srt
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=761ca465-780d-42e5-9904-c87c4508035a, resultPath=.\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_, progress=100%
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-79] INFO  d.l.r.service.NotificationService - Enviando notificação de conclusão para o processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-79] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/761ca465-780d-42e5-9904-c87c4508035a: NotificationMessage(processId=761ca465-780d-42e5-9904-c87c4508035a, type=PROCESS_COMPLETED, message=Processo concluído com sucesso!, data=.\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_, timestamp=2025-03-15T19:15:22.494407600)
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-79] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-79] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-79] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 19:31:28 [http-nio-8080-exec-4] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 135135 ms. Closing WebSocketServerSockJsSession[id=mo44vtqc].
2025-03-15 19:36:19 [http-nio-8080-exec-3] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 291191 ms. Closing WebSocketServerSockJsSession[id=xu0w3k3d].
2025-03-15 19:38:30 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[3 current WS(3)-HttpStream(0)-HttpPoll(0), 26 total, 5 closed abnormally (5 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(18)-CONNECTED(18)-DISCONNECT(11)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 488]
2025-03-15 19:41:29 [http-nio-8080-exec-1] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 60424 ms. Closing WebSocketServerSockJsSession[id=3uek0ejj].
