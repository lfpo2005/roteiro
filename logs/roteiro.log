2025-03-15 08:44:38 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 19388 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 08:44:38 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 08:44:38 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 08:44:39 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 08:44:39 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 08:44:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 08:44:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 08:44:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 08:44:40 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 08:44:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1964 ms
2025-03-15 08:44:41 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 08:44:41 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 08:44:41 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 08:44:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 08:44:41 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.818 seconds (process running for 4.279)
2025-03-15 08:52:05 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 08:52:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 08:52:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 08:52:05 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 08:52:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 09:02:59 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 13320 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 09:02:59 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 09:02:59 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 09:03:00 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 09:03:00 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 09:03:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 09:03:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 09:03:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 09:03:00 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 09:03:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1568 ms
2025-03-15 09:03:01 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:03:01 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 09:03:01 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 09:03:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 09:03:01 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.834 seconds (process running for 3.938)
2025-03-15 09:19:40 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 09:19:40 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 09:19:40 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:19:40 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 09:19:40 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 09:24:09 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 5388 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 09:24:09 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 09:24:09 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 09:24:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 09:24:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 09:24:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 09:24:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 09:24:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 09:24:11 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 09:24:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1414 ms
2025-03-15 09:24:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:24:12 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 09:24:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 09:24:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 09:24:12 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.858 seconds (process running for 3.308)
2025-03-15 09:29:48 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 09:29:48 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 09:29:48 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:29:48 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 09:29:48 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 09:29:52 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 16536 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 09:29:52 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 09:29:52 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 09:29:53 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 09:29:53 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 09:29:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 09:29:54 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 09:29:54 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 09:29:54 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 09:29:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1539 ms
2025-03-15 09:29:54 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:29:54 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 09:29:54 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 09:29:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 09:29:54 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.053 seconds (process running for 3.462)
2025-03-15 09:56:22 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 09:56:22 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 09:56:22 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 09:56:22 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 09:56:22 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 10:02:19 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 27592 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 10:02:19 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 10:02:19 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 10:02:20 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 10:02:20 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 10:02:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 10:02:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 10:02:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 10:02:21 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 10:02:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1483 ms
2025-03-15 10:02:22 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 10:02:22 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 10:02:22 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 10:02:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 10:02:22 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.864 seconds (process running for 3.278)
2025-03-15 10:20:43 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 12064 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 10:20:43 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 10:20:43 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 10:20:44 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 10:20:44 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 10:20:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 10:20:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 10:20:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 10:20:45 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 10:20:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1600 ms
2025-03-15 10:20:45 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 10:20:45 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 10:20:45 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 10:20:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 10:20:45 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.007 seconds (process running for 3.486)
2025-03-15 10:24:55 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 10:24:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 10:24:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 10:24:55 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 10:24:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 10:24:57 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 1072 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 10:24:57 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 10:24:57 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 10:24:58 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 10:24:58 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 10:24:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 10:24:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 10:24:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 10:24:58 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 10:24:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1433 ms
2025-03-15 10:24:59 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 10:24:59 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 10:24:59 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 10:24:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 10:24:59 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.928 seconds (process running for 3.362)
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 45472ea9-90d3-4dbb-bc33-af55013b0301 (idioma: es-MX, título: não fornecido)
2025-03-15 10:30:47 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:47 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, idioma=es-MX, titulo=não fornecido
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:47 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:47 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Gerando títulos..., progress=20%
2025-03-15 10:30:47 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 45472ea9-90d3-4dbb-bc33-af55013b0301 no idioma es-MX
2025-03-15 10:30:47 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=oração benção na saude salmo 91, estilo=Reflexiva, idioma=es-MX, hasObservacoes=false
2025-03-15 10:30:47 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, quantidade=5
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Título selecionado: PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏, progress=45%
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 45472ea9-90d3-4dbb-bc33-af55013b0301 com título: PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=oração benção na saude salmo 91, estilo=Reflexiva, duracao=Padrão, idioma=es-MX
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=oração benção na saude salmo 91, estilo=Reflexiva, duracao=Padrão, titulo=PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏, idioma=es-MX
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 923 caracteres)
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: oração benção na saude salmo 91
Estilo: Reflexiva
Duração: Padrão

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 10:30:49 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1987 caracteres)
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Oração gerada com sucesso, progress=70%
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Gerando versão short da oração..., progress=75%
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏, tamanho da oração=1987 caracteres, idioma=es-MX
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 10:30:55 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 419 caracteres
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE BENDICIÓN Y SALUD SEGÚN SALMO 91 #oración #salud 🙏, tamanho da oração=1987 caracteres, idioma=es-MX
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 10:30:56 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 514 caracteres
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 45472ea9-90d3-4dbb-bc33-af55013b0301: em processamento
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Gerando áudio da oração..., progress=88%
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 45472ea9-90d3-4dbb-bc33-af55013b0301, pulando compilação direta
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.s.ImagePromptGenerationService - Geração de imagem desabilitada para o processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 45472ea9-90d3-4dbb-bc33-af55013b0301: concluído
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:30:58 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 10:31:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud_.mp3
2025-03-15 10:31:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud_.mp3
2025-03-15 10:31:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud__short.mp3
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud__short.mp3
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Áudios gerados, compilando conteúdo final..., progress=95%
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final com áudios para processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud__meta.txt
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud_.srt
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301\PODEROSA_ORACI_N_DE_BENDICI_N_Y_SALUD_SEG_N_SALMO_91_oraci_n_salud__short.srt
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, resultPath=.\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=45472ea9-90d3-4dbb-bc33-af55013b0301, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301, progress=100%
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:31:29 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 45472ea9-90d3-4dbb-bc33-af55013b0301
2025-03-15 10:32:49 [http-nio-8080-exec-5] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9 (idioma: es-MX, título: não fornecido)
2025-03-15 10:32:49 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:49 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, idioma=es-MX, titulo=não fornecido
2025-03-15 10:32:49 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:49 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:49 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Gerando títulos..., progress=20%
2025-03-15 10:32:49 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9 no idioma es-MX
2025-03-15 10:32:49 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=oração de proteção salmo 23, estilo=Reflexiva, idioma=es-MX, hasObservacoes=false
2025-03-15 10:32:49 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, quantidade=5
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Título selecionado: PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏, progress=45%
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9 com título: PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=oração de proteção salmo 23, estilo=Reflexiva, duracao=Padrão, idioma=es-MX
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=oração de proteção salmo 23, estilo=Reflexiva, duracao=Padrão, titulo=PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 918 caracteres)
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: oração de proteção salmo 23
Estilo: Reflexiva
Duração: Padrão

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 1.800-2.200 caracteres (5 minutos)
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 10:32:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 2034 caracteres)
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Oração gerada com sucesso, progress=70%
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Gerando versão short da oração..., progress=75%
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-22] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏, tamanho da oração=2034 caracteres, idioma=es-MX
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 10:32:56 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 307 caracteres
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-23] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE PROTECCIÓN SEGÚN SALMO 23 #oración #bendiciones 🙏, tamanho da oração=2034 caracteres, idioma=es-MX
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 10:32:57 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 593 caracteres
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9: em processamento
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Gerando áudio da oração..., progress=88%
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, pulando compilação direta
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.s.ImagePromptGenerationService - Geração de imagem desabilitada para o processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9: concluído
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:32:59 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 10:33:25 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones_.mp3
2025-03-15 10:33:25 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones_.mp3
2025-03-15 10:33:25 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:25 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones__short.mp3
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones__short.mp3
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Áudios gerados, compilando conteúdo final..., progress=95%
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final com áudios para processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones__meta.txt
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones_.srt
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9\PODEROSA_ORACI_N_DE_PROTECCI_N_SEG_N_SALMO_23_oraci_n_bendiciones__short.srt
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, resultPath=.\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9, progress=100%
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 10:33:29 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: a9656f5d-3f06-4b8d-a7f4-b4d8ef866db9
2025-03-15 13:54:43 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 17800 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 13:54:43 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 13:54:43 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 13:54:45 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 13:54:45 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 13:54:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 13:54:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 13:54:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 13:54:46 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 13:54:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2523 ms
2025-03-15 13:54:47 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 13:54:47 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 13:54:47 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 13:54:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 13:54:47 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.792 seconds (process running for 5.384)
2025-03-15 14:10:11 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 14:10:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 14:10:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-15 14:12:21 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 14:12:22 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 14:12:22 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:12:22 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 14:12:22 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 14:12:29 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 23980 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 14:12:29 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 14:12:29 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 14:12:30 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 14:12:30 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 14:12:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 14:12:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 14:12:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 14:12:31 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 14:12:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1727 ms
2025-03-15 14:12:32 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:12:32 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 14:12:32 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 14:12:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 14:12:32 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.621 seconds (process running for 4.077)
2025-03-15 14:12:50 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 14:12:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 14:12:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 14:12:50 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 6f051bc5-da2b-4508-9f77-3ed8643b9599 (idioma: es-MX, título: fornecido)
2025-03-15 14:12:50 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:50 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, idioma=es-MX, titulo=fornecido
2025-03-15 14:12:50 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:50 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:50 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Gerando títulos..., progress=20%
2025-03-15 14:12:50 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 6f051bc5-da2b-4508-9f77-3ed8643b9599 no idioma es-MX
2025-03-15 14:12:50 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=contemplativa, idioma=es-MX, hasObservacoes=true
2025-03-15 14:12:50 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, quantidade=5
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599 com título: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=contemplativa, duracao=Short2, idioma=es-MX
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=contemplativa, duracao=Short2, titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 917 caracteres)
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: contemplativa
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 14:12:54 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1452 caracteres)
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Oração gerada com sucesso, progress=70%
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Gerando versão short da oração..., progress=75%
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1452 caracteres, idioma=es-MX
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 14:12:57 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 311 caracteres
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1452 caracteres, idioma=es-MX
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 14:12:59 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 507 caracteres
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 6f051bc5-da2b-4508-9f77-3ed8643b9599: em processamento
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=6f051bc5-da2b-4508-9f77-3ed8643b9599, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Geração de áudio desativada para o processo: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 6f051bc5-da2b-4508-9f77-3ed8643b9599, pulando compilação direta
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.s.ImagePromptGenerationService - Geração de imagem desabilitada para o processo: 6f051bc5-da2b-4508-9f77-3ed8643b9599
2025-03-15 14:13:00 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 6f051bc5-da2b-4508-9f77-3ed8643b9599: concluído
2025-03-15 14:16:00 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 14:16:00 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 14:16:00 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:16:00 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 14:16:00 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 14:16:02 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 9448 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 14:16:02 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 14:16:02 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 14:16:04 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 14:16:04 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 14:16:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 14:16:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 14:16:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 14:16:04 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 14:16:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1772 ms
2025-03-15 14:16:05 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:16:05 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 14:16:05 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 14:16:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 14:16:05 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.606 seconds (process running for 4.276)
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: ac739195-ac2d-4f02-861f-a21662697440 (idioma: es-MX, título: fornecido)
2025-03-15 14:16:58 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:16:58 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=ac739195-ac2d-4f02-861f-a21662697440, idioma=es-MX, titulo=fornecido
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:16:58 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:16:58 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Gerando títulos..., progress=20%
2025-03-15 14:16:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo ac739195-ac2d-4f02-861f-a21662697440 no idioma es-MX
2025-03-15 14:16:58 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 14:16:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=ac739195-ac2d-4f02-861f-a21662697440, quantidade=5
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: ac739195-ac2d-4f02-861f-a21662697440 com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 910 caracteres)
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 14:17:00 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1841 caracteres)
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Oração gerada com sucesso, progress=70%
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Gerando versão short da oração..., progress=75%
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1841 caracteres, idioma=es-MX
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 14:17:05 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 300 caracteres
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1841 caracteres, idioma=es-MX
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 14:17:07 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 596 caracteres
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para ac739195-ac2d-4f02-861f-a21662697440: em processamento
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ac739195-ac2d-4f02-861f-a21662697440, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Geração de áudio desativada para o processo: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para ac739195-ac2d-4f02-861f-a21662697440, pulando compilação direta
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.s.ImagePromptGenerationService - Geração de imagem desabilitada para o processo: ac739195-ac2d-4f02-861f-a21662697440
2025-03-15 14:17:09 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para ac739195-ac2d-4f02-861f-a21662697440: concluído
2025-03-15 14:27:04 [http-nio-8080-exec-7] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0 (idioma: es-MX, título: fornecido)
2025-03-15 14:27:04 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:04 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, idioma=es-MX, titulo=fornecido
2025-03-15 14:27:04 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:04 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:04 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Gerando títulos..., progress=20%
2025-03-15 14:27:04 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 3acab6f1-9840-4fb4-9dbc-6f65461af2c0 no idioma es-MX
2025-03-15 14:27:04 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 14:27:04 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, quantidade=5
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91, progress=45%
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0 com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91, idioma=es-MX
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 904 caracteres)
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 14:27:05 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1453 caracteres)
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Oração gerada com sucesso, progress=70%
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Gerando versão short da oração..., progress=75%
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91, tamanho da oração=1453 caracteres, idioma=es-MX
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 14:27:10 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 654 caracteres
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-22] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91, tamanho da oração=1453 caracteres, idioma=es-MX
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 14:27:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 943 caracteres
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 3acab6f1-9840-4fb4-9dbc-6f65461af2c0: em processamento
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Gerando áudio da oração..., progress=88%
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.s.ContentCompilationService - Imagem sendo processada para 3acab6f1-9840-4fb4-9dbc-6f65461af2c0, pulando compilação direta
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.ImagePromptGenerationService - Geração de imagem desabilitada para o processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status de processamento de imagem atualizado para 3acab6f1-9840-4fb4-9dbc-6f65461af2c0: concluído
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:14 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 14:27:31 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\3acab6f1-9840-4fb4-9dbc-6f65461af2c0\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91.mp3
2025-03-15 14:27:31 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\3acab6f1-9840-4fb4-9dbc-6f65461af2c0\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91.mp3
2025-03-15 14:27:31 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:31 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\3acab6f1-9840-4fb4-9dbc-6f65461af2c0\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91_short.mp3
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\3acab6f1-9840-4fb4-9dbc-6f65461af2c0\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91_short.mp3
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Áudios gerados, compilando conteúdo final..., progress=95%
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final com áudios para processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91_meta.txt
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91.srt
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_salmos91_short.srt
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, resultPath=.\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3acab6f1-9840-4fb4-9dbc-6f65461af2c0, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91, progress=100%
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #salmos91
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:27:39 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 3acab6f1-9840-4fb4-9dbc-6f65461af2c0
2025-03-15 14:42:42 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 14:42:42 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 14:42:42 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:42:42 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 14:42:42 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 14:58:25 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 4900 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 14:58:25 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 14:58:25 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 14:58:26 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 14:58:26 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 14:58:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 14:58:26 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 14:58:26 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 14:58:26 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 14:58:26 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1550 ms
2025-03-15 14:58:27 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 14:58:27 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 14:58:27 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 14:58:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 14:58:27 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.978 seconds (process running for 3.434)
2025-03-15 14:58:42 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 14:58:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 14:58:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 14:59:01 [http-nio-8080-exec-8] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 0f015d6e-ff16-4ac0-921b-94e3db30d1cd (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 14:59:01 [http-nio-8080-exec-8] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 0f015d6e-ff16-4ac0-921b-94e3db30d1cd
2025-03-15 14:59:01 [http-nio-8080-exec-8] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=0f015d6e-ff16-4ac0-921b-94e3db30d1cd, idioma=es-MX, titulo=fornecido, gerarVersaoShort=null, gerarAudio=true
2025-03-15 14:59:01 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "java.lang.Boolean.booleanValue()" because the return value of "dev.luisoliveira.roteiro.dto.GenerationRequest.getGerarVersaoShort()" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.lang.Boolean.booleanValue()" because the return value of "dev.luisoliveira.roteiro.dto.GenerationRequest.getGerarVersaoShort()" is null
	at dev.luisoliveira.roteiro.controller.ContentGenerationController.startGeneration(ContentGenerationController.java:95)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 14:59:36 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 0df76ee7-c30e-4d50-8254-7a1a3611f329 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 14:59:36 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 0df76ee7-c30e-4d50-8254-7a1a3611f329
2025-03-15 14:59:36 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=0df76ee7-c30e-4d50-8254-7a1a3611f329, idioma=es-MX, titulo=fornecido, gerarVersaoShort=null, gerarAudio=true
2025-03-15 14:59:36 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "java.lang.Boolean.booleanValue()" because the return value of "dev.luisoliveira.roteiro.dto.GenerationRequest.getGerarVersaoShort()" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.lang.Boolean.booleanValue()" because the return value of "dev.luisoliveira.roteiro.dto.GenerationRequest.getGerarVersaoShort()" is null
	at dev.luisoliveira.roteiro.controller.ContentGenerationController.startGeneration(ContentGenerationController.java:95)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 15:06:05 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:06:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:06:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:06:05 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:06:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:06:10 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 26628 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:06:10 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:06:10 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:06:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:06:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:06:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:06:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:06:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:06:12 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:06:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2040 ms
2025-03-15 15:06:13 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:06:13 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:06:13 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:06:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:06:13 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.943 seconds (process running for 4.472)
2025-03-15 15:06:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:06:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:06:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 15:06:37 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 1c48cdba-5395-4719-8ef6-fe09bee4b53d (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:06:37 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:37 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:06:37 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:06:37 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:37 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:37 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Gerando títulos..., progress=20%
2025-03-15 15:06:37 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 1c48cdba-5395-4719-8ef6-fe09bee4b53d no idioma es-MX
2025-03-15 15:06:37 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:06:37 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, quantidade=5
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Título selecionado: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d com título: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:06:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1457 caracteres)
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1457 caracteres, idioma=es-MX
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:06:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 548 caracteres
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1457 caracteres, idioma=es-MX
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:06:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 755 caracteres
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Gerando áudio da oração..., progress=88%
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, resultPath=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:06:49 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 15:06:50 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:06:50 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:06:50 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:07:09 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 15:07:09 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 15:07:09 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:07:09 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1c48cdba-5395-4719-8ef6-fe09bee4b53d, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 1c48cdba-5395-4719-8ef6-fe09bee4b53d: full=.\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3, short=.\gerados\1c48cdba-5395-4719-8ef6-fe09bee4b53d\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:07:16 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 1c48cdba-5395-4719-8ef6-fe09bee4b53d
2025-03-15 15:12:55 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:12:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:12:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:12:55 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:12:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:13:00 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 22196 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:13:00 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:13:00 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:13:01 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:13:01 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:13:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:13:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:13:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:13:02 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:13:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1791 ms
2025-03-15 15:13:03 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:13:03 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:13:03 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:13:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:13:03 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.567 seconds (process running for 4.081)
2025-03-15 15:13:03 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:13:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:13:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:13:15 [http-nio-8080-exec-7] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:13:15 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:15 [http-nio-8080-exec-7] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:13:15 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:13:15 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:15 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Gerando títulos..., progress=20%
2025-03-15 15:13:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab no idioma es-MX
2025-03-15 15:13:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:13:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, quantidade=5
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:13:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 727 caracteres)
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=727 caracteres, idioma=es-MX
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:13:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 375 caracteres
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=727 caracteres, idioma=es-MX
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:13:20 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 520 caracteres
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__full.mp3
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab: full=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__full.mp3, short=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:13:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 7b15e0bd-cc3a-4d51-8ce2-bd5c847a2fab
2025-03-15 15:19:07 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:19:07 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:19:07 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:19:07 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:19:07 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:19:14 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 24124 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:19:14 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:19:14 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:19:15 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:19:15 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:19:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:19:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:19:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:19:16 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:19:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2671 ms
2025-03-15 15:19:18 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:19:18 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:19:18 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:19:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:19:18 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 5.125 seconds (process running for 5.751)
2025-03-15 15:19:26 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:19:26 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:19:26 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:19:30 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:19:30 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:30 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:19:30 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:19:30 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:30 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:30 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Gerando títulos..., progress=20%
2025-03-15 15:19:30 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7 no idioma es-MX
2025-03-15 15:19:30 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:19:30 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, quantidade=5
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏, progress=45%
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7 com título: PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏, idioma=es-MX
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 917 caracteres)
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:19:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1018 caracteres)
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração Short1 é curta, não é necessário gerar versão short
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7 (duração: Short1)
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER Y BENDECIR A TU FAMILIA #oración #salmo91 🙏, tamanho da oração=1018 caracteres, idioma=es-MX
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:19:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 587 caracteres
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91__full.mp3
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91__meta.txt
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7: full=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91__full.mp3, short=null
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_.srt
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_, progress=100%
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_Y_BENDECIR_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:19:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 3e3c420d-d0cf-4d9d-ab8c-ec2e5937ffb7
2025-03-15 15:21:38 [http-nio-8080-exec-8] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:21:38 [http-nio-8080-exec-8] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:38 [http-nio-8080-exec-8] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:21:38 [http-nio-8080-exec-8] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:21:38 [http-nio-8080-exec-8] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:38 [http-nio-8080-exec-8] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:38 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Gerando títulos..., progress=20%
2025-03-15 15:21:38 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d no idioma es-MX
2025-03-15 15:21:38 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:21:38 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, quantidade=5
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Título selecionado: PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏, progress=45%
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d com título: PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏, idioma=es-MX
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 907 caracteres)
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:21:40 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 842 caracteres)
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Duração Short1 é curta, não é necessário gerar versão short
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d (duração: Short1)
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN de PROTECCIÓN para FAMILIAS #oración #salmo91 🙏, tamanho da oração=842 caracteres, idioma=es-MX
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:21:42 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 595 caracteres
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91__full.mp3
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d: full=.\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91__full.mp3, short=null
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91__meta.txt
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_.srt
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, resultPath=.\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2bc62c3c-afdc-4ca8-a6d1-42074d198c1d, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_, progress=100%
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_PROTECCI_N_para_FAMILIAS_oraci_n_salmo91_
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:21:45 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 2bc62c3c-afdc-4ca8-a6d1-42074d198c1d
2025-03-15 15:22:54 [http-nio-8080-exec-7] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: ef1facd8-2d64-4baa-9a5f-c225884f4251 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:22:54 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:54 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, idioma=es-MX, titulo=fornecido, gerarVersaoShort=false, gerarAudio=true
2025-03-15 15:22:54 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:54 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:54 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Gerando títulos..., progress=20%
2025-03-15 15:22:54 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo ef1facd8-2d64-4baa-9a5f-c225884f4251 no idioma es-MX
2025-03-15 15:22:54 [SimpleAsyncTaskExecutor-24] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:22:54 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, quantidade=5
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏, progress=45%
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: ef1facd8-2d64-4baa-9a5f-c225884f4251 com título: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Mini, idioma=es-MX
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Mini, titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏, idioma=es-MX
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 902 caracteres)
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Mini

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 800-1.200 caracteres (2-3 minutos)
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:22:56 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1571 caracteres)
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Duração Mini é curta, não é necessário gerar versão short
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo ef1facd8-2d64-4baa-9a5f-c225884f4251 (duração: Mini)
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-27] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #salmos91 🙏, tamanho da oração=1571 caracteres, idioma=es-MX
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:22:59 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 634 caracteres
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91__full.mp3
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo ef1facd8-2d64-4baa-9a5f-c225884f4251: full=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91__full.mp3, short=null
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-28] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91__meta.txt
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_.srt
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=ef1facd8-2d64-4baa-9a5f-c225884f4251, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_, progress=100%
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_salmos91_
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:23:01 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: ef1facd8-2d64-4baa-9a5f-c225884f4251
2025-03-15 15:27:54 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:27:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:27:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:27:55 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:27:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:27:59 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 32844 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:27:59 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:27:59 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:28:00 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:28:00 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:28:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:28:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:28:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:28:01 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:28:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1668 ms
2025-03-15 15:28:02 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:28:02 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:28:02 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:28:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:28:02 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.24 seconds (process running for 3.681)
2025-03-15 15:28:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:28:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:28:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:28:21 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 5e6651f3-fae2-4926-8390-5114187cfae2 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:28:21 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:21 [http-nio-8080-exec-4] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:28:21 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=5e6651f3-fae2-4926-8390-5114187cfae2, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:28:21 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:21 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:21 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Gerando títulos..., progress=20%
2025-03-15 15:28:21 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 5e6651f3-fae2-4926-8390-5114187cfae2 no idioma es-MX
2025-03-15 15:28:21 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:28:21 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=5e6651f3-fae2-4926-8390-5114187cfae2, quantidade=5
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏, progress=45%
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 5e6651f3-fae2-4926-8390-5114187cfae2 com título: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏, idioma=es-MX
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 908 caracteres)
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:28:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1179 caracteres)
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração Short2 é curta, não é necessário gerar versão short
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 5e6651f3-fae2-4926-8390-5114187cfae2 (duração: Short2)
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #Salmos91 🙏, tamanho da oração=1179 caracteres, idioma=es-MX
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:28:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 529 caracteres
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Áudio simulado gerado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp12919765248873478600\full_audio.mp3
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91__full.mp3
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 5e6651f3-fae2-4926-8390-5114187cfae2: full=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91__full.mp3, short=null
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91__meta.txt
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_.srt
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=5e6651f3-fae2-4926-8390-5114187cfae2, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=5e6651f3-fae2-4926-8390-5114187cfae2, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_, progress=100%
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_Salmos91_
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:28:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 5e6651f3-fae2-4926-8390-5114187cfae2
2025-03-15 15:32:55 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:32:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:32:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:32:55 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:32:55 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:33:01 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 31508 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:33:01 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:33:01 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:33:02 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:33:02 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:33:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:33:03 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:33:03 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:33:03 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:33:03 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2055 ms
2025-03-15 15:33:04 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:33:04 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:33:04 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:33:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:33:04 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.895 seconds (process running for 4.429)
2025-03-15 15:33:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:33:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:33:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:33:23 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: c6f8c72f-8515-477e-adf3-0d58d4652cfa (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:33:23 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:23 [http-nio-8080-exec-4] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:33:23 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:33:23 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:23 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Gerando títulos..., progress=20%
2025-03-15 15:33:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo c6f8c72f-8515-477e-adf3-0d58d4652cfa no idioma es-MX
2025-03-15 15:33:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:33:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, quantidade=5
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏, progress=45%
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏, idioma=es-MX
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 907 caracteres)
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:33:25 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1470 caracteres)
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração Short2 é curta, não é necessário gerar versão short
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo c6f8c72f-8515-477e-adf3-0d58d4652cfa (duração: Short2)
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏, tamanho da oração=1470 caracteres, idioma=es-MX
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:33:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 599 caracteres
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Config: audioApiEnabled=false, audioApiUrl=, sampleAudioPath=audio/sample.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Conteúdo para geração de áudio: título='PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #Salmos91 🙏', tamanho da oração=1470 caracteres, shortContent=null
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Criado diretório temporário para áudio: C:\Users\lfpo2\AppData\Local\Temp\audio-temp9835266356019885799
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - API de TTS não configurada. Usando geração simulada de áudio.
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Gerando áudio simulado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp9835266356019885799\full_audio.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Tentando carregar áudio de amostra de: audio/sample.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] WARN  d.l.r.service.AudioGenerationService - Recurso de áudio de amostra não encontrado: audio/sample.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Criando arquivo MP3 simulado (dummy) para: C:\Users\lfpo2\AppData\Local\Temp\audio-temp9835266356019885799\full_audio.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91__meta.txt
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio simulado gerado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp9835266356019885799\full_audio.mp3 (tamanho: 147000 bytes)
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Arquivo de áudio gerado com sucesso: C:\Users\lfpo2\AppData\Local\Temp\audio-temp9835266356019885799\full_audio.mp3, tamanho=147000 bytes
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_.srt
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_, progress=100%
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91__full.mp3
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Arquivos de áudio salvos em: full=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91__full.mp3, short=N/A
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo c6f8c72f-8515-477e-adf3-0d58d4652cfa: full=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_Salmos91__full.mp3, short=null
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Limpando arquivos temporários...
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Arquivos temporários limpos com sucesso
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=c6f8c72f-8515-477e-adf3-0d58d4652cfa, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:33:32 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: c6f8c72f-8515-477e-adf3-0d58d4652cfa
2025-03-15 15:34:29 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:34:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:34:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:34:29 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:34:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:34:33 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 5188 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:34:33 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:34:33 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:34:34 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:34:34 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:34:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:34:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:34:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:34:35 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:34:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1621 ms
2025-03-15 15:34:36 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:34:36 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:34:36 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:34:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:34:36 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.211 seconds (process running for 3.694)
2025-03-15 15:34:36 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:34:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:34:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 15:35:14 [http-nio-8080-exec-7] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 7ecce28e-e61d-4888-8012-7e90be1fd305 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:35:14 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:14 [http-nio-8080-exec-7] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:35:14 [http-nio-8080-exec-7] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:35:14 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:14 [http-nio-8080-exec-7] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:14 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Gerando títulos..., progress=20%
2025-03-15 15:35:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 7ecce28e-e61d-4888-8012-7e90be1fd305 no idioma es-MX
2025-03-15 15:35:14 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:35:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, quantidade=5
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, progress=45%
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 7ecce28e-e61d-4888-8012-7e90be1fd305 com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, idioma=es-MX
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 908 caracteres)
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:35:16 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1501 caracteres)
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração Short2 é curta, não é necessário gerar versão short
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 7ecce28e-e61d-4888-8012-7e90be1fd305 (duração: Short2)
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Versão short não necessária para esta duração, progress=80%
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, tamanho da oração=1501 caracteres, idioma=es-MX
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:35:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 447 caracteres
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__meta.txt
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_.srt
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_, progress=100%
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 7ecce28e-e61d-4888-8012-7e90be1fd305
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Cannot invoke "String.length()" because "text" is null
java.lang.NullPointerException: Cannot invoke "String.length()" because "text" is null
	at dev.luisoliveira.roteiro.service.AudioGenerationService.simulateAudioGeneration(AudioGenerationService.java:99)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:49)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 15:35:22 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=7ecce28e-e61d-4888-8012-7e90be1fd305, stage=Erro ao gerar áudio: Cannot invoke "String.length()" because "text" is null, progress=0%
2025-03-15 15:37:01 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:37:01 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:37:01 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:37:01 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:37:01 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:37:06 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 5372 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:37:06 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:37:06 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:37:07 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:37:07 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:37:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:37:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:37:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:37:08 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:37:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1803 ms
2025-03-15 15:37:08 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:37:08 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:37:08 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:37:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:37:09 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.404 seconds (process running for 3.905)
2025-03-15 15:37:09 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:37:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:37:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:37:29 [http-nio-8080-exec-9] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: dd343e44-1624-4a19-82f7-3e1eed6d9ace (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:37:29 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:29 [http-nio-8080-exec-9] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:37:29 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:37:29 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:29 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:29 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Gerando títulos..., progress=20%
2025-03-15 15:37:29 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo dd343e44-1624-4a19-82f7-3e1eed6d9ace no idioma es-MX
2025-03-15 15:37:29 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:37:29 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, quantidade=5
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Título selecionado: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, progress=45%
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace com título: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, idioma=es-MX
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:37:32 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1514 caracteres)
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, tamanho da oração=1514 caracteres, idioma=es-MX
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:37:36 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 433 caracteres
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE FAMILIAS #oración #salmos91 🙏, tamanho da oração=1514 caracteres, idioma=es-MX
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:37:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 955 caracteres
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__full.mp3
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__short.mp3
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__meta.txt
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo dd343e44-1624-4a19-82f7-3e1eed6d9ace: full=.\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__full.mp3, short=.\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\audio\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__short.mp3
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_.srt
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91__short.srt
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=dd343e44-1624-4a19-82f7-3e1eed6d9ace, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_, progress=100%
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_FAMILIAS_oraci_n_salmos91_
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:37:39 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: dd343e44-1624-4a19-82f7-3e1eed6d9ace
2025-03-15 15:40:20 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:40:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:40:20 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:40:20 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:40:20 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:40:26 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 28880 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:40:26 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:40:26 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:40:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:40:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:40:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:40:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:40:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:40:28 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:40:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2188 ms
2025-03-15 15:40:29 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:40:29 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:40:29 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:40:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:40:29 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.296 seconds (process running for 4.82)
2025-03-15 15:40:35 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:40:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:40:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-03-15 15:40:36 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: b73649dd-69ea-485a-959b-ce790c24500b (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:40:36 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:36 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:40:36 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=b73649dd-69ea-485a-959b-ce790c24500b, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:40:36 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:36 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Gerando títulos..., progress=20%
2025-03-15 15:40:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo b73649dd-69ea-485a-959b-ce790c24500b no idioma es-MX
2025-03-15 15:40:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 15:40:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=b73649dd-69ea-485a-959b-ce790c24500b, quantidade=5
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏, progress=45%
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: b73649dd-69ea-485a-959b-ce790c24500b com título: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏, idioma=es-MX
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 906 caracteres)
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:40:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1540 caracteres)
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏, tamanho da oração=1540 caracteres, idioma=es-MX
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:40:41 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 347 caracteres
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏, tamanho da oração=1540 caracteres, idioma=es-MX
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:40:43 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 1024 caracteres
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Config: audioApiEnabled=false, audioApiUrl=, sampleAudioPath=audio/sample.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Conteúdo para geração de áudio: título='PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #salmo91 🙏', tamanho da oração=1540 caracteres, shortContent=347 caracteres
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Criado diretório temporário para áudio: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - API de TTS não configurada. Usando geração simulada de áudio.
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Gerando áudio simulado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\full_audio.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Tentando carregar áudio de amostra de: audio/sample.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] WARN  d.l.r.service.AudioGenerationService - Recurso de áudio de amostra não encontrado: audio/sample.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Criando arquivo MP3 simulado (dummy) para: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\full_audio.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio simulado gerado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\full_audio.mp3 (tamanho: 154000 bytes)
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Gerando áudio simulado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\short_audio.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Tentando carregar áudio de amostra de: audio/sample.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] WARN  d.l.r.service.AudioGenerationService - Recurso de áudio de amostra não encontrado: audio/sample.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Criando arquivo MP3 simulado (dummy) para: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\short_audio.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio simulado gerado em: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\short_audio.mp3 (tamanho: 34700 bytes)
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Arquivo de áudio gerado com sucesso: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\full_audio.mp3, tamanho=154000 bytes
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Arquivo de áudio para versão curta gerado com sucesso: C:\Users\lfpo2\AppData\Local\Temp\audio-temp1187337067519823090\short_audio.mp3, tamanho=34700 bytes
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__meta.txt
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__full.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__short.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Arquivos de áudio salvos em: full=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__full.mp3, short=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__short.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo b73649dd-69ea-485a-959b-ce790c24500b: full=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__full.mp3, short=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\audio\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__short.mp3
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Limpando arquivos temporários...
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Arquivos temporários limpos com sucesso
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_.srt
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91__short.srt
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=b73649dd-69ea-485a-959b-ce790c24500b, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b73649dd-69ea-485a-959b-ce790c24500b, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_, progress=100%
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_TU_FAMILIA_oraci_n_salmo91_
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:40:45 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: b73649dd-69ea-485a-959b-ce790c24500b
2025-03-15 15:41:43 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:41:43 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:41:43 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:41:43 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:41:43 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:41:49 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 33176 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:41:49 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:41:49 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:41:50 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:41:50 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:41:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:41:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:41:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:41:51 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:41:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2223 ms
2025-03-15 15:41:52 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:41:52 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:41:52 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:41:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:41:52 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.989 seconds (process running for 4.519)
2025-03-15 15:41:52 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:41:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:41:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-15 15:42:15 [http-nio-8080-exec-9] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:42:15 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:15 [http-nio-8080-exec-9] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:42:15 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:42:15 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:15 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Gerando títulos..., progress=20%
2025-03-15 15:42:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo d9dda36d-fa2c-4e81-8b02-0162cdc19ba1 no idioma es-MX
2025-03-15 15:42:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 15:42:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, quantidade=5
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1 com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:42:17 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1640 caracteres)
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1640 caracteres, idioma=es-MX
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:42:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 604 caracteres
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1640 caracteres, idioma=es-MX
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:42:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 542 caracteres
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, título='PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏'
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Iniciando salvamento de arquivos para processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, título='PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏'
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Nome de arquivo seguro gerado: 'PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones'
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Verificando/criando diretório de processo: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\audio
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Diretório do processo criado: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Verificando/criando diretório de texto: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Diretório de texto criado: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo de metadados: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_meta.txt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\audio\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_full.mp3
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_meta.txt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo SRT: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones.srt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\audio\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_short.mp3
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo d9dda36d-fa2c-4e81-8b02-0162cdc19ba1: full=.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\audio\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_full.mp3, short=.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\audio\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_short.mp3
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones.srt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo SRT da versão curta: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_short.srt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1\texto\PODEROSA_ORACIÓN_para_PROTECCIÓN_DE_FAMILIAS_oración_bendiciones_short.srt
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Todos os arquivos salvos com sucesso no diretório: D:\WORKSPACE\roteiro\.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, resultPath=.\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1, progress=100%
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:42:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: d9dda36d-fa2c-4e81-8b02-0162cdc19ba1
2025-03-15 15:48:44 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:48:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:48:44 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:48:44 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:48:44 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:48:50 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 17896 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:48:50 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:48:50 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:48:51 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:48:52 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:48:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:48:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:48:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:48:52 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:48:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2164 ms
2025-03-15 15:48:54 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:48:54 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:48:54 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:48:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:48:54 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.741 seconds (process running for 5.261)
2025-03-15 15:49:11 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:49:11 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:49:11 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 15:49:12 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 939caad6-2555-4f73-b890-98691c05f2b7 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:49:12 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:12 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:49:12 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=939caad6-2555-4f73-b890-98691c05f2b7, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:49:12 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:12 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:12 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Gerando títulos..., progress=20%
2025-03-15 15:49:12 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 939caad6-2555-4f73-b890-98691c05f2b7 no idioma es-MX
2025-03-15 15:49:12 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 15:49:12 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=939caad6-2555-4f73-b890-98691c05f2b7, quantidade=5
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 939caad6-2555-4f73-b890-98691c05f2b7 com título: PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 910 caracteres)
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:49:14 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1580 caracteres)
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1580 caracteres, idioma=es-MX
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:49:19 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 403 caracteres
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1580 caracteres, idioma=es-MX
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:49:21 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 475 caracteres
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=939caad6-2555-4f73-b890-98691c05f2b7, título='PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏'
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Iniciando salvamento de arquivos para processId=939caad6-2555-4f73-b890-98691c05f2b7, título='PODEROSA ORACIÓN PARA PROTEGER A TU FAMILIA #oración #bendiciones 🙏'
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Nome de arquivo seguro gerado: 'PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio'
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Nome de arquivo seguro gerado para áudio: 'PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio'
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Verificando/criando diretório de processo: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho base normalizado: D:\WORKSPACE\roteiro\gerados
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Diretório do processo criado: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Verificando/criando diretório de texto: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Diretório do processo criado: D:\WORKSPACE\roteiro\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Diretório de texto criado: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Diretório de áudio criado: D:\WORKSPACE\roteiro\gerados\939caad6-2555-4f73-b890-98691c05f2b7\audio
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo de metadados: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_meta.txt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_meta.txt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo SRT: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio.srt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: D:\WORKSPACE\roteiro\gerados\939caad6-2555-4f73-b890-98691c05f2b7\audio\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_full.mp3
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: D:\WORKSPACE\roteiro\gerados\939caad6-2555-4f73-b890-98691c05f2b7\audio\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio completo: gerados\939caad6-2555-4f73-b890-98691c05f2b7\audio\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_full.mp3
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio curto: gerados\939caad6-2555-4f73-b890-98691c05f2b7\audio\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 939caad6-2555-4f73-b890-98691c05f2b7: full=gerados/939caad6-2555-4f73-b890-98691c05f2b7/audio/PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_full.mp3, short=gerados/939caad6-2555-4f73-b890-98691c05f2b7/audio/PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio.srt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.FileStorageService - Path para arquivo SRT da versão curta: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_short.srt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7\texto\PODEROSA_ORACION_PARA_PROTEGER_A_TU_FAMILIA_oracio_short.srt
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Todos os arquivos salvos com sucesso no diretório: D:\WORKSPACE\roteiro\.\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=939caad6-2555-4f73-b890-98691c05f2b7, resultPath=.\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=939caad6-2555-4f73-b890-98691c05f2b7, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\939caad6-2555-4f73-b890-98691c05f2b7, progress=100%
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:49:23 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 939caad6-2555-4f73-b890-98691c05f2b7
2025-03-15 15:51:12 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:51:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:51:12 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:51:12 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:51:12 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:51:19 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 12744 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:51:19 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:51:19 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:51:20 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:51:20 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:51:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:51:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:51:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:51:22 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:51:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2486 ms
2025-03-15 15:51:23 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:51:23 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:51:23 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:51:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:51:23 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.94 seconds (process running for 5.445)
2025-03-15 15:51:36 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:51:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:51:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 15:51:38 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: fceb39f5-d79c-4819-b642-930e0189e30f (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:51:38 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:38 [http-nio-8080-exec-4] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:51:38 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=fceb39f5-d79c-4819-b642-930e0189e30f, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:51:38 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:38 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Gerando títulos..., progress=20%
2025-03-15 15:51:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo fceb39f5-d79c-4819-b642-930e0189e30f no idioma es-MX
2025-03-15 15:51:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 15:51:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=fceb39f5-d79c-4819-b642-930e0189e30f, quantidade=5
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: fceb39f5-d79c-4819-b642-930e0189e30f com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short2, idioma=es-MX
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short2, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 910 caracteres)
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short2

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 500-800 caracteres (60-90 segundos)
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:51:41 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1234 caracteres)
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1234 caracteres, idioma=es-MX
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:51:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 374 caracteres
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=1234 caracteres, idioma=es-MX
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:51:45 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 460 caracteres
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__full.mp3
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__meta.txt
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.mp3
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo fceb39f5-d79c-4819-b642-930e0189e30f: full=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__full.mp3, short=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.mp3
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.srt
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.srt
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=fceb39f5-d79c-4819-b642-930e0189e30f, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fceb39f5-d79c-4819-b642-930e0189e30f, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_, progress=100%
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:51:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: fceb39f5-d79c-4819-b642-930e0189e30f
2025-03-15 15:52:09 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 15:52:09 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:09 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 15:52:09 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 15:52:09 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:09 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:09 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Gerando títulos..., progress=20%
2025-03-15 15:52:09 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 72b0bad3-4a08-43bc-bf4e-425e2e7df07a no idioma es-MX
2025-03-15 15:52:09 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 15:52:09 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, quantidade=5
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a com título: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Standard, idioma=es-MX
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Standard, titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 916 caracteres)
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Standard

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 5.000-6.000 caracteres (15-30 minutos)
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 15:52:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 2613 caracteres)
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Oração gerada com sucesso, progress=70%
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Gerando versão short da oração..., progress=75%
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=2613 caracteres, idioma=es-MX
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 15:52:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 446 caracteres
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=2613 caracteres, idioma=es-MX
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 15:52:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 432 caracteres
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Compilando conteúdo final..., progress=95%
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Criado novo diretório para áudios: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__full.mp3
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 72b0bad3-4a08-43bc-bf4e-425e2e7df07a: full=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__full.mp3, short=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=72b0bad3-4a08-43bc-bf4e-425e2e7df07a, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:52:20 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 72b0bad3-4a08-43bc-bf4e-425e2e7df07a
2025-03-15 15:55:17 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:55:17 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:55:17 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:55:17 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:55:17 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 15:55:23 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 33656 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 15:55:23 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 15:55:23 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 15:55:24 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 15:55:24 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 15:55:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 15:55:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 15:55:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 15:55:25 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 15:55:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2315 ms
2025-03-15 15:55:27 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:55:27 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 15:55:27 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 15:55:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 15:55:27 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.398 seconds (process running for 4.982)
2025-03-15 15:56:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 15:56:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 15:56:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 15:58:36 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 15:58:36 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 15:58:36 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 15:58:36 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 15:58:36 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:03:07 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 33100 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:03:07 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:03:07 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:03:08 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:03:08 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:03:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:03:09 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:03:09 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:03:09 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:03:09 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2115 ms
2025-03-15 16:03:10 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:03:10 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:03:10 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:03:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:03:10 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.411 seconds (process running for 4.948)
2025-03-15 16:03:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:03:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:03:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-15 16:03:24 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:03:24 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:24 [http-nio-8080-exec-4] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:03:24 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:03:24 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:24 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Gerando títulos..., progress=20%
2025-03-15 16:03:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1 no idioma es-MX
2025-03-15 16:03:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:03:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, quantidade=5
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Título selecionado: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1 com título: PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Standard, idioma=es-MX
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Standard, titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 923 caracteres)
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Standard

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 5.000-6.000 caracteres (15-30 minutos)
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:03:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 2868 caracteres)
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏, tamanho da oração=2868 caracteres, idioma=es-MX
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:03:33 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 308 caracteres
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏, tamanho da oração=2868 caracteres, idioma=es-MX
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:03:35 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 505 caracteres
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, título='PODEROSA ORACIÓN PARA LA PROTECCIÓN DE LAS FAMILIAS #oración #bendiciones 🙏'
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Nome de arquivo seguro gerado para áudio: 'PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA'
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho base normalizado: D:\WORKSPACE\roteiro\gerados
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Diretório do processo criado: D:\WORKSPACE\roteiro\gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Diretório de áudio criado: D:\WORKSPACE\roteiro\gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1\audio
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_LA_PROTECCI_N_DE_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: D:\WORKSPACE\roteiro\gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1\audio\PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_full.mp3
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: D:\WORKSPACE\roteiro\gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1\audio\PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_short.mp3
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio completo: gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1\audio\PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_full.mp3
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio curto: gerados\79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1\audio\PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_short.mp3
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1: full=gerados/79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1/audio/PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_full.mp3, short=gerados/79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1/audio/PODEROSA_ORACION_PARA_LA_PROTECCION_DE_LAS_FAMILIA_short.mp3
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:03:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 79cd9ee5-2cf9-47b7-96cf-0e0765c8baa1
2025-03-15 16:10:05 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 16:10:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 16:10:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:10:05 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 16:10:05 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:10:10 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 22464 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:10:10 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:10:10 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:10:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:10:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:10:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:10:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:10:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:10:12 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:10:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1811 ms
2025-03-15 16:10:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:10:12 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:10:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:10:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:10:12 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.49 seconds (process running for 3.961)
2025-03-15 16:10:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:10:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:10:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 16:10:37 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 44fdc1c8-d053-4919-82ba-b6f6be9ce142 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:10:37 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:37 [http-nio-8080-exec-4] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:10:37 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:10:37 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:37 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:37 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Gerando títulos..., progress=20%
2025-03-15 16:10:37 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 44fdc1c8-d053-4919-82ba-b6f6be9ce142 no idioma es-MX
2025-03-15 16:10:37 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:10:37 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, quantidade=5
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142 com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Standard, idioma=es-MX
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Standard, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 915 caracteres)
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Standard

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 5.000-6.000 caracteres (15-30 minutos)
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:10:38 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 2503 caracteres)
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=2503 caracteres, idioma=es-MX
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:10:43 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 368 caracteres
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=2503 caracteres, idioma=es-MX
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:10:46 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 510 caracteres
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Gerando áudio para a oração..., progress=92%
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Simulando geração de áudio para texto de 2503 caracteres
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Criando dados de áudio simulado com tamanho: 20024 bytes
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Dados de áudio simulado gerados com sucesso: 20024 bytes
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Simulando geração de áudio para texto de 368 caracteres
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.AudioGenerationService - Criando dados de áudio simulado com tamanho: 4096 bytes
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Dados de áudio simulado gerados com sucesso: 4096 bytes
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, título='PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏'
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__meta.txt
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.srt
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.srt
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_, progress=100%
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Nome de arquivo seguro gerado para áudio: 'PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio'
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho base normalizado: D:\WORKSPACE\roteiro\gerados
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Diretório do processo criado: D:\WORKSPACE\roteiro\gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Diretório de áudio criado: D:\WORKSPACE\roteiro\gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142\audio
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: D:\WORKSPACE\roteiro\gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142\audio\PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_full.mp3
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: D:\WORKSPACE\roteiro\gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142\audio\PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio completo: gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142\audio\PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_full.mp3
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Caminho relativo do áudio curto: gerados\44fdc1c8-d053-4919-82ba-b6f6be9ce142\audio\PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 44fdc1c8-d053-4919-82ba-b6f6be9ce142: full=gerados/44fdc1c8-d053-4919-82ba-b6f6be9ce142/audio/PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_full.mp3, short=gerados/44fdc1c8-d053-4919-82ba-b6f6be9ce142/audio/PODEROSA_ORACION_para_PROTEGER_A_TU_FAMILIA_oracio_short.mp3
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=44fdc1c8-d053-4919-82ba-b6f6be9ce142, stage=Áudio gerado com sucesso, progress=94%
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio gerado com sucesso para o processo: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:10:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 44fdc1c8-d053-4919-82ba-b6f6be9ce142
2025-03-15 16:12:21 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 16:12:21 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 16:12:21 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:12:21 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 16:12:21 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:12:26 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 7216 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:12:26 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:12:26 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:12:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:12:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:12:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:12:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:12:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:12:28 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:12:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1713 ms
2025-03-15 16:12:29 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:12:29 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:12:29 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:12:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:12:29 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.586 seconds (process running for 4.652)
2025-03-15 16:12:39 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:12:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:12:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-15 16:12:43 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: faf4c64f-da36-432f-8629-d2c2beb1ae2c (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:12:43 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:43 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:12:43 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:12:43 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:43 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:43 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Gerando títulos..., progress=20%
2025-03-15 16:12:43 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo faf4c64f-da36-432f-8629-d2c2beb1ae2c no idioma es-MX
2025-03-15 16:12:43 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:12:43 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, quantidade=5
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 910 caracteres)
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:12:46 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 873 caracteres)
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=873 caracteres, idioma=es-MX
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:12:48 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 342 caracteres
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=873 caracteres, idioma=es-MX
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:12:50 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 441 caracteres
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__meta.txt
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.srt
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.srt
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_, progress=100%
2025-03-15 16:12:51 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:12:57 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:57 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:12:57 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:13:06 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:13:06 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:13:25 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\faf4c64f-da36-432f-8629-d2c2beb1ae2c\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.mp3
2025-03-15 16:14:10 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\faf4c64f-da36-432f-8629-d2c2beb1ae2c\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.mp3
2025-03-15 16:14:22 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: faf4c64f-da36-432f-8629-d2c2beb1ae2c
2025-03-15 16:14:22 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:14:23 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
2025-03-15 16:14:23 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 16:14:27 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:88)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	... 13 common frames omitted
2025-03-15 16:14:46 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=faf4c64f-da36-432f-8629-d2c2beb1ae2c, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 341 credits are required for this request."}}, progress=89%
2025-03-15 16:15:14 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 231092cd-9d4f-451d-9999-71b5bc87859a (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:15:14 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:14 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:15:14 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=231092cd-9d4f-451d-9999-71b5bc87859a, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:15:14 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:14 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:14 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Gerando títulos..., progress=20%
2025-03-15 16:15:14 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 231092cd-9d4f-451d-9999-71b5bc87859a no idioma es-MX
2025-03-15 16:15:14 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:15:14 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=231092cd-9d4f-451d-9999-71b5bc87859a, quantidade=5
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, progress=45%
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 231092cd-9d4f-451d-9999-71b5bc87859a com título: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 908 caracteres)
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:15:16 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 887 caracteres)
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, tamanho da oração=887 caracteres, idioma=es-MX
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:15:18 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 424 caracteres
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, tamanho da oração=887 caracteres, idioma=es-MX
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:15:21 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 483 caracteres
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones__meta.txt
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_.srt
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones__short.srt
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=231092cd-9d4f-451d-9999-71b5bc87859a, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_, progress=100%
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_FAMILIAR_oraci_n_bendiciones_
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:22 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 231092cd-9d4f-451d-9999-71b5bc87859a
2025-03-15 16:15:23 [SimpleAsyncTaskExecutor-22] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
2025-03-15 16:15:23 [SimpleAsyncTaskExecutor-22] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 16:15:23 [SimpleAsyncTaskExecutor-22] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:88)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	... 13 common frames omitted
2025-03-15 16:15:23 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=231092cd-9d4f-451d-9999-71b5bc87859a, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 887 credits are required for this request."}}, progress=89%
2025-03-15 16:20:43 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 93ea4747-a411-4877-8eac-b521790d8992 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:20:43 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:43 [http-nio-8080-exec-2] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:20:43 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=93ea4747-a411-4877-8eac-b521790d8992, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:20:43 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:43 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:43 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Gerando títulos..., progress=20%
2025-03-15 16:20:43 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 93ea4747-a411-4877-8eac-b521790d8992 no idioma es-MX
2025-03-15 16:20:43 [SimpleAsyncTaskExecutor-24] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:20:43 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=93ea4747-a411-4877-8eac-b521790d8992, quantidade=5
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 93ea4747-a411-4877-8eac-b521790d8992 com título: PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:20:45 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1200 caracteres)
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-26] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1200 caracteres, idioma=es-MX
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:20:49 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 692 caracteres
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-27] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1200 caracteres, idioma=es-MX
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:20:52 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 710 caracteres
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=93ea4747-a411-4877-8eac-b521790d8992, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 93ea4747-a411-4877-8eac-b521790d8992
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:88)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	... 13 common frames omitted
2025-03-15 16:20:55 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=93ea4747-a411-4877-8eac-b521790d8992, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 290 credits remaining, while 1198 credits are required for this request."}}, progress=89%
2025-03-15 16:21:02 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 16:21:02 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 16:21:02 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:21:02 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 16:21:02 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:21:04 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 1932 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:21:04 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:21:04 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:21:05 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:21:05 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:21:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:21:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:21:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:21:06 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:21:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1341 ms
2025-03-15 16:21:07 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:21:07 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:21:07 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:21:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:21:07 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.746 seconds (process running for 3.661)
2025-03-15 16:21:07 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:21:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:21:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-15 16:21:16 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: b69093ac-4527-4086-a1f5-50b040851e85 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:21:16 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:16 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:21:16 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=b69093ac-4527-4086-a1f5-50b040851e85, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:21:16 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:16 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Gerando títulos..., progress=20%
2025-03-15 16:21:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo b69093ac-4527-4086-a1f5-50b040851e85 no idioma es-MX
2025-03-15 16:21:16 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:21:16 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=b69093ac-4527-4086-a1f5-50b040851e85, quantidade=5
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe, progress=45%
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: b69093ac-4527-4086-a1f5-50b040851e85 com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe, idioma=es-MX
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 903 caracteres)
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:21:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 845 caracteres)
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe, tamanho da oração=845 caracteres, idioma=es-MX
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:21:22 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 641 caracteres
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #bendiciones #fe, tamanho da oração=845 caracteres, idioma=es-MX
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:21:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 509 caracteres
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe_meta.txt
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe.srt
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe_short.srt
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=b69093ac-4527-4086-a1f5-50b040851e85, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe, progress=100%
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe.mp3
2025-03-15 16:21:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe.mp3
2025-03-15 16:21:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe_short.mp3
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe_short.mp3
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b69093ac-4527-4086-a1f5-50b040851e85, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo b69093ac-4527-4086-a1f5-50b040851e85: full=.\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe.mp3, short=.\gerados\b69093ac-4527-4086-a1f5-50b040851e85\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_bendiciones_fe_short.mp3
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:21:46 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: b69093ac-4527-4086-a1f5-50b040851e85
2025-03-15 16:25:09 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: b1b00082-418b-448e-802f-dcf214a23a9d (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:25:09 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:09 [http-nio-8080-exec-1] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:25:09 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=b1b00082-418b-448e-802f-dcf214a23a9d, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:25:09 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:09 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:09 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Gerando títulos..., progress=20%
2025-03-15 16:25:09 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo b1b00082-418b-448e-802f-dcf214a23a9d no idioma es-MX
2025-03-15 16:25:09 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:25:09 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=b1b00082-418b-448e-802f-dcf214a23a9d, quantidade=5
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, progress=45%
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: b1b00082-418b-448e-802f-dcf214a23a9d com título: PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 910 caracteres)
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:25:11 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 922 caracteres)
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=922 caracteres, idioma=es-MX
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:25:14 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 327 caracteres
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A TU FAMILIA #oración #bendiciones 🙏, tamanho da oração=922 caracteres, idioma=es-MX
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:25:15 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 841 caracteres
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__meta.txt
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.srt
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.srt
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=b1b00082-418b-448e-802f-dcf214a23a9d, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_, progress=100%
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:18 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:30 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.mp3
2025-03-15 16:25:35 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.mp3
2025-03-15 16:25:36 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:25:36 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:25:43 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.mp3
2025-03-15 16:25:53 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.mp3
2025-03-15 16:26:36 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=b1b00082-418b-448e-802f-dcf214a23a9d, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 16:26:36 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo b1b00082-418b-448e-802f-dcf214a23a9d: full=.\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones_.mp3, short=.\gerados\b1b00082-418b-448e-802f-dcf214a23a9d\PODEROSA_ORACI_N_para_PROTEGER_A_TU_FAMILIA_oraci_n_bendiciones__short.mp3
2025-03-15 16:26:36 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:26:36 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: b1b00082-418b-448e-802f-dcf214a23a9d
2025-03-15 16:28:23 [http-nio-8080-exec-2] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: e671395a-f3b0-4f47-b835-23b2207b4120 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:28:23 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:28:23 [http-nio-8080-exec-2] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:28:23 [http-nio-8080-exec-2] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=e671395a-f3b0-4f47-b835-23b2207b4120, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:28:23 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:28:23 [http-nio-8080-exec-2] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:28:57 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e671395a-f3b0-4f47-b835-23b2207b4120, stage=Gerando títulos..., progress=20%
2025-03-15 16:29:02 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo e671395a-f3b0-4f47-b835-23b2207b4120 no idioma es-MX
2025-03-15 16:29:09 [SimpleAsyncTaskExecutor-24] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:29:12 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:29:15 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:29:18 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=e671395a-f3b0-4f47-b835-23b2207b4120, quantidade=5
2025-03-15 16:29:44 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e671395a-f3b0-4f47-b835-23b2207b4120, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:29:52 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:30:00 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏
2025-03-15 16:30:12 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e671395a-f3b0-4f47-b835-23b2207b4120, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, progress=45%
2025-03-15 16:30:21 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:30:21 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: e671395a-f3b0-4f47-b835-23b2207b4120 com título: PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏
2025-03-15 16:30:21 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: e671395a-f3b0-4f47-b835-23b2207b4120
2025-03-15 16:30:23 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=e671395a-f3b0-4f47-b835-23b2207b4120, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 908 caracteres)
2025-03-15 16:30:24 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN FAMILIAR #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:30:27 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:30:27 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:30:38 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 16:30:38 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 16:30:38 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:30:38 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 16:30:38 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:30:40 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 8660 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:30:40 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:30:40 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:30:41 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:30:41 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:30:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:30:41 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:30:41 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:30:41 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:30:41 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1330 ms
2025-03-15 16:30:42 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:30:42 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:30:42 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:30:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:30:42 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.807 seconds (process running for 3.603)
2025-03-15 16:30:44 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:30:44 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:30:44 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 16:30:47 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 2248ad37-3787-40c4-8c60-180fe52b1361 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:30:47 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:30:47 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:30:47 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=2248ad37-3787-40c4-8c60-180fe52b1361, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:30:47 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:30:47 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:31:05 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Gerando títulos..., progress=20%
2025-03-15 16:31:14 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 2248ad37-3787-40c4-8c60-180fe52b1361 no idioma es-MX
2025-03-15 16:31:19 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:31:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:31:29 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:31:44 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=2248ad37-3787-40c4-8c60-180fe52b1361, quantidade=5
2025-03-15 16:31:54 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:31:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:32:04 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏
2025-03-15 16:32:09 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏, progress=45%
2025-03-15 16:32:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:32:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 2248ad37-3787-40c4-8c60-180fe52b1361 com título: PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏
2025-03-15 16:32:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:32:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:32:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:32:24 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:32:24 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:32:25 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏, idioma=es-MX
2025-03-15 16:32:28 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 913 caracteres)
2025-03-15 16:32:28 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:32:28 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:32:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:32:34 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:32:34 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:32:34 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 799 caracteres)
2025-03-15 16:33:01 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:33:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:33:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏, tamanho da oração=799 caracteres, idioma=es-MX
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:33:29 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:31 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 254 caracteres
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTEGER A MI FAMILIA #protección #bendiciones 🙏, tamanho da oração=799 caracteres, idioma=es-MX
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:33:40 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 628 caracteres
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones__meta.txt
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_.srt
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_\texto\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones__short.srt
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=2248ad37-3787-40c4-8c60-180fe52b1361, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_, progress=100%
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:52 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_.mp3
2025-03-15 16:33:52 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_.mp3
2025-03-15 16:33:52 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:52 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones__short.mp3
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones__short.mp3
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=2248ad37-3787-40c4-8c60-180fe52b1361, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 2248ad37-3787-40c4-8c60-180fe52b1361: full=.\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones_.mp3, short=.\gerados\2248ad37-3787-40c4-8c60-180fe52b1361\PODEROSA_ORACI_N_PARA_PROTEGER_A_MI_FAMILIA_protecci_n_bendiciones__short.mp3
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:33:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 2248ad37-3787-40c4-8c60-180fe52b1361
2025-03-15 16:35:13 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:35:13 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:13 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:35:13 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:35:13 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:13 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:13 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Gerando títulos..., progress=20%
2025-03-15 16:35:13 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d no idioma es-MX
2025-03-15 16:35:13 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:35:13 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, quantidade=5
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Título selecionado: PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d com título: PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 913 caracteres)
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:35:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:35:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:35:18 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:35:18 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1188 caracteres)
2025-03-15 16:35:18 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:35:21 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:35:25 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:36:15 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:36:16 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:36:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:36:16 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN por la PROTECCIÓN de FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1188 caracteres, idioma=es-MX
2025-03-15 16:36:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:36:16 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:36:17 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 49b4623e-c4b4-49d3-8ea8-1a6c4e85145d
2025-03-15 16:36:30 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:36:41 [SimpleAsyncTaskExecutor-20] ERROR d.l.roteiro.service.OpenAIService - Erro ao processar a requisição
java.net.SocketException: Uma conexão estabelecida foi anulada pelo software no computador host
	at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:425)
	at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:445)
	at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:831)
	at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)
	at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)
	at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)
	at java.base/sun.security.ssl.Finished$T13FinishedProducer.onProduceFinished(Finished.java:693)
	at java.base/sun.security.ssl.Finished$T13FinishedProducer.produce(Finished.java:672)
	at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:440)
	at java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1030)
	at java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:893)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)
	at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)
	at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:589)
	at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1451)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1422)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:220)
	at dev.luisoliveira.roteiro.service.OpenAIService.callGpt(OpenAIService.java:76)
	at dev.luisoliveira.roteiro.service.OpenAIService.generateOracao(OpenAIService.java:37)
	at dev.luisoliveira.roteiro.service.ShortGenerationService.handleOracaoGeneratedEvent(ShortGenerationService.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 16:36:42 [SimpleAsyncTaskExecutor-20] ERROR d.l.r.service.ShortGenerationService - Erro ao gerar versão short: Erro ao processar a requisição para OpenAI
java.lang.RuntimeException: Erro ao processar a requisição para OpenAI
	at dev.luisoliveira.roteiro.service.OpenAIService.callGpt(OpenAIService.java:110)
	at dev.luisoliveira.roteiro.service.OpenAIService.generateOracao(OpenAIService.java:37)
	at dev.luisoliveira.roteiro.service.ShortGenerationService.handleOracaoGeneratedEvent(ShortGenerationService.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketException: Uma conexão estabelecida foi anulada pelo software no computador host
	at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:425)
	at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:445)
	at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:831)
	at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)
	at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)
	at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)
	at java.base/sun.security.ssl.Finished$T13FinishedProducer.onProduceFinished(Finished.java:693)
	at java.base/sun.security.ssl.Finished$T13FinishedProducer.produce(Finished.java:672)
	at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:440)
	at java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1030)
	at java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:893)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)
	at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)
	at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:589)
	at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1451)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1422)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:220)
	at dev.luisoliveira.roteiro.service.OpenAIService.callGpt(OpenAIService.java:76)
	... 13 common frames omitted
2025-03-15 16:36:42 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=49b4623e-c4b4-49d3-8ea8-1a6c4e85145d, stage=Erro ao gerar versão short: Erro ao processar a requisição para OpenAI, progress=0%
2025-03-15 16:37:45 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 16:37:46 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 16:37:46 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:37:46 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 16:37:46 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 16:37:48 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 22796 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 16:37:48 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 16:37:48 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 16:37:49 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 16:37:49 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 16:37:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 16:37:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 16:37:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 16:37:50 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 16:37:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1611 ms
2025-03-15 16:37:50 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 16:37:50 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 16:37:50 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 16:37:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 16:37:51 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.182 seconds (process running for 4.054)
2025-03-15 16:37:55 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 16:37:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 16:37:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 16:37:56 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:37:56 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:56 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:37:56 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:37:56 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:56 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:56 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Gerando títulos..., progress=20%
2025-03-15 16:37:56 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo d5e053ce-fcc7-4452-83a8-f4ffc06b43d5 no idioma es-MX
2025-03-15 16:37:56 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:37:56 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, quantidade=5
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5 com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:37:58 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1202 caracteres)
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1202 caracteres, idioma=es-MX
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:38:01 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 438 caracteres
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1202 caracteres, idioma=es-MX
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:38:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 584 caracteres
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:37 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\d5e053ce-fcc7-4452-83a8-f4ffc06b43d5\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\d5e053ce-fcc7-4452-83a8-f4ffc06b43d5\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: d5e053ce-fcc7-4452-83a8-f4ffc06b43d5
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:88)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	... 13 common frames omitted
2025-03-15 16:38:53 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=d5e053ce-fcc7-4452-83a8-f4ffc06b43d5, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}, progress=89%
2025-03-15 16:39:48 [http-nio-8080-exec-9] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 1a722371-674f-41a2-b37b-7ff6bc69482b (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:39:48 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:48 [http-nio-8080-exec-9] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:39:48 [http-nio-8080-exec-9] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:39:48 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:48 [http-nio-8080-exec-9] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:48 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Gerando títulos..., progress=20%
2025-03-15 16:39:48 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 1a722371-674f-41a2-b37b-7ff6bc69482b no idioma es-MX
2025-03-15 16:39:48 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:39:48 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, quantidade=5
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Título selecionado: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 1a722371-674f-41a2-b37b-7ff6bc69482b com título: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:39:50 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1200 caracteres)
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-20] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1200 caracteres, idioma=es-MX
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:39:53 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 469 caracteres
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1200 caracteres, idioma=es-MX
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:39:55 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 405 caracteres
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, resultPath=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:39:56 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:40:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 16:40:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 16:40:11 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:40:11 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a722371-674f-41a2-b37b-7ff6bc69482b, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 1a722371-674f-41a2-b37b-7ff6bc69482b: full=.\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.mp3, short=.\gerados\1a722371-674f-41a2-b37b-7ff6bc69482b\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.mp3
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:40:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 1a722371-674f-41a2-b37b-7ff6bc69482b
2025-03-15 16:40:31 [http-nio-8080-exec-10] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 592ab878-b900-4cbb-800e-6a91b96a1db6 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 16:40:31 [http-nio-8080-exec-10] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:31 [http-nio-8080-exec-10] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 16:40:31 [http-nio-8080-exec-10] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 16:40:31 [http-nio-8080-exec-10] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:31 [http-nio-8080-exec-10] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:31 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Gerando títulos..., progress=20%
2025-03-15 16:40:31 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 592ab878-b900-4cbb-800e-6a91b96a1db6 no idioma es-MX
2025-03-15 16:40:31 [SimpleAsyncTaskExecutor-24] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 16:40:31 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, quantidade=5
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Título selecionado: PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 592ab878-b900-4cbb-800e-6a91b96a1db6 com título: PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 912 caracteres)
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 16:40:33 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 995 caracteres)
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Oração gerada com sucesso, progress=70%
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Gerando versão short da oração..., progress=75%
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-26] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏, tamanho da oração=995 caracteres, idioma=es-MX
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 16:40:35 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 451 caracteres
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-27] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTEGER A LAS FAMILIAS #oración #bendiciones 🙏, tamanho da oração=995 caracteres, idioma=es-MX
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 16:40:57 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 16:41:03 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 16:41:03 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:41:03 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 629 caracteres
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-27] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-27] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Compilando conteúdo final..., progress=95%
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:41:36 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:41:48 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 16:42:05 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 16:42:05 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 16:42:09 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:42:09 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 16:42:09 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_
2025-03-15 16:42:09 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:42:09 [SimpleAsyncTaskExecutor-29] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:42:21 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Gerando áudio da oração..., progress=88%
2025-03-15 16:45:34 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:45:44 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 16:45:44 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 16:46:03 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.ElevenLabsService - Áudio salvo com sucesso em: .\gerados\592ab878-b900-4cbb-800e-6a91b96a1db6\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 17:10:17 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\592ab878-b900-4cbb-800e-6a91b96a1db6\PODEROSA_ORACI_N_para_PROTEGER_A_LAS_FAMILIAS_oraci_n_bendiciones_.mp3
2025-03-15 17:10:17 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 592ab878-b900-4cbb-800e-6a91b96a1db6
2025-03-15 17:10:17 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 17:10:18 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
2025-03-15 17:10:18 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 17:10:18 [SimpleAsyncTaskExecutor-28] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:88)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:442)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:132)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:79)
	... 13 common frames omitted
2025-03-15 17:10:18 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=592ab878-b900-4cbb-800e-6a91b96a1db6, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"detected_unusual_activity","message":"Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue."}}, progress=89%
2025-03-15 17:10:34 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 17:10:34 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 17:10:34 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:10:34 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 17:10:34 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 17:11:06 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 24124 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:11:06 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:11:06 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:11:07 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:11:07 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:11:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:11:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:11:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:11:08 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:11:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1452 ms
2025-03-15 17:11:08 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'audioGenerationService' defined in file [D:\WORKSPACE\roteiro\target\classes\dev\luisoliveira\roteiro\service\AudioGenerationService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'elevenLabsService' defined in file [D:\WORKSPACE\roteiro\target\classes\dev\luisoliveira\roteiro\service\ElevenLabsService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-03-15 17:11:08 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-15 17:11:08 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-15 17:11:08 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in dev.luisoliveira.roteiro.service.ElevenLabsService required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

2025-03-15 17:23:23 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 15460 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:23:23 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:23:23 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:23:24 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:23:24 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:23:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:23:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:23:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:23:25 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:23:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1493 ms
2025-03-15 17:23:26 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:23:26 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 17:23:26 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 17:23:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 17:23:26 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.999 seconds (process running for 3.407)
2025-03-15 17:24:08 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 17:24:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 17:24:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 17:24:15 [http-nio-8080-exec-5] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 15694280-afc8-4392-b2fe-4d0b05160960 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 17:24:15 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:15 [http-nio-8080-exec-5] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 17:24:15 [http-nio-8080-exec-5] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=15694280-afc8-4392-b2fe-4d0b05160960, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 17:24:15 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:15 [http-nio-8080-exec-5] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Gerando títulos..., progress=20%
2025-03-15 17:24:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 15694280-afc8-4392-b2fe-4d0b05160960 no idioma es-MX
2025-03-15 17:24:15 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=false
2025-03-15 17:24:15 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=15694280-afc8-4392-b2fe-4d0b05160960, quantidade=5
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Título selecionado: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, progress=45%
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 15694280-afc8-4392-b2fe-4d0b05160960 com título: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 911 caracteres)
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 17:24:18 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1347 caracteres)
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Oração gerada com sucesso, progress=70%
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Gerando versão short da oração..., progress=75%
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1347 caracteres, idioma=es-MX
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 17:24:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 420 caracteres
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS #oración #bendiciones 🙏, tamanho da oração=1347 caracteres, idioma=es-MX
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 17:24:24 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 439 caracteres
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Gerando áudio da oração..., progress=88%
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Compilando conteúdo final..., progress=95%
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__meta.txt
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_.srt
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones__short.srt
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=15694280-afc8-4392-b2fe-4d0b05160960, resultPath=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_, progress=100%
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:26 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=15694280-afc8-4392-b2fe-4d0b05160960, título='PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_'
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci.mp3
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci.mp3
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:45 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: TxGEqnHWrfWFTfGW9XjX
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=15694280-afc8-4392-b2fe-4d0b05160960, título='PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_'
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_short.mp3
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_short.mp3
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=15694280-afc8-4392-b2fe-4d0b05160960, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 15694280-afc8-4392-b2fe-4d0b05160960: full=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci.mp3, short=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_oraci_short.mp3
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:24:50 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 15694280-afc8-4392-b2fe-4d0b05160960
2025-03-15 17:25:56 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 17:25:56 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 17:25:56 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:25:56 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 17:25:56 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 17:25:58 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 15048 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:25:58 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:25:58 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:25:59 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:25:59 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:26:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:26:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:26:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:26:00 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:26:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1548 ms
2025-03-15 17:26:00 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:26:00 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 17:26:00 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 17:26:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 17:26:00 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.913 seconds (process running for 3.313)
2025-03-15 17:26:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 17:26:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 17:26:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 17:27:21 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 01788757-9ea6-492e-b85e-dd19da4b13f2 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 17:27:21 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:21 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 17:27:21 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 17:27:21 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:21 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:21 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Gerando títulos..., progress=20%
2025-03-15 17:27:21 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 01788757-9ea6-492e-b85e-dd19da4b13f2 no idioma es-MX
2025-03-15 17:27:21 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 17:27:21 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, quantidade=5
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Título selecionado: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏, progress=45%
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 01788757-9ea6-492e-b85e-dd19da4b13f2 com título: PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏, idioma=es-MX
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 913 caracteres)
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 17:27:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 899 caracteres)
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Oração gerada com sucesso, progress=70%
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Gerando versão short da oração..., progress=75%
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏, tamanho da oração=899 caracteres, idioma=es-MX
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 17:27:26 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 338 caracteres
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE PROTECCIÓN PARA FAMILIAS SEGÚN SALMO 23 #oración 🙏, tamanho da oração=899 caracteres, idioma=es-MX
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 17:27:28 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 536 caracteres
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Gerando áudio da oração..., progress=88%
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Compilando conteúdo final..., progress=95%
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n__meta.txt
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_.srt
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_\texto\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n__short.srt
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, resultPath=.\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_, progress=100%
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_PROTECCI_N_PARA_FAMILIAS_SEG_N_SALMO_23_oraci_n_
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:29 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 01788757-9ea6-492e-b85e-dd19da4b13f2
2025-03-15 17:27:30 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
2025-03-15 17:27:30 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.ElevenLabsService - Erro ao converter texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:150)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:97)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:498)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-03-15 17:27:30 [SimpleAsyncTaskExecutor-16] ERROR d.l.r.service.AudioGenerationService - Erro ao gerar áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
java.io.IOException: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:106)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:498)
	at dev.luisoliveira.roteiro.service.AudioGenerationService.handleDescriptionGeneratedEvent(AudioGenerationService.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.lambda$multicastEvent$0(SimpleApplicationEventMulticaster.java:148)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertSingleChunk(ElevenLabsService.java:150)
	at dev.luisoliveira.roteiro.service.ElevenLabsService.convertTextToSpeech(ElevenLabsService.java:97)
	... 13 common frames omitted
2025-03-15 17:27:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=01788757-9ea6-492e-b85e-dd19da4b13f2, stage=Aviso: Não foi possível gerar o áudio: Falha na conversão de texto para áudio: Erro na API da ElevenLabs: 401 - {"detail":{"status":"quota_exceeded","message":"This request exceeds your quota of 10000. You have 602 credits remaining, while 896 credits are required for this request."}}, progress=89%
2025-03-15 17:34:35 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 17:34:35 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 17:34:35 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:34:35 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 17:34:35 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 17:41:10 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 31256 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:41:10 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:41:10 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:41:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:41:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:41:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:41:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:41:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:41:12 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:41:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1469 ms
2025-03-15 17:41:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:41:12 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 17:41:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 17:41:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 17:41:12 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.882 seconds (process running for 3.322)
2025-03-15 17:41:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 17:41:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 17:41:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 17:41:33 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 17:41:33 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:33 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 17:41:33 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 17:41:33 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:33 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:33 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Gerando títulos..., progress=20%
2025-03-15 17:41:33 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb no idioma es-MX
2025-03-15 17:41:33 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Proteção para familias, estilo=peticao, idioma=es-MX, hasObservacoes=true
2025-03-15 17:41:33 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, quantidade=5
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Título selecionado: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏, progress=45%
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb com título: PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Proteção para familias, estilo=peticao, duracao=Short1, idioma=es-MX
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Proteção para familias, estilo=peticao, duracao=Short1, titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏, idioma=es-MX
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 925 caracteres)
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Proteção para familias
Estilo: peticao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 17:41:36 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 782 caracteres)
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Oração gerada com sucesso, progress=70%
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Flag gerarVersaoShort é true para o processo 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, gerando versão short
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Gerando versão short da oração..., progress=75%
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Gerando versão short da oração no idioma: es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para versão short: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏, tamanho da oração=782 caracteres, idioma=es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Iniciando geração da versão short no idioma: es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Versão short gerada com sucesso, progress=80%
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Versão short gerada com sucesso: 315 caracteres
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para PROTECCIÓN DE FAMILIAS conforme Salmo 23 #oración #familia 🙏, tamanho da oração=782 caracteres, idioma=es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 17:41:39 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 489 caracteres
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Gerando áudio da oração..., progress=88%
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Compilando conteúdo final..., progress=95%
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia__meta.txt
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_.srt
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\texto\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia__short.srt
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, resultPath=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_, progress=100%
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:42 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, título='PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_'
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo.mp3
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo.mp3
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:41:56 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, título='PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_'
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo_short.mp3
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo_short.mp3
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=62ccfe17-d2a3-43ed-8b7e-2c66978c79bb, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb: full=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo.mp3, short=.\gerados\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_conforme_Salmo_23_oraci_n_familia_\audio\PODEROSA_ORACI_N_para_PROTECCI_N_DE_FAMILIAS_confo_short.mp3
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:42:01 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 62ccfe17-d2a3-43ed-8b7e-2c66978c79bb
2025-03-15 17:44:04 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 17:44:04 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 17:44:04 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:44:04 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 17:44:04 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 17:44:09 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 37328 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:44:09 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:44:09 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:44:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:44:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:44:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:44:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:44:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:44:10 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:44:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1531 ms
2025-03-15 17:44:11 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:44:11 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 17:44:11 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 17:44:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 17:44:11 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 2.995 seconds (process running for 3.398)
2025-03-15 17:44:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 17:44:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 17:44:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 17:45:17 [http-nio-8080-exec-10] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 17:45:17 [http-nio-8080-exec-10] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:17 [http-nio-8080-exec-10] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 17:45:17 [http-nio-8080-exec-10] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 17:45:17 [http-nio-8080-exec-10] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:17 [http-nio-8080-exec-10] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Gerando títulos..., progress=20%
2025-03-15 17:45:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo cb9a6dab-7be9-4a9d-b203-af7583a8a1ca no idioma es-MX
2025-03-15 17:45:17 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Agradecimento a DEUS, estilo=louvor, idioma=es-MX, hasObservacoes=false
2025-03-15 17:45:17 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, quantidade=5
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Título selecionado: PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏, progress=45%
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca com título: PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Agradecimento a DEUS, estilo=louvor, duracao=Short1, idioma=es-MX
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Agradecimento a DEUS, estilo=louvor, duracao=Short1, titulo=PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏, idioma=es-MX
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 918 caracteres)
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Agradecimento a DEUS
Estilo: louvor
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 17:45:20 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1329 caracteres)
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Oração gerada com sucesso, progress=70%
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE AGRADECIMIENTO A DIOS POR BENDICIONES #oración #gratitud 🙏, tamanho da oração=1329 caracteres, idioma=es-MX
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 17:45:23 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 564 caracteres
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Gerando áudio da oração..., progress=88%
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Compilando conteúdo final..., progress=95%
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\texto\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud__meta.txt
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\texto\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_.srt
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\texto\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud__short.srt
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, resultPath=.\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_, progress=100%
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:25 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, título='PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_'
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND.mp3
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND.mp3
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:45:48 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, título='PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_'
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio da versão curta salvo em: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND_short.mp3
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da versão curta gerado com sucesso: .\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND_short.mp3
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=cb9a6dab-7be9-4a9d-b203-af7583a8a1ca, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo cb9a6dab-7be9-4a9d-b203-af7583a8a1ca: full=.\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND.mp3, short=.\gerados\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BENDICIONES_oraci_n_gratitud_\audio\PODEROSA_ORACI_N_DE_AGRADECIMIENTO_A_DIOS_POR_BEND_short.mp3
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:46:12 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: cb9a6dab-7be9-4a9d-b203-af7583a8a1ca
2025-03-15 17:48:29 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 17:48:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 17:48:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:48:29 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 17:48:29 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 17:48:33 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 37748 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 17:48:33 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 17:48:33 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 17:48:34 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 17:48:34 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 17:48:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 17:48:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 17:48:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 17:48:35 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 17:48:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1691 ms
2025-03-15 17:48:36 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 17:48:36 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 17:48:36 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 17:48:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 17:48:36 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.207 seconds (process running for 3.665)
2025-03-15 17:48:55 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 17:48:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 17:48:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 17:49:07 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 02af6a1c-b444-4bac-81fd-2b04f1805815 (idioma: es-MX, título: fornecido, gerarVersaoShort: null, gerarAudio: true)
2025-03-15 17:49:07 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:07 [http-nio-8080-exec-6] DEBUG d.l.r.c.ContentGenerationController - gerarVersaoShort é null, definindo valor padrão
2025-03-15 17:49:07 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, idioma=es-MX, titulo=fornecido, gerarVersaoShort=true, gerarAudio=true
2025-03-15 17:49:07 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:07 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:07 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Gerando títulos..., progress=20%
2025-03-15 17:49:07 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 02af6a1c-b444-4bac-81fd-2b04f1805815 no idioma es-MX
2025-03-15 17:49:07 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Agradecimento a DEUS, estilo=gratidao, idioma=es-MX, hasObservacoes=false
2025-03-15 17:49:07 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, quantidade=5
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Título selecionado: PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏, progress=45%
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 02af6a1c-b444-4bac-81fd-2b04f1805815 com título: PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Agradecimento a DEUS, estilo=gratidao, duracao=Short1, idioma=es-MX
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Agradecimento a DEUS, estilo=gratidao, duracao=Short1, titulo=PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏, idioma=es-MX
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 918 caracteres)
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Agradecimento a DEUS
Estilo: gratidao
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 17:49:09 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1221 caracteres)
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Oração gerada com sucesso, progress=70%
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN de GRATIDÃO a DEUS por sus BENDICIONES #oración #gratidão 🙏, tamanho da oração=1221 caracteres, idioma=es-MX
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 17:49:13 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 705 caracteres
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Gerando áudio da oração..., progress=88%
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Compilando conteúdo final..., progress=95%
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\texto\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o__meta.txt
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\texto\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_.srt
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\texto\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o__short.srt
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, resultPath=.\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_, progress=100%
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:15 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=02af6a1c-b444-4bac-81fd-2b04f1805815, título='PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_'
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\audio\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDIC.mp3
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\audio\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDIC.mp3
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Pulando geração de áudio short pois não houve geração de versão short personalizada
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=02af6a1c-b444-4bac-81fd-2b04f1805815, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 02af6a1c-b444-4bac-81fd-2b04f1805815: full=.\gerados\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDICIONES_oraci_n_gratid_o_\audio\PODEROSA_ORACI_N_de_GRATID_O_a_DEUS_por_sus_BENDIC.mp3, short=null
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 17:49:36 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 02af6a1c-b444-4bac-81fd-2b04f1805815
2025-03-15 18:01:44 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: fc32d741-7d94-49e7-9793-f8f9a37e7c89 (idioma: pt-BR, título: fornecido, gerarVersaoShort: false, gerarAudio: true)
2025-03-15 18:01:44 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:44 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, idioma=pt-BR, titulo=fornecido, gerarVersaoShort=false, gerarAudio=true
2025-03-15 18:01:44 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:44 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:44 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Gerando títulos..., progress=20%
2025-03-15 18:01:44 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo fc32d741-7d94-49e7-9793-f8f9a37e7c89 no idioma pt-BR
2025-03-15 18:01:44 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=louvou a Deus, estilo=louvor, idioma=pt-BR, hasObservacoes=false
2025-03-15 18:01:44 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, quantidade=5
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Título selecionado: PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌, progress=45%
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89 com título: PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=louvou a Deus, estilo=louvor, duracao=Short1, idioma=pt-BR
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: pt-BR
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=louvou a Deus, estilo=louvor, duracao=Short1, titulo=PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌, idioma=pt-BR
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 749 caracteres)
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crie uma oração em português com o título: "PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌"

Tema: louvou a Deus
Estilo: louvor
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 18:01:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1416 caracteres)
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Oração gerada com sucesso, progress=70%
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: pt-BR
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-21] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN de LOUVOR A DEUS para RENOVAÇÃO ESPIRITUAL #oración #louvor 🙌, tamanho da oração=1416 caracteres, idioma=pt-BR
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: pt-BR
2025-03-15 18:01:51 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 521 caracteres
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-21] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Gerando áudio da oração..., progress=88%
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Compilando conteúdo final..., progress=95%
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\texto\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor__meta.txt
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\texto\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_.srt
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\texto\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor__short.srt
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, resultPath=.\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_, progress=100%
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:01:53 [SimpleAsyncTaskExecutor-23] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, título='PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_'
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\audio\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ES.mp3
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\audio\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ES.mp3
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.AudioGenerationService - Pulando geração de áudio short pois não houve geração de versão short personalizada
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=fc32d741-7d94-49e7-9793-f8f9a37e7c89, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo fc32d741-7d94-49e7-9793-f8f9a37e7c89: full=.\gerados\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ESPIRITUAL_oraci_n_louvor_\audio\PODEROSA_ORACI_N_de_LOUVOR_A_DEUS_para_RENOVA_O_ES.mp3, short=null
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:02:18 [SimpleAsyncTaskExecutor-22] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: fc32d741-7d94-49e7-9793-f8f9a37e7c89
2025-03-15 18:10:31 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 18:10:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 18:10:31 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:10:31 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 18:10:31 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 18:14:26 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 37308 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 18:14:26 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 18:14:26 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 18:14:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 18:14:27 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 18:14:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 18:14:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 18:14:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 18:14:28 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 18:14:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1522 ms
2025-03-15 18:14:28 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:14:28 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 18:14:28 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 18:14:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 18:14:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@336f49a1]]
2025-03-15 18:14:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 18:14:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 18:14:28 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.106 seconds (process running for 3.52)
2025-03-15 18:15:28 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 18:28:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@336f49a1]]
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 18:28:08 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 18:30:09 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 37248 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 18:30:09 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 18:30:09 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 18:30:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 18:30:10 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 18:30:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 18:30:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 18:30:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 18:30:11 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 18:30:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1521 ms
2025-03-15 18:30:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:30:12 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 18:30:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 18:30:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 18:30:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@340afaf8]]
2025-03-15 18:30:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 18:30:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 18:30:12 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.086 seconds (process running for 3.511)
2025-03-15 18:30:36 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 18:30:36 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 18:30:36 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 18:30:36 [http-nio-8080-exec-3] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 475322a9-cd73-415a-8eb3-884cd5cdd6fc (idioma: es-MX, título: fornecido, gerarVersaoShort: false, gerarAudio: true)
2025-03-15 18:30:36 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:36 [http-nio-8080-exec-3] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROCESS_INITIALIZED, message=Processo iniciado com sucesso, data=0, timestamp=2025-03-15T18:30:36.217402100)
2025-03-15 18:30:36 [http-nio-8080-exec-3] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, idioma=es-MX, titulo=fornecido, gerarVersaoShort=false, gerarAudio=true
2025-03-15 18:30:36 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:36 [http-nio-8080-exec-3] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Gerando títulos..., progress=20%
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 20%: Gerando títulos...
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Gerando títulos..., data=20, timestamp=2025-03-15T18:30:36.245401800)
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 475322a9-cd73-415a-8eb3-884cd5cdd6fc no idioma es-MX
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Jesus é o Senhor, estilo=louvor, idioma=es-MX, hasObservacoes=false
2025-03-15 18:30:36 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, quantidade=5
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 40%: Títulos gerados com sucesso
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Títulos gerados com sucesso, data=40, timestamp=2025-03-15T18:30:40.819809400)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Título selecionado: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, progress=45%
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 45%: Título selecionado: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Título selecionado: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, data=45, timestamp=2025-03-15T18:30:40.820806600)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.service.NotificationService - Título selecionado para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc com título: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 50%: Gerando oração para o título selecionado...
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=TITLE_SELECTED, message=Título selecionado: PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, data=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, timestamp=2025-03-15T18:30:40.821805500)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Gerando oração para o título selecionado..., data=50, timestamp=2025-03-15T18:30:40.821805500)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Jesus é o Senhor, estilo=louvor, duracao=Short1, idioma=es-MX
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Jesus é o Senhor, estilo=louvor, duracao=Short1, titulo=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, idioma=es-MX
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 912 caracteres)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Jesus é o Senhor
Estilo: louvor
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 18:30:40 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1166 caracteres)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Oração gerada com sucesso, progress=70%
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 70%: Oração gerada com sucesso
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Oração gerada com sucesso, data=70, timestamp=2025-03-15T18:30:44.472525100)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.service.NotificationService - Oração gerada para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=ORACAO_GENERATED, message=Oração gerada com sucesso, data=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, timestamp=2025-03-15T18:30:44.473524700)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 80%: Versão short não necessária, prosseguindo...
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Versão short não necessária, prosseguindo..., data=80, timestamp=2025-03-15T18:30:44.473524700)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Versão curta gerada para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 85%: Gerando descrição para YouTube e TikTok...
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Gerando descrição para YouTube e TikTok..., data=85, timestamp=2025-03-15T18:30:44.476524700)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=SHORT_GENERATED, message=Versão curta gerada com sucesso, data=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, timestamp=2025-03-15T18:30:44.476524700)
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, tamanho da oração=1166 caracteres, idioma=es-MX
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 18:30:44 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 786 caracteres
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 90%: Descrição gerada com sucesso
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Descrição gerada com sucesso, data=90, timestamp=2025-03-15T18:30:47.270448400)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Gerando áudio da oração..., progress=88%
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 88%: Gerando áudio da oração...
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Gerando áudio da oração..., data=88, timestamp=2025-03-15T18:30:47.271759100)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.NotificationService - Descrição gerada para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Compilando conteúdo final..., progress=95%
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 95%: Compilando conteúdo final...
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=DESCRIPTION_GENERATED, message=Descrição gerada com sucesso, data=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, timestamp=2025-03-15T18:30:47.271759100)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Compilando conteúdo final..., data=95, timestamp=2025-03-15T18:30:47.271759100)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones__meta.txt
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_.srt
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\texto\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones__short.srt
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, resultPath=.\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=RESULT_STORED, message=Arquivos gerados e armazenados com sucesso, data=.\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_, timestamp=2025-03-15T18:30:47.279767600)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_, progress=100%
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 100%: Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_, data=100, timestamp=2025-03-15T18:30:47.280767200)
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.NotificationService - Enviando notificação de conclusão para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:30:47 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROCESS_COMPLETED, message=Processo concluído com sucesso!, data=.\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_, timestamp=2025-03-15T18:30:47.281765500)
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, título='PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_'
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_O.mp3
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_O.mp3
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Pulando geração de áudio short pois não houve geração de versão short personalizada
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc - 90%: Áudio gerado com sucesso
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=PROGRESS_UPDATE, message=Áudio gerado com sucesso, data=90, timestamp=2025-03-15T18:31:06.721425)
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 475322a9-cd73-415a-8eb3-884cd5cdd6fc: full=.\gerados\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_OR_oraci_n_bendiciones_\audio\PODEROSA_ORACI_N_para_RENDIR_HONOR_A_JES_S_EL_SE_O.mp3, short=null
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.NotificationService - Áudio gerado para o processo: 475322a9-cd73-415a-8eb3-884cd5cdd6fc
2025-03-15 18:31:06 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/475322a9-cd73-415a-8eb3-884cd5cdd6fc: NotificationMessage(processId=475322a9-cd73-415a-8eb3-884cd5cdd6fc, type=AUDIO_GENERATED, message=Áudio gerado com sucesso, data=PODEROSA ORACIÓN para RENDIR HONOR A JESÚS, EL SEÑOR #oración #bendiciones 🙏, timestamp=2025-03-15T18:31:06.723434)
2025-03-15 18:31:12 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 18:47:28 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@340afaf8]]
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 18:47:28 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 18:47:32 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 39036 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 18:47:32 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 18:47:32 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 18:47:33 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 18:47:33 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 18:47:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 18:47:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 18:47:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 18:47:34 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 18:47:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1691 ms
2025-03-15 18:47:34 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 18:47:34 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 18:47:34 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 18:47:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 18:47:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@24d8f87a]]
2025-03-15 18:47:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 18:47:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 18:47:35 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.496 seconds (process running for 3.945)
2025-03-15 18:48:34 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c (idioma: pt-BR, título: fornecido, gerarVersaoShort: false, gerarAudio: true)
2025-03-15 18:53:24 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROCESS_INITIALIZED, message=Processo iniciado com sucesso, data=0, timestamp=2025-03-15T18:53:24.181119800)
2025-03-15 18:53:24 [http-nio-8080-exec-1] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:24 [http-nio-8080-exec-1] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:24 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, idioma=pt-BR, titulo=fornecido, gerarVersaoShort=false, gerarAudio=true
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:24 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Gerando títulos..., progress=20%
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 20%: Gerando títulos...
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Gerando títulos..., data=20, timestamp=2025-03-15T18:53:24.205119200)
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c no idioma pt-BR
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=proteção para dormir , estilo=intercessoria, idioma=pt-BR, hasObservacoes=false
2025-03-15 18:53:24 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, quantidade=5
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 40%: Títulos gerados com sucesso
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Títulos gerados com sucesso, data=40, timestamp=2025-03-15T18:53:27.173729200)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Título selecionado: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, progress=45%
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 45%: Título selecionado: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Título selecionado: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, data=45, timestamp=2025-03-15T18:53:27.175731400)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.service.NotificationService - Recebido evento de título selecionado para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c com título: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 50%: Gerando oração para o título selecionado...
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=TITLE_SELECTED, message=Título selecionado: PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, data=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, timestamp=2025-03-15T18:53:27.177730200)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Gerando oração para o título selecionado..., data=50, timestamp=2025-03-15T18:53:27.177730200)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=proteção para dormir , estilo=intercessoria, duracao=Short1, idioma=pt-BR
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: pt-BR
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=proteção para dormir , estilo=intercessoria, duracao=Short1, titulo=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, idioma=pt-BR
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 753 caracteres)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crie uma oração em português com o título: "PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏"

Tema: proteção para dormir 
Estilo: intercessoria
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 18:53:27 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 914 caracteres)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Oração gerada com sucesso, progress=70%
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 70%: Oração gerada com sucesso
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Oração gerada com sucesso, data=70, timestamp=2025-03-15T18:53:30.015860500)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.service.NotificationService - Recebido evento de oração gerada para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=ORACAO_GENERATED, message=Oração gerada com sucesso, data=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, timestamp=2025-03-15T18:53:30.017860)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 80%: Versão short não necessária, prosseguindo...
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Versão short não necessária, prosseguindo..., data=80, timestamp=2025-03-15T18:53:30.017860)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-16] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 85%: Gerando descrição para YouTube e TikTok...
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Recebido evento de versão curta gerada para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Gerando descrição para YouTube e TikTok..., data=85, timestamp=2025-03-15T18:53:30.019864600)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=SHORT_GENERATED, message=Versão curta gerada com sucesso, data=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, timestamp=2025-03-15T18:53:30.019864600)
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: pt-BR
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, tamanho da oração=914 caracteres, idioma=pt-BR
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: pt-BR
2025-03-15 18:53:30 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 765 caracteres
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 90%: Descrição gerada com sucesso
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Descrição gerada com sucesso, data=90, timestamp=2025-03-15T18:53:32.897348400)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Gerando áudio da oração..., progress=88%
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 88%: Gerando áudio da oração...
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Gerando áudio da oração..., data=88, timestamp=2025-03-15T18:53:32.904347)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.NotificationService - Recebido evento de descrição gerada para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Compilando conteúdo final..., progress=95%
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 95%: Compilando conteúdo final...
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=DESCRIPTION_GENERATED, message=Descrição gerada com sucesso, data=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, timestamp=2025-03-15T18:53:32.904347)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Compilando conteúdo final..., data=95, timestamp=2025-03-15T18:53:32.904347)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Iniciando geração de áudio para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-21] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-21] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.ElevenLabsService - Iniciando conversão de texto para áudio com a ElevenLabs para processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ElevenLabsService - Usando voz ID: ZQe5CZNOzWyzPSCn5a3c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\texto\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o__meta.txt
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\texto\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_.srt
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\texto\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o__short.srt
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, resultPath=.\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=RESULT_STORED, message=Arquivos gerados e armazenados com sucesso, data=.\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_, timestamp=2025-03-15T18:53:32.916360100)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_, progress=100%
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 100%: Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_, data=100, timestamp=2025-03-15T18:53:32.917355800)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-20] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.NotificationService - Recebido evento de conclusão para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROCESS_COMPLETED, message=Processo concluído com sucesso!, data=.\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_, timestamp=2025-03-15T18:53:32.918359200)
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-22] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:32 [SimpleAsyncTaskExecutor-22] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Salvando arquivos de áudio para processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, título='PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_'
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.FileStorageService - Usando diretório existente para processo: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.FileStorageService - Áudio completo salvo em: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\audio\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_or.mp3
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Áudio da oração completa gerado com sucesso: .\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\audio\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_or.mp3
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.AudioGenerationService - Pulando geração de áudio short pois não houve geração de versão short personalizada
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, stage=Áudio gerado com sucesso, progress=90%
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Enviando notificação de progresso para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c - 90%: Áudio gerado com sucesso
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=PROGRESS_UPDATE, message=Áudio gerado com sucesso, data=90, timestamp=2025-03-15T18:53:48.956905600)
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.r.service.ProcessTrackingService - Caminhos de áudio armazenados para o processo 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: full=.\gerados\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_oraci_n_b_n_o_\audio\PODEROSA_ORACI_N_PARA_PROTE_O_NA_HORA_DE_DORMIR_or.mp3, short=null
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Publicando evento: AudioGeneratedEvent para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-19] INFO  d.l.roteiro.service.EventBusService - Evento AudioGeneratedEvent publicado com sucesso para o processId: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.NotificationService - Recebido evento de áudio gerado para o processo: 1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c: NotificationMessage(processId=1a5fd472-f1bd-4689-bcd6-44d56bd3a69c, type=AUDIO_GENERATED, message=Áudio gerado com sucesso, data=PODEROSA ORACIÓN PARA PROTEÇÃO NA HORA DE DORMIR #oración #bênção 🙏, timestamp=2025-03-15T18:53:48.958916)
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/1a5fd472-f1bd-4689-bcd6-44d56bd3a69c
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-23] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 18:53:48 [SimpleAsyncTaskExecutor-23] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 19:07:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@24d8f87a]]
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 19:07:23 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 19:07:28 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 42828 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 19:07:28 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 19:07:28 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 19:07:29 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 19:07:29 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 19:07:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 19:07:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 19:07:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 19:07:29 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 19:07:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1622 ms
2025-03-15 19:07:30 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 19:07:30 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 19:07:30 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 19:07:30 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 19:07:30 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@36d582cb]]
2025-03-15 19:07:30 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 19:07:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 19:07:30 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.344 seconds (process running for 3.814)
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 4c2e51cc-7793-492d-b21b-dd82418d285f (idioma: es-MX, título: fornecido, gerarVersaoShort: false, gerarAudio: false)
2025-03-15 19:08:00 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:00 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, idioma=es-MX, titulo=fornecido, gerarVersaoShort=false, gerarAudio=false
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:00 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Gerando títulos..., progress=20%
2025-03-15 19:08:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 4c2e51cc-7793-492d-b21b-dd82418d285f no idioma es-MX
2025-03-15 19:08:00 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Jesus é o Senhor, estilo=meditativa, idioma=es-MX, hasObservacoes=false
2025-03-15 19:08:00 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, quantidade=5
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Título selecionado: PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz, progress=45%
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 4c2e51cc-7793-492d-b21b-dd82418d285f com título: PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Jesus é o Senhor, estilo=meditativa, duracao=Short1, idioma=es-MX
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: es-MX
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Jesus é o Senhor, estilo=meditativa, duracao=Short1, titulo=PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz, idioma=es-MX
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 902 caracteres)
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crea una oración en español latino/mexicano con el título: "PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz"

Utiliza expresiones, palabras y giros típicos del español de México y Latinoamérica. Evita términos o expresiones propias del español de España.

Tema: Jesus é o Senhor
Estilo: meditativa
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 19:08:02 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 945 caracteres)
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Oração gerada com sucesso, progress=70%
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-13] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-14] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: es-MX
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para SENTIR EL AMOR DE JESÚS HOY #oración #paz, tamanho da oração=945 caracteres, idioma=es-MX
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: es-MX
2025-03-15 19:08:04 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 480 caracteres
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-16] INFO  d.l.r.service.AudioGenerationService - Geração de áudio desativada para o processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Compilando conteúdo final..., progress=95%
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz\texto\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz_meta.txt
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz\texto\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz.srt
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz\texto\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz_short.srt
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, resultPath=.\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=4c2e51cc-7793-492d-b21b-dd82418d285f, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz, progress=100%
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-17] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação de conclusão para o processo: 4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/4c2e51cc-7793-492d-b21b-dd82418d285f: NotificationMessage(processId=4c2e51cc-7793-492d-b21b-dd82418d285f, type=PROCESS_COMPLETED, message=Processo concluído com sucesso!, data=.\gerados\PODEROSA_ORACI_N_para_SENTIR_EL_AMOR_DE_JES_S_HOY_oraci_n_paz, timestamp=2025-03-15T19:08:06.924446700)
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/4c2e51cc-7793-492d-b21b-dd82418d285f
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 19:08:06 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 19:08:30 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 19:14:02 [http-nio-8080-exec-8] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 105577 ms. Closing XhrStreamingSockJsSession[id=qrmqpszv].
2025-03-15 19:14:02 [http-nio-8080-exec-8] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 107159 ms. Closing WebSocketServerSockJsSession[id=px3dhnza].
2025-03-15 19:14:31 [http-nio-8080-exec-4] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 89c9ef30-7469-41f6-8b09-31554ff545ea (idioma: pt-BR, título: fornecido, gerarVersaoShort: false, gerarAudio: false)
2025-03-15 19:14:31 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:31 [http-nio-8080-exec-4] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, idioma=pt-BR, titulo=fornecido, gerarVersaoShort=false, gerarAudio=false
2025-03-15 19:14:31 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:31 [http-nio-8080-exec-4] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:31 [SimpleAsyncTaskExecutor-45] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Gerando títulos..., progress=20%
2025-03-15 19:14:31 [SimpleAsyncTaskExecutor-45] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 89c9ef30-7469-41f6-8b09-31554ff545ea no idioma pt-BR
2025-03-15 19:14:31 [SimpleAsyncTaskExecutor-45] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Jesus é o Senhor, estilo=contemplativa, idioma=pt-BR, hasObservacoes=false
2025-03-15 19:14:31 [SimpleAsyncTaskExecutor-45] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, quantidade=5
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Título selecionado: PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏, progress=45%
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-45] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 89c9ef30-7469-41f6-8b09-31554ff545ea com título: PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Jesus é o Senhor, estilo=contemplativa, duracao=Short1, idioma=pt-BR
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: pt-BR
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Jesus é o Senhor, estilo=contemplativa, duracao=Short1, titulo=PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏, idioma=pt-BR
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 742 caracteres)
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crie uma oração em português com o título: "PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏"

Tema: Jesus é o Senhor
Estilo: contemplativa
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 19:14:33 [SimpleAsyncTaskExecutor-51] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1178 caracteres)
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Oração gerada com sucesso, progress=70%
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-51] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-52] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-53] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-53] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: pt-BR
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-53] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para CONTEMPLAR JESUS COMO SENHOR #oración 🙏, tamanho da oração=1178 caracteres, idioma=pt-BR
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-53] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: pt-BR
2025-03-15 19:14:36 [SimpleAsyncTaskExecutor-53] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 562 caracteres
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-53] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-54] INFO  d.l.r.service.AudioGenerationService - Geração de áudio desativada para o processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Compilando conteúdo final..., progress=95%
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_\texto\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n__meta.txt
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_\texto\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_.srt
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_\texto\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n__short.srt
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, resultPath=.\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=89c9ef30-7469-41f6-8b09-31554ff545ea, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_, progress=100%
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-55] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-56] INFO  d.l.r.service.NotificationService - Enviando notificação de conclusão para o processo: 89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-56] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/89c9ef30-7469-41f6-8b09-31554ff545ea: NotificationMessage(processId=89c9ef30-7469-41f6-8b09-31554ff545ea, type=PROCESS_COMPLETED, message=Processo concluído com sucesso!, data=.\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_COMO_SENHOR_oraci_n_, timestamp=2025-03-15T19:14:39.032668800)
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-56] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/89c9ef30-7469-41f6-8b09-31554ff545ea
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-56] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 19:14:39 [SimpleAsyncTaskExecutor-56] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 19:15:12 [http-nio-8080-exec-1] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 761ca465-780d-42e5-9904-c87c4508035a (idioma: pt-BR, título: fornecido, gerarVersaoShort: false, gerarAudio: false)
2025-03-15 19:15:12 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:12 [http-nio-8080-exec-1] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=761ca465-780d-42e5-9904-c87c4508035a, idioma=pt-BR, titulo=fornecido, gerarVersaoShort=false, gerarAudio=false
2025-03-15 19:15:12 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:12 [http-nio-8080-exec-1] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:12 [SimpleAsyncTaskExecutor-67] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Gerando títulos..., progress=20%
2025-03-15 19:15:12 [SimpleAsyncTaskExecutor-67] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 761ca465-780d-42e5-9904-c87c4508035a no idioma pt-BR
2025-03-15 19:15:12 [SimpleAsyncTaskExecutor-67] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=louvou a Deus, estilo=contemplativa, idioma=pt-BR, hasObservacoes=false
2025-03-15 19:15:12 [SimpleAsyncTaskExecutor-67] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:15:12 [http-nio-8080-exec-5] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 70041 ms. Closing WebSocketServerSockJsSession[id=po3amtmw].
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=761ca465-780d-42e5-9904-c87c4508035a, quantidade=5
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Título selecionado: PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏, progress=45%
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-67] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 761ca465-780d-42e5-9904-c87c4508035a com título: PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=louvou a Deus, estilo=contemplativa, duracao=Short1, idioma=pt-BR
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: pt-BR
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=louvou a Deus, estilo=contemplativa, duracao=Short1, titulo=PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏, idioma=pt-BR
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 749 caracteres)
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crie uma oração em português com o título: "PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏"

Tema: louvou a Deus
Estilo: contemplativa
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 19:15:14 [SimpleAsyncTaskExecutor-74] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1196 caracteres)
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Oração gerada com sucesso, progress=70%
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-74] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-75] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-76] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-76] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: pt-BR
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-76] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN DE LOUVOR A DEUS PELA PROTEÇÃO #oración #louvouaDeus 🙏, tamanho da oração=1196 caracteres, idioma=pt-BR
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-76] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: pt-BR
2025-03-15 19:15:20 [SimpleAsyncTaskExecutor-76] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 498 caracteres
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-76] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-77] INFO  d.l.r.service.AudioGenerationService - Geração de áudio desativada para o processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Compilando conteúdo final..., progress=95%
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_\texto\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus__meta.txt
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_\texto\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_.srt
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_\texto\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus__short.srt
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=761ca465-780d-42e5-9904-c87c4508035a, resultPath=.\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=761ca465-780d-42e5-9904-c87c4508035a, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_, progress=100%
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-78] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-79] INFO  d.l.r.service.NotificationService - Enviando notificação de conclusão para o processo: 761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-79] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/761ca465-780d-42e5-9904-c87c4508035a: NotificationMessage(processId=761ca465-780d-42e5-9904-c87c4508035a, type=PROCESS_COMPLETED, message=Processo concluído com sucesso!, data=.\gerados\PODEROSA_ORACI_N_DE_LOUVOR_A_DEUS_PELA_PROTE_O_oraci_n_louvouaDeus_, timestamp=2025-03-15T19:15:22.494407600)
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-79] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/761ca465-780d-42e5-9904-c87c4508035a
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-79] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 19:15:22 [SimpleAsyncTaskExecutor-79] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 19:31:28 [http-nio-8080-exec-4] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 135135 ms. Closing WebSocketServerSockJsSession[id=mo44vtqc].
2025-03-15 19:36:19 [http-nio-8080-exec-3] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 291191 ms. Closing WebSocketServerSockJsSession[id=xu0w3k3d].
2025-03-15 19:38:30 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[3 current WS(3)-HttpStream(0)-HttpPoll(0), 26 total, 5 closed abnormally (5 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(18)-CONNECTED(18)-DISCONNECT(11)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 488]
2025-03-15 19:41:29 [http-nio-8080-exec-1] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 60424 ms. Closing WebSocketServerSockJsSession[id=3uek0ejj].
2025-03-15 19:53:40 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 19:53:40 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 19:53:40 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 19:53:40 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@36d582cb]]
2025-03-15 19:53:40 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 19:53:40 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 19:53:40 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 19:53:40 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 19:53:46 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 6692 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 19:53:46 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 19:53:46 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 19:53:47 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 19:53:47 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 19:53:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 19:53:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 19:53:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 19:53:48 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 19:53:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1730 ms
2025-03-15 19:53:48 [main] INFO  d.l.r.service.SystemConfigService - Diretório de configuração criado: .\config
2025-03-15 19:53:48 [main] DEBUG d.l.r.service.SystemConfigService - Arquivo de configuração não encontrado, usando valores padrão
2025-03-15 19:53:48 [main] DEBUG d.l.r.service.SystemConfigService - Configurações salvas em: ./config/system.properties
2025-03-15 19:53:48 [main] INFO  d.l.r.service.SystemConfigService - Arquivo de configuração inicializado com valores padrão
2025-03-15 19:53:49 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 19:53:49 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 19:53:49 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 19:53:49 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 19:53:49 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@256589a1]]
2025-03-15 19:53:49 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 19:53:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 19:53:49 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.684 seconds (process running for 4.244)
2025-03-15 19:54:08 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 19:54:08 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 19:54:08 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 19:54:11 [http-nio-8080-exec-9] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: null
2025-03-15 19:54:11 [http-nio-8080-exec-10] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: null
2025-03-15 19:54:17 [http-nio-8080-exec-2] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: C:\
2025-03-15 19:54:23 [http-nio-8080-exec-3] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: null
2025-03-15 19:54:23 [http-nio-8080-exec-1] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: null
2025-03-15 19:54:29 [http-nio-8080-exec-5] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: C:\Users\lfpo2
2025-03-15 19:54:49 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 3, completed tasks = 11]
2025-03-15 19:55:48 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 19:55:48 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 19:55:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 19:55:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@256589a1]]
2025-03-15 19:55:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 19:55:48 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 19:55:48 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 19:55:48 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 19:55:53 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 21072 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 19:55:53 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 19:55:53 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 19:55:54 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 19:55:54 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 19:55:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 19:55:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 19:55:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 19:55:55 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 19:55:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1615 ms
2025-03-15 19:55:55 [main] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 19:55:56 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 19:55:56 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 19:55:56 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 19:55:56 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 19:55:56 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@9b367c8]]
2025-03-15 19:55:56 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 19:55:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 19:55:56 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.382 seconds (process running for 3.861)
2025-03-15 19:56:01 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 19:56:01 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 19:56:01 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 19:56:08 [http-nio-8080-exec-9] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: null
2025-03-15 19:56:08 [http-nio-8080-exec-10] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: null
2025-03-15 19:56:56 [MessageBroker-12] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 3, completed tasks = 15]
2025-03-15 19:59:14 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 19:59:14 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 19:59:14 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 19:59:14 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@9b367c8]]
2025-03-15 19:59:14 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 19:59:14 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 19:59:14 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 19:59:14 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 19:59:22 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 40608 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 19:59:22 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 19:59:22 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 19:59:23 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 19:59:23 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 19:59:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 19:59:24 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 19:59:24 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 19:59:24 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 19:59:24 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1693 ms
2025-03-15 19:59:24 [main] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 19:59:25 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 19:59:25 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 19:59:25 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 19:59:25 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 19:59:25 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4c4c7d6c]]
2025-03-15 19:59:25 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 19:59:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 19:59:25 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.652 seconds (process running for 4.095)
2025-03-15 19:59:31 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 19:59:31 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 19:59:31 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 20:00:25 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 20:02:15 [http-nio-8080-exec-2] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:02:15 [http-nio-8080-exec-2] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:02:15 [http-nio-8080-exec-6] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:02:15 [http-nio-8080-exec-6] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:02:48 [http-nio-8080-exec-7] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:02:48 [http-nio-8080-exec-7] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:02:48 [http-nio-8080-exec-8] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:02:48 [http-nio-8080-exec-8] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:06:54 [http-nio-8080-exec-1] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:06:54 [http-nio-8080-exec-1] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:06:54 [http-nio-8080-exec-6] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:06:54 [http-nio-8080-exec-6] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:07:08 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 20:07:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 20:07:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 20:07:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4c4c7d6c]]
2025-03-15 20:07:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 20:07:08 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 20:07:08 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 20:07:08 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 20:07:10 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 42620 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 20:07:10 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 20:07:10 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 20:07:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 20:07:11 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 20:07:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 20:07:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 20:07:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 20:07:12 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 20:07:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1442 ms
2025-03-15 20:07:12 [main] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:07:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 20:07:12 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 20:07:12 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 20:07:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 20:07:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@87f501f]]
2025-03-15 20:07:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 20:07:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 20:07:12 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.023 seconds (process running for 3.464)
2025-03-15 20:07:19 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 20:07:19 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 20:07:19 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-15 20:07:19 [http-nio-8080-exec-2] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:07:19 [http-nio-8080-exec-2] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:07:19 [http-nio-8080-exec-7] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:07:19 [http-nio-8080-exec-7] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:08:12 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 20:08:23 [http-nio-8080-exec-5] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:08:23 [http-nio-8080-exec-5] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:08:23 [http-nio-8080-exec-2] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:08:23 [http-nio-8080-exec-2] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:10:39 [http-nio-8080-exec-7] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:10:39 [http-nio-8080-exec-7] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:10:39 [http-nio-8080-exec-8] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 20:10:39 [http-nio-8080-exec-8] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 20:18:02 [http-nio-8080-exec-4] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: null
2025-03-15 20:18:02 [http-nio-8080-exec-5] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: null
2025-03-15 20:18:06 [http-nio-8080-exec-1] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: D:\
2025-03-15 20:18:22 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `boolean` from Object value (token `JsonToken.START_OBJECT`)]
2025-03-15 20:38:12 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2025-03-15 21:06:37 [http-nio-8080-exec-3] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 21:06:37 [http-nio-8080-exec-3] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 21:06:51 [http-nio-8080-exec-1] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: null
2025-03-15 21:06:51 [http-nio-8080-exec-6] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: null
2025-03-15 21:06:59 [http-nio-8080-exec-7] INFO  d.l.r.c.SystemConfigController - Listando diretórios em: D:\
2025-03-15 21:07:14 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `boolean` from Object value (token `JsonToken.START_OBJECT`)]
2025-03-15 21:08:12 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2025-03-15 21:38:12 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 3]
2025-03-15 21:47:45 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 21:47:45 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 21:47:45 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 21:47:45 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@87f501f]]
2025-03-15 21:47:45 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 21:47:45 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 21:47:45 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 21:47:45 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 21:47:50 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 8000 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 21:47:50 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 21:47:50 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 21:47:51 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 21:47:51 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 21:47:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 21:47:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 21:47:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 21:47:52 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 21:47:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1713 ms
2025-03-15 21:47:52 [main] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 21:47:53 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 21:47:53 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 21:47:53 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 21:47:53 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 21:47:53 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@251a90ce]]
2025-03-15 21:47:53 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 21:47:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 21:47:53 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.634 seconds (process running for 4.206)
2025-03-15 21:47:57 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 21:47:57 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 21:47:57 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 21:48:53 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 21:50:43 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 21:50:43 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 21:50:43 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 21:50:43 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@251a90ce]]
2025-03-15 21:50:43 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 21:50:43 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 21:50:43 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 21:50:43 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 21:50:47 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 24468 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 21:50:47 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 21:50:47 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 21:50:48 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 21:50:48 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 21:50:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 21:50:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 21:50:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 21:50:48 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 21:50:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1504 ms
2025-03-15 21:50:48 [main] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 21:50:49 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 21:50:49 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 21:50:49 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 21:50:49 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 21:50:49 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@447521e]]
2025-03-15 21:50:49 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 21:50:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 21:50:49 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.155 seconds (process running for 3.628)
2025-03-15 21:50:57 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 21:50:57 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 21:50:57 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 21:51:49 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 21:54:20 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 21:54:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 21:54:20 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 21:54:20 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@447521e]]
2025-03-15 21:54:20 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 21:54:20 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 21:54:20 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 21:54:20 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 21:54:22 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 40552 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 21:54:22 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 21:54:22 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 21:54:23 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 21:54:23 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 21:54:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 21:54:23 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 21:54:23 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 21:54:23 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 21:54:23 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1500 ms
2025-03-15 21:54:24 [main] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 21:54:24 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 21:54:24 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 21:54:24 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 21:54:24 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 21:54:24 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6cdee57]]
2025-03-15 21:54:24 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 21:54:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 21:54:24 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.149 seconds (process running for 3.668)
2025-03-15 21:54:31 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 21:54:31 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 21:54:31 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 21:55:24 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 22:09:16 [http-nio-8080-exec-3] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 22:09:16 [http-nio-8080-exec-3] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 22:09:16 [http-nio-8080-exec-5] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 22:09:16 [http-nio-8080-exec-5] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 22:10:47 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 22:10:48 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 22:10:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 22:10:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6cdee57]]
2025-03-15 22:10:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 22:10:48 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 22:10:48 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 22:10:48 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 22:10:51 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 33028 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 22:10:51 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 22:10:51 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 22:10:52 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 22:10:52 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 22:10:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 22:10:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 22:10:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 22:10:53 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 22:10:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1537 ms
2025-03-15 22:10:53 [main] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 22:10:54 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 22:10:54 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 22:10:54 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 22:10:54 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 22:10:54 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6cdee57]]
2025-03-15 22:10:54 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 22:10:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 22:10:54 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.098 seconds (process running for 3.508)
2025-03-15 22:11:11 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 22:11:11 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 22:11:11 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 22:11:11 [http-nio-8080-exec-1] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 22:11:11 [http-nio-8080-exec-1] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 22:11:11 [http-nio-8080-exec-3] INFO  d.l.r.c.SystemConfigController - Obtendo configurações do sistema
2025-03-15 22:11:11 [http-nio-8080-exec-3] DEBUG d.l.r.service.SystemConfigService - Configurações carregadas de: ./config/system.properties
2025-03-15 22:11:31 [http-nio-8080-exec-6] INFO  d.l.r.c.ContentGenerationController - Iniciando processo de geração com ID: 018f1a20-7efa-4c87-98ec-090e3effb3c2 (idioma: pt-BR, título: fornecido, gerarVersaoShort: false, gerarAudio: false)
2025-03-15 22:11:31 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Processo inicializado: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:31 [http-nio-8080-exec-6] DEBUG d.l.r.service.ProcessTrackingService - Informações do processo configuradas: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, idioma=pt-BR, titulo=fornecido, gerarVersaoShort=false, gerarAudio=false
2025-03-15 22:11:31 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentInitiatedEvent para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:31 [http-nio-8080-exec-6] INFO  d.l.roteiro.service.EventBusService - Evento ContentInitiatedEvent publicado com sucesso para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:31 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, stage=Gerando títulos..., progress=20%
2025-03-15 22:11:31 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerando títulos para o processo 018f1a20-7efa-4c87-98ec-090e3effb3c2 no idioma pt-BR
2025-03-15 22:11:31 [SimpleAsyncTaskExecutor-18] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para títulos: tema=Jesus é o Senhor, estilo=contemplativa, idioma=pt-BR, hasObservacoes=false
2025-03-15 22:11:31 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Títulos armazenados: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, quantidade=5
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, stage=Títulos gerados com sucesso, progress=40%
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Gerados 5 títulos com sucesso para o processo 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-18] INFO  d.l.r.service.TitleGenerationService - Título selecionado automaticamente: PODEROSA ORACIÓN para CONTEMPLAR JESUS, O SENHOR #oração #devoção 🙏
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-18] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, stage=Título selecionado: PODEROSA ORACIÓN para CONTEMPLAR JESUS, O SENHOR #oração #devoção 🙏, progress=45%
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Publicando evento: TitleSelectedEvent para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-18] INFO  d.l.roteiro.service.EventBusService - Evento TitleSelectedEvent publicado com sucesso para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.OracaoGenerationService - Recebido evento TitleSelectedEvent para processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2 com título: PODEROSA ORACIÓN para CONTEMPLAR JESUS, O SENHOR #oração #devoção 🙏
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, stage=Gerando oração para o título selecionado..., progress=50%
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Gerando oração...' (50%)
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.OracaoGenerationService - Recuperadas informações do processo: tema=Jesus é o Senhor, estilo=contemplativa, duracao=Short1, idioma=pt-BR
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.OracaoGenerationService - Construindo prompt para oração no idioma: pt-BR
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-24] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para oração: tema=Jesus é o Senhor, estilo=contemplativa, duracao=Short1, titulo=PODEROSA ORACIÓN para CONTEMPLAR JESUS, O SENHOR #oração #devoção 🙏, idioma=pt-BR
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-24] DEBUG d.l.roteiro.util.PromptBuilder - Prompt construído com sucesso (tamanho: 748 caracteres)
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.s.OracaoGenerationService - Prompt construído: Crie uma oração em português com o título: "PODEROSA ORACIÓN para CONTEMPLAR JESUS, O SENHOR #oração #devoção 🙏"

Tema: Jesus é o Senhor
Estilo: contemplativa
Duração: Short1

A oração deve seguir esta estrutura:
1. Versículo inicial relevante ("Versículo del día:")
2. Introdução com saudação e relevância do tema (6-8 linhas)
3. Reflexão bíblica com passagem relevante (6-8 linhas)
4. Oração principal com:
   - Invocação inicial
   - Desenvolvimento do tema
   - Aplicação prática
   - Pedidos específicos
   - Declaração de fé
5. Encerramento com:
   - Recapitulação
   - Versículo final (diferente do inicial)
   - Bênção final
   - Convite para inscrição
   - "En el nombre de Jesús, Amén"

Tamanho total: 300-500 caracteres (30-60 segundos)
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.OracaoGenerationService - Iniciando chamada à API OpenAI para gerar oração...
2025-03-15 22:11:34 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da oração armazenado para processo: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.OracaoGenerationService - Oração gerada com sucesso (tamanho: 1224 caracteres)
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-24] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, stage=Oração gerada com sucesso, progress=70%
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.OracaoGenerationService - Status atualizado para 'Oração gerada com sucesso' (70%)
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.OracaoGenerationService - Publicando evento OracaoGeneratedEvent...
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Publicando evento: OracaoGeneratedEvent para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-24] INFO  d.l.roteiro.service.EventBusService - Evento OracaoGeneratedEvent publicado com sucesso para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-24] INFO  d.l.r.s.OracaoGenerationService - Evento OracaoGeneratedEvent publicado com sucesso
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.service.ShortGenerationService - Duração 'Short1' é menor que padrão (Short/Mini/Curta), NÃO será gerada versão short para o processo 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-25] INFO  d.l.r.service.ShortGenerationService - Pulando geração de versão short para o processo 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo short armazenado para processo: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-25] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, stage=Versão short não necessária, prosseguindo..., progress=80%
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ShortGeneratedEvent para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-25] INFO  d.l.roteiro.service.EventBusService - Evento ShortGeneratedEvent publicado com sucesso para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, stage=Gerando descrição para YouTube e TikTok..., progress=85%
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.s.DescriptionGenerationService - Gerando descrição para YouTube e TikTok no idioma: pt-BR
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-26] DEBUG d.l.roteiro.util.PromptBuilder - Construindo prompt para descrição: titulo=PODEROSA ORACIÓN para CONTEMPLAR JESUS, O SENHOR #oração #devoção 🙏, tamanho da oração=1224 caracteres, idioma=pt-BR
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.s.DescriptionGenerationService - Iniciando geração da descrição no idioma: pt-BR
2025-03-15 22:11:37 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.OpenAIService - Iniciando requisição ao OpenAI...
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.OpenAIService - Requisição concluída com sucesso
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Conteúdo da descrição armazenado para processo: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-26] INFO  d.l.r.s.DescriptionGenerationService - Descrição gerada com sucesso: 502 caracteres
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-26] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, stage=Descrição gerada com sucesso, progress=90%
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Publicando evento: DescriptionGeneratedEvent para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-27] INFO  d.l.r.service.AudioGenerationService - Geração de áudio desativada para o processo: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-26] INFO  d.l.roteiro.service.EventBusService - Evento DescriptionGeneratedEvent publicado com sucesso para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, stage=Compilando conteúdo final..., progress=95%
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.s.ContentCompilationService - Compilando conteúdo final para processo: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.FileStorageService - Estrutura de diretórios criada: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_O_SENHOR_ora_o_devo_o_
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.FileStorageService - Arquivo de metadados salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_O_SENHOR_ora_o_devo_o_\texto\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_O_SENHOR_ora_o_devo_o__meta.txt
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.FileStorageService - Arquivo SRT salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_O_SENHOR_ora_o_devo_o_\texto\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_O_SENHOR_ora_o_devo_o_.srt
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.FileStorageService - Arquivo SRT da versão curta salvo com sucesso: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_O_SENHOR_ora_o_devo_o_\texto\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_O_SENHOR_ora_o_devo_o__short.srt
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.service.ProcessTrackingService - Processo concluído: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, resultPath=.\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_O_SENHOR_ora_o_devo_o_
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-28] DEBUG d.l.r.service.ProcessTrackingService - Status atualizado: processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, stage=Processo concluído com sucesso! Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_O_SENHOR_ora_o_devo_o_, progress=100%
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-28] INFO  d.l.r.s.ContentCompilationService - Conteúdo compilado com sucesso. Arquivos gerados em: .\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_O_SENHOR_ora_o_devo_o_
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-28] INFO  d.l.roteiro.service.EventBusService - Publicando evento: ContentCompletedEvent para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-28] INFO  d.l.roteiro.service.EventBusService - Evento ContentCompletedEvent publicado com sucesso para o processId: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.NotificationService - Enviando notificação de conclusão para o processo: 018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.NotificationService - Enviando notificação para /topic/notifications/018f1a20-7efa-4c87-98ec-090e3effb3c2: NotificationMessage(processId=018f1a20-7efa-4c87-98ec-090e3effb3c2, type=PROCESS_COMPLETED, message=Processo concluído com sucesso!, data=.\gerados\PODEROSA_ORACI_N_para_CONTEMPLAR_JESUS_O_SENHOR_ora_o_devo_o_, timestamp=2025-03-15T22:11:38.741394)
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para /topic/notifications/018f1a20-7efa-4c87-98ec-090e3effb3c2
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-29] INFO  d.l.r.service.NotificationService - Enviando notificação para o tópico geral: /topic/notifications
2025-03-15 22:11:38 [SimpleAsyncTaskExecutor-29] DEBUG d.l.r.service.NotificationService - Notificação enviada com sucesso para o tópico geral
2025-03-15 22:11:54 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[4 current WS(4)-HttpStream(0)-HttpPoll(0), 7 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(5)-CONNECTED(5)-DISCONNECT(3)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 5, completed tasks = 12]
2025-03-15 22:12:13 [http-nio-8080-exec-7] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 61683 ms. Closing WebSocketServerSockJsSession[id=4pun2zbw].
2025-03-15 22:12:13 [http-nio-8080-exec-7] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 61668 ms. Closing WebSocketServerSockJsSession[id=t4qnbbtb].
2025-03-15 22:41:54 [MessageBroker-9] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 11 total, 2 closed abnormally (2 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(9)-CONNECTED(9)-DISCONNECT(7)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 3, completed tasks = 519]
2025-03-15 22:43:53 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-15 22:43:53 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-15 22:43:53 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-15 22:43:53 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6cdee57]]
2025-03-15 22:43:53 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-15 22:43:53 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 22:43:53 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-15 22:43:53 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-15 22:48:46 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 19944 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 22:48:46 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 22:48:46 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 22:48:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-03-15 22:48:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 1 MongoDB repository interface.
2025-03-15 22:48:48 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 22:48:48 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 22:48:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 22:48:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 22:48:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 22:48:48 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 22:48:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2012 ms
2025-03-15 22:48:49 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.11+7-LTS-207"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@2f0ccb34, com.mongodb.Jep395RecordCodecProvider@194012a2, com.mongodb.KotlinCodecProvider@55296b50]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-03-15 22:48:49 [cluster-ClusterId{value='67d62e01c0b2f533fe69742e', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46435000, minRoundTripTimeNanos=0}
2025-03-15 22:48:50 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'contentRetrievalController' defined in file [D:\WORKSPACE\roteiro\target\classes\dev\luisoliveira\roteiro\controller\ContentRetrievalController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'fileStorageService' defined in file [D:\WORKSPACE\roteiro\target\classes\dev\luisoliveira\roteiro\service\FileStorageService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mongoStorageService' defined in file [D:\WORKSPACE\roteiro\target\classes\dev\luisoliveira\roteiro\service\MongoStorageService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.mongodb.client.gridfs.GridFSBucket' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-03-15 22:48:50 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-15 22:48:50 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-15 22:48:50 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in dev.luisoliveira.roteiro.service.MongoStorageService required a bean of type 'com.mongodb.client.gridfs.GridFSBucket' that could not be found.


Action:

Consider defining a bean of type 'com.mongodb.client.gridfs.GridFSBucket' in your configuration.

2025-03-15 22:50:13 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 43092 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 22:50:13 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 22:50:13 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 22:50:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-03-15 22:50:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 111 ms. Found 1 MongoDB repository interface.
2025-03-15 22:50:14 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 22:50:14 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 22:50:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 22:50:15 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 22:50:15 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 22:50:15 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 22:50:15 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1994 ms
2025-03-15 22:50:15 [main] INFO  d.l.roteiro.config.MongoDBConfig - Inicializando conexão com MongoDB: mongodb://localhost:27017
2025-03-15 22:50:16 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.2.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.11+7-LTS-207"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@36478bce, com.mongodb.Jep395RecordCodecProvider@c48b543, com.mongodb.KotlinCodecProvider@75793f17]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-03-15 22:50:16 [cluster-ClusterId{value='67d62e57766116202ba0a3d4', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=31777500, minRoundTripTimeNanos=0}
2025-03-15 22:50:16 [main] INFO  d.l.roteiro.config.MongoDBConfig - Configurando GridFS para armazenamento de arquivos grandes
2025-03-15 22:50:16 [main] INFO  d.l.r.service.SystemConfigService - SystemConfigService inicializado com configurações padrão
2025-03-15 22:50:16 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'audioGenerationService' defined in file [D:\WORKSPACE\roteiro\target\classes\dev\luisoliveira\roteiro\service\AudioGenerationService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'elevenLabsService': Injection of autowired dependencies failed
2025-03-15 22:50:16 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-15 22:50:16 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-15 22:50:16 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'audioGenerationService' defined in file [D:\WORKSPACE\roteiro\target\classes\dev\luisoliveira\roteiro\service\AudioGenerationService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'elevenLabsService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at dev.luisoliveira.roteiro.RoteiroApplication.main(RoteiroApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elevenLabsService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'elevenlabs.voice.id' in value "${elevenlabs.voice.id}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81)
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:423)
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128)
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:255)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:226)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:201)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:971)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1574)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	... 32 common frames omitted
2025-03-15 22:54:18 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 34676 (D:\WORKSPACE\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\roteiro)
2025-03-15 22:54:18 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-15 22:54:18 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-15 22:54:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-03-15 22:54:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 110 ms. Found 1 MongoDB repository interface.
2025-03-15 22:54:19 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-15 22:54:19 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-15 22:54:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-15 22:54:19 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-15 22:54:19 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-15 22:54:19 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-15 22:54:19 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1769 ms
2025-03-15 22:54:20 [main] INFO  d.l.roteiro.config.MongoDBConfig - Inicializando conexão com MongoDB: mongodb://localhost:27017
2025-03-15 22:54:20 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.2.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.11+7-LTS-207"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@cbf1997, com.mongodb.Jep395RecordCodecProvider@49232c6f, com.mongodb.KotlinCodecProvider@5faeeb56]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-03-15 22:54:20 [cluster-ClusterId{value='67d62f4ca8c29e7b75816ebb', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=32710900, minRoundTripTimeNanos=0}
2025-03-15 22:54:20 [main] INFO  d.l.roteiro.config.MongoDBConfig - Configurando GridFS para armazenamento de arquivos grandes
2025-03-15 22:54:20 [main] INFO  d.l.r.service.MongoStorageService - Inicializando MongoStorageService
2025-03-15 22:54:20 [main] INFO  d.l.r.service.FileStorageService - Inicializando FileStorageService com MongoDB
2025-03-15 22:54:20 [main] INFO  d.l.r.service.SystemConfigService - SystemConfigService inicializado com configurações padrão
2025-03-15 22:54:20 [main] INFO  d.l.r.service.ElevenLabsService - ElevenLabsService inicializado
2025-03-15 22:54:21 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-15 22:54:21 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-15 22:54:21 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-15 22:54:21 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-15 22:54:21 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@47eae91d]]
2025-03-15 22:54:21 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-15 22:54:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-15 22:54:21 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 3.965 seconds (process running for 4.388)
2025-03-15 22:55:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-15 22:55:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-15 22:55:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-15 22:55:21 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-15 23:02:06 [http-nio-8080-exec-2] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 89949 ms. Closing WebSocketServerSockJsSession[id=ecu4coxb].
2025-03-15 23:02:06 [http-nio-8080-exec-2] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 89951 ms. Closing WebSocketServerSockJsSession[id=gpf0klvq].
2025-03-17 15:39:06 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 21.0.6 with PID 12000 (D:\WORKSPACE\ROTEIRO_NEW\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\ROTEIRO_NEW\roteiro)
2025-03-17 15:39:06 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17 15:39:06 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 15:39:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-03-17 15:39:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 125 ms. Found 1 MongoDB repository interface.
2025-03-17 15:39:07 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-17 15:39:07 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-17 15:39:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-17 15:39:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 15:39:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-17 15:39:08 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-17 15:39:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1945 ms
2025-03-17 15:39:08 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Amazon.com Inc./21.0.6+7-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@2755617b, com.mongodb.Jep395RecordCodecProvider@65859b44, com.mongodb.KotlinCodecProvider@d9f5fce]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=STANDARD, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-03-17 15:39:08 [cluster-ClusterId{value='67d86c4cc5a6627f1e93fe06', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=23583200, minRoundTripTimeNanos=0}
2025-03-17 15:39:09 [main] INFO  d.l.r.service.FileStorageService - Inicializando FileStorageService com MongoDB
2025-03-17 15:39:09 [main] INFO  d.l.r.service.SystemConfigService - SystemConfigService inicializado com configurações padrão
2025-03-17 15:39:09 [main] INFO  d.l.r.service.ElevenLabsService - ElevenLabsService inicializado
2025-03-17 15:39:09 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-17 15:39:09 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-17 15:39:09 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-17 15:39:09 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-17 15:39:09 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@52bb3dcd]]
2025-03-17 15:39:09 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-17 15:39:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-17 15:39:09 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.145 seconds (process running for 5.228)
2025-03-17 15:39:10 [SimpleAsyncTaskExecutor-8] INFO  d.l.roteiro.config.MongoDBConfig - Conexão com MongoDB estabelecida com sucesso!
2025-03-17 15:39:10 [SimpleAsyncTaskExecutor-8] DEBUG d.l.roteiro.config.MongoDBConfig - Status do servidor MongoDB: Document{{host=183036c089e2, version=8.0.4, process=mongod, service=[shard], pid=1, uptime=5335.0, uptimeMillis=5334400, uptimeEstimate=5334, localTime=Mon Mar 17 15:39:09 BRT 2025, asserts=Document{{regular=0, warning=0, msg=0, user=58, tripwire=0, rollovers=0}}, batchedDeletes=Document{{batches=2, docs=14, stagedSizeBytes=3402, timeInBatchMillis=0, refetchesDueToYield=0}}, catalogStats=Document{{collections=3, capped=0, clustered=0, timeseries=0, views=0, internalCollections=3, internalViews=0, csfle=0, queryableEncryption=0}}, changeStreamPreImages=Document{{purgingJob=Document{{totalPass=0, docsDeleted=0, bytesDeleted=0, scannedCollections=0, scannedInternalCollections=0, maxStartWallTimeMillis=0, timeElapsedMillis=0}}}}, collectionCatalog=Document{{numScansDueToMissingMapping=0}}, connections=Document{{current=13, available=838847, totalCreated=55, rejected=0, active=3, threaded=13, exhaustIsMaster=0, exhaustHello=1, awaitingTopologyChanges=2, loadBalanced=0}}, electionMetrics=Document{{stepUpCmd=Document{{called=0, successful=0}}, priorityTakeover=Document{{called=0, successful=0}}, catchUpTakeover=Document{{called=0, successful=0}}, electionTimeout=Document{{called=0, successful=0}}, freezeTimeout=Document{{called=0, successful=0}}, numStepDownsCausedByHigherTerm=0, numCatchUps=0, numCatchUpsSucceeded=0, numCatchUpsAlreadyCaughtUp=0, numCatchUpsSkipped=0, numCatchUpsTimedOut=0, numCatchUpsFailedWithError=0, numCatchUpsFailedWithNewTerm=0, numCatchUpsFailedWithReplSetAbortPrimaryCatchUpCmd=0, averageCatchUpOps=0.0}}, extra_info=Document{{note=fields vary by platform, user_time_us=21595517, system_time_us=7102158, maximum_resident_set_kb=225664, input_blocks=24032, output_blocks=40704, page_reclaims=4693, page_faults=155, voluntary_context_switches=305388, involuntary_context_switches=68, threads=56}}, featureCompatibilityVersion=Document{{major=8, minor=0, transitioning=0}}, flowControl=Document{{enabled=true, targetRateLimit=1000000000, timeAcquiringMicros=0, locksPerKiloOp=0.0, sustainerRate=0, isLagged=false, isLaggedCount=0, isLaggedTimeMicros=0}}, globalLock=Document{{totalTime=5335071000, currentQueue=Document{{total=0, readers=0, writers=0}}, activeClients=Document{{total=0, readers=0, writers=0}}}}, indexBuilds=Document{{total=0, killedDueToInsufficientDiskSpace=0, failedDueToDataCorruption=0, phases=Document{{scanCollection=0, drainSideWritesTable=0, drainSideWritesTablePreCommit=0, waitForCommitQuorum=0, drainSideWritesTableOnCommit=0, processConstraintsViolatonTableOnCommit=0, commit=0}}}}, indexBulkBuilder=Document{{count=0, resumed=0, filesOpenedForExternalSort=0, filesClosedForExternalSort=0, spilledRanges=0, bytesSpilledUncompressed=0, bytesSpilled=0, numSorted=0, bytesSorted=0, memUsage=0}}, indexStats=Document{{count=5, features=Document{{2d=Document{{count=0, accesses=0}}, 2dsphere=Document{{count=0, accesses=0}}, 2dsphere_bucket=Document{{count=0, accesses=0}}, collation=Document{{count=0, accesses=0}}, columnstore=Document{{count=0, accesses=0}}, compound=Document{{count=2, accesses=0}}, hashed=Document{{count=0, accesses=0}}, id=Document{{count=3, accesses=10}}, normal=Document{{count=2, accesses=0}}, partial=Document{{count=0, accesses=0}}, prepareUnique=Document{{count=0, accesses=0}}, single=Document{{count=0, accesses=0}}, sparse=Document{{count=0, accesses=0}}, text=Document{{count=0, accesses=0}}, ttl=Document{{count=0, accesses=0}}, unique=Document{{count=1, accesses=0}}, wildcard=Document{{count=0, accesses=0}}}}}}, internalTransactions=Document{{started=0, retriedTransactions=0, retriedCommits=0, succeeded=0}}, locks=Document{{MultiDocumentTransactionsBarrier=Document{{acquireCount=Document{{W=5}}}}, ReplicationStateTransition=Document{{acquireCount=Document{{w=5243}}}}, Global=Document{{acquireCount=Document{{r=15898, w=5229, W=5}}}}, Database=Document{{acquireCount=Document{{r=9, w=141, W=1}}}}, Collection=Document{{acquireCount=Document{{r=9, w=138, W=2}}}}, Mutex=Document{{acquireCount=Document{{r=9}}}}, oplog=Document{{acquireCount=Document{{w=1}}}}}}, logicalSessionRecordCache=Document{{activeSessionsCount=2, sessionsCollectionJobCount=18, lastSessionsCollectionJobDurationMillis=0, lastSessionsCollectionJobTimestamp=Mon Mar 17 15:35:15 BRT 2025, lastSessionsCollectionJobEntriesRefreshed=1, lastSessionsCollectionJobEntriesEnded=0, lastSessionsCollectionJobCursorsClosed=0, transactionReaperJobCount=18, lastTransactionReaperJobDurationMillis=0, lastTransactionReaperJobTimestamp=Mon Mar 17 15:35:15 BRT 2025, lastTransactionReaperJobEntriesCleanedUp=0, sessionCatalogSize=0}}, network=Document{{bytesIn=1058933, bytesOut=9946399, physicalBytesIn=960803, physicalBytesOut=9946399, numSlowDNSOperations=0, numSlowSSLOperations=0, numRequests=6774, tcpFastOpen=Document{{kernelSetting=1, serverSupported=false, clientSupported=false, accepted=0}}, compression=Document{{snappy=Document{{compressor=Document{{bytesIn=0, bytesOut=0}}, decompressor=Document{{bytesIn=0, bytesOut=0}}}}, zstd=Document{{compressor=Document{{bytesIn=0, bytesOut=0}}, decompressor=Document{{bytesIn=0, bytesOut=0}}}}, zlib=Document{{compressor=Document{{bytesIn=0, bytesOut=0}}, decompressor=Document{{bytesIn=0, bytesOut=0}}}}}}, serviceExecutors=Document{{passthrough=Document{{threadsRunning=13, clientsInTotal=13, clientsRunning=13, clientsWaitingForData=0}}, inline=Document{{threadsRunning=0, clientsInTotal=0, clientsRunning=0, clientsWaitingForData=0}}}}, listenerProcessingTime=Document{{durationMicros=16561}}}}, opLatencies=Document{{commands=Document{{latency=168532, ops=1292, queryableEncryptionLatencyMicros=0}}, reads=Document{{latency=966772, ops=5470, queryableEncryptionLatencyMicros=0}}, writes=Document{{latency=25341, ops=9, queryableEncryptionLatencyMicros=0}}, transactions=Document{{latency=0, ops=0, queryableEncryptionLatencyMicros=0}}}}, opWorkingTime=Document{{commands=Document{{latency=107000, ops=1292, queryableEncryptionLatencyMicros=0}}, reads=Document{{latency=37000, ops=5470, queryableEncryptionLatencyMicros=0}}, writes=Document{{latency=21000, ops=9, queryableEncryptionLatencyMicros=0}}, transactions=Document{{latency=0, ops=0, queryableEncryptionLatencyMicros=0}}}}, opcounters=Document{{insert=2, query=5487, update=27, delete=9, getmore=0, command=1330}}, opcountersRepl=Document{{insert=0, query=0, update=0, delete=0, getmore=0, command=0}}, querySettings=Document{{count=0, size=0, rejectCount=0}}, queues=Document{{execution=Document{{write=Document{{out=0, available=12, totalTickets=12, exempt=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=5087, processing=0, finishedProcessing=5087, totalTimeProcessingMicros=4857, canceled=0, newAdmissions=0, totalTimeQueuedMicros=0}}, normalPriority=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=133, processing=0, finishedProcessing=133, totalTimeProcessingMicros=154099, canceled=0, newAdmissions=99, totalTimeQueuedMicros=0}}}}, read=Document{{out=0, available=12, totalTickets=12, exempt=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=10345, processing=0, finishedProcessing=10345, totalTimeProcessingMicros=1337899, canceled=0, newAdmissions=10341, totalTimeQueuedMicros=0}}, normalPriority=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=5547, processing=0, finishedProcessing=5547, totalTimeProcessingMicros=824278, canceled=0, newAdmissions=5525, totalTimeQueuedMicros=0}}}}, monitor=Document{{timesDecreased=0, timesIncreased=0, totalAmountDecreased=0, totalAmountIncreased=0, resizeDurationMicros=9}}}}, ingress=Document{{out=0, available=1000000, totalTickets=1000000, exempt=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=1310, processing=3, finishedProcessing=1307, totalTimeProcessingMicros=6336442464, canceled=0, newAdmissions=1279, totalTimeQueuedMicros=0}}, normalPriority=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=5529, processing=0, finishedProcessing=5529, totalTimeProcessingMicros=1088517, canceled=0, newAdmissions=5529, totalTimeQueuedMicros=0}}}}}}, readConcernCounters=Document{{nonTransactionOps=Document{{none=5470, noneInfo=Document{{CWRC=Document{{local=0, available=0, majority=0}}, implicitDefault=Document{{local=5470, available=0}}}}, local=0, available=0, majority=0, snapshot=Document{{withClusterTime=0, withoutClusterTime=0}}, linearizable=0}}, transactionOps=Document{{none=0, noneInfo=Document{{CWRC=Document{{local=0, majority=0}}, implicitDefault=Document{{local=0}}}}, local=0, majority=0, snapshot=Document{{withClusterTime=0, withoutClusterTime=0}}}}}}, scramCache=Document{{SCRAM-SHA-1=Document{{count=0, hits=0, misses=0}}, SCRAM-SHA-256=Document{{count=0, hits=0, misses=0}}}}, security=Document{{authentication=Document{{saslSupportedMechsReceived=1, mechanisms=Document{{MONGODB-X509=Document{{speculativeAuthenticate=Document{{received=0, successful=0}}, clusterAuthenticate=Document{{received=0, successful=0}}, authenticate=Document{{received=0, successful=0}}}}, SCRAM-SHA-1=Document{{speculativeAuthenticate=Document{{received=0, successful=0}}, clusterAuthenticate=Document{{received=0, successful=0}}, authenticate=Document{{received=0, successful=0}}}}, SCRAM-SHA-256=Document{{speculativeAuthenticate=Document{{received=1, successful=0}}, clusterAuthenticate=Document{{received=0, successful=0}}, authenticate=Document{{received=2, successful=0}}}}}}, totalAuthenticationTimeMicros=9848}}}}, shardSplits=Document{{totalCommitted=0, totalCommittedDurationMillis=0, totalCommittedDurationWithoutCatchupMillis=0, totalAborted=0}}, storageEngine=Document{{name=wiredTiger, supportsCommittedReads=true, oldestRequiredTimestampForCrashRecovery=Timestamp{value=0, seconds=0, inc=0}, supportsPendingDrops=true, dropPendingIdents=0, supportsSnapshotReadConcern=true, readOnly=false, persistent=true, backupCursorOpen=false}}, tcmalloc=Document{{usingPerCPUCaches=false, maxPerCPUCacheSizeBytes=1572864, generic=Document{{bytes_in_use_by_app=114286864, current_allocated_bytes=114286864, heap_size=132120576, peak_memory_usage=5833192, physical_memory_used=147736854, virtual_memory_used=147736854}}, tcmalloc=Document{{central_cache_free=625760, cpu_free=0, current_total_thread_cache_bytes=3617088, desired_usage_limit_bytes=-1, hard_usage_limit_bytes=-1, local_bytes=3617152, max_total_thread_cache_bytes=33554432, metadata_bytes=6827238, page_algorithm=1, pageheap_free_bytes=13590528, pageheap_unmapped_bytes=0, required_bytes=134146326, sharded_transfer_cache_free=0, thread_cache_count=44, thread_cache_free=3616704, transfer_cache_free=112, release_rate=0, memory_used_to_memory_held_pct_at_peak=2404, total_bytes_held=33449638, estimated_size_class_overhead_bytes=1689395}}, tcmalloc_derived=Document{{unmapped_bytes=0, total_free_bytes=17833392}}}}, tenantMigrations=Document{{currentMigrationsDonating=0, currentMigrationsReceiving=0, totalMigrationDonationsCommitted=0, totalMigrationDonationsAborted=0}}, trafficRecording=Document{{running=false}}, transactions=Document{{retriedCommandsCount=0, retriedStatementsCount=0, transactionsCollectionWriteCount=0, currentActive=0, currentInactive=0, currentOpen=0, totalAborted=0, totalCommitted=0, totalStarted=0, totalPrepared=0, totalPreparedThenCommitted=0, totalPreparedThenAborted=0, currentPrepared=0}}, transportSecurity=Document{{1.0=0, 1.1=0, 1.2=0, 1.3=0, unknown=0}}, twoPhaseCommitCoordinator=Document{{totalCreated=0, totalStartedTwoPhaseCommit=0, totalAbortedTwoPhaseCommit=0, totalCommittedTwoPhaseCommit=0, currentInSteps=Document{{writingParticipantList=0, waitingForVotes=0, writingDecision=0, waitingForDecisionAcks=0, writingEndOfTransaction=0, deletingCoordinatorDoc=0}}}}, wiredTiger=Document{{uri=statistics:, autocommit=Document{{retries for readonly operations=0, retries for update operations=0}}, background-compact=Document{{background compact failed calls=0, background compact failed calls due to cache pressure=0, background compact interrupted=0, background compact moving average of bytes rewritten=0, background compact recovered bytes=0, background compact running=0, background compact skipped file as it is part of the exclude list=0, background compact skipped file as not meeting requirements for compaction=0, background compact sleeps due to cache pressure=0, background compact successful calls=0, background compact timeout=0, number of files tracked by background compaction=0}}, backup=Document{{backup cursor open=0, backup duplicate cursor open=0, backup granularity size=0, incremental backup enabled=0, opening the backup cursor in progress=0, total modified incremental blocks=0, total modified incremental blocks with compressed data=0, total modified incremental blocks without compressed data=0}}, block-cache=Document{{cached blocks updated=0, cached bytes updated=0, evicted blocks=0, file size causing bypass=0, lookups=0, number of blocks not evicted due to overhead=0, number of bypasses because no-write-allocate setting was on=0, number of bypasses due to overhead on put=0, number of bypasses on get=0, number of bypasses on put because file is too small=0, number of eviction passes=0, number of hits=0, number of misses=0, number of put bypasses on checkpoint I/O=0, removed blocks=0, time sleeping to remove block (usecs)=0, total blocks=0, total blocks inserted on read path=0, total blocks inserted on write path=0, total bytes=0, total bytes inserted on read path=0, total bytes inserted on write path=0}}, block-manager=Document{{blocks pre-loaded=0, blocks read=129, blocks written=610, bytes read=528384, bytes read via memory map API=0, bytes read via system call API=0, bytes written=4235264, bytes written by compaction=0, bytes written for checkpoint=4235264, bytes written via memory map API=0, bytes written via system call API=0, mapped blocks read=0, mapped bytes read=0, number of times the file was remapped because it changed size via fallocate or truncate=0, number of times the region was remapped via write=0}}, cache=Document{{application thread time evicting (usecs)=0, application threads page read from disk to cache count=0, application threads page read from disk to cache time (usecs)=0, application threads page write from cache to disk count=310, application threads page write from cache to disk time (usecs)=36359, bytes allocated for updates=111076, bytes belonging to page images in the cache=0, bytes belonging to the history store table in the cache=182, bytes currently in the cache=122009, bytes dirty in the cache cumulative=4065265, bytes not belonging to page images in the cache=122009, bytes read into cache=0, bytes written from cache=2035531, checkpoint blocked page eviction=0, checkpoint of history store file blocked non-history store page eviction=0, eviction calls to get a page=62, eviction calls to get a page found queue empty=60, eviction calls to get a page found queue empty after locking=0, eviction currently operating in aggressive mode=0, eviction empty score=0, eviction gave up due to detecting a disk value without a timestamp behind the last update on the chain=0, eviction gave up due to detecting a tombstone without a timestamp ahead of the selected on disk update=0, eviction gave up due to detecting a tombstone without a timestamp ahead of the selected on disk update after validating the update chain=0, eviction gave up due to detecting update chain entries without timestamps after the selected on disk update=0, eviction gave up due to needing to remove a record from the history store but checkpoint is running=0, eviction gave up due to no progress being made=0, eviction passes of a file=0, eviction server candidate queue empty when topping up=0, eviction server candidate queue not empty when topping up=0, eviction server evicting pages=0, eviction server skips dirty pages during a running checkpoint=0, eviction server skips internal pages as it has an active child.=0, eviction server skips metadata pages with history=0, eviction server skips pages that are written with transactions greater than the last running=0, eviction server skips pages that previously failed eviction and likely will again=0, eviction server skips pages that we do not want to evict=0, eviction server skips tree that we do not want to evict=0, eviction server skips trees because there are too many active walks=0, eviction server skips trees that are being checkpointed=0, eviction server skips trees that are configured to stick in cache=0, eviction server skips trees that disable eviction=0, eviction server skips trees that were not useful before=0, eviction server slept, because we did not make progress with eviction=452, eviction server unable to reach eviction goal=0, eviction server waiting for a leaf page=3, eviction state=32, eviction walk most recent sleeps for checkpoint handle gathering=0, eviction walk target pages histogram - 0-9=0, eviction walk target pages histogram - 10-31=0, eviction walk target pages histogram - 128 and higher=0, eviction walk target pages histogram - 32-63=0, eviction walk target pages histogram - 64-128=0, eviction walk target pages reduced due to history store cache pressure=0, eviction walk target strategy both clean and dirty pages=0, eviction walk target strategy only clean pages=0, eviction walk target strategy only dirty pages=0, eviction walks abandoned=0, eviction walks gave up because they restarted their walk twice=0, eviction walks gave up because they saw too many pages and found no candidates=0, eviction walks gave up because they saw too many pages and found too few candidates=0, eviction walks random search fails to locate a page, results in a null position=0, eviction walks reached end of tree=0, eviction walks restarted=0, eviction walks started from root of tree=0, eviction walks started from saved location in tree=0, eviction worker thread active=4, eviction worker thread created=0, eviction worker thread evicting pages=2, eviction worker thread removed=0, eviction worker thread stable number=0, files with active eviction walks=0, files with new eviction walks started=0, force re-tuning of eviction workers once in a while=0, forced eviction - do not retry count to evict pages selected to evict during reconciliation=0, forced eviction - history store pages failed to evict while session has history store cursor open=0, forced eviction - history store pages selected while session has history store cursor open=0, forced eviction - history store pages successfully evicted while session has history store cursor open=0, forced eviction - pages evicted that were clean count=0, forced eviction - pages evicted that were clean time (usecs)=0, forced eviction - pages evicted that were dirty count=1, forced eviction - pages evicted that were dirty time (usecs)=79, forced eviction - pages selected because of a large number of updates to a single item=0, forced eviction - pages selected because of too many deleted items count=0, forced eviction - pages selected count=1, forced eviction - pages selected unable to be evicted count=0, forced eviction - pages selected unable to be evicted time=0, hazard pointer blocked page eviction=0, hazard pointer check calls=3, hazard pointer check entries walked=0, hazard pointer maximum array length=0, history store table insert calls=0, history store table insert calls that returned restart=0, history store table max on-disk size=0, history store table on-disk size=4096, history store table reads=0, history store table reads missed=0, history store table reads requiring squashed modifies=0, history store table resolved updates without timestamps that lose their durable timestamp=0, history store table truncation by rollback to stable to remove an unstable update=0, history store table truncation by rollback to stable to remove an update=0, history store table truncation to remove all the keys of a btree=0, history store table truncation to remove an update=0, history store table truncation to remove range of updates due to an update without a timestamp on data page=0, history store table truncation to remove range of updates due to key being removed from the data page during reconciliation=0, history store table truncations that would have happened in non-dryrun mode=0, history store table truncations to remove an unstable update that would have happened in non-dryrun mode=0, history store table truncations to remove an update that would have happened in non-dryrun mode=0, history store table updates without timestamps fixed up by reinserting with the fixed timestamp=0, history store table writes requiring squashed modifies=0, in-memory page passed criteria to be split=0, in-memory page splits=0, internal page split blocked its eviction=0, internal pages evicted=0, internal pages queued for eviction=0, internal pages seen by eviction walk=0, internal pages seen by eviction walk that are already queued=0, internal pages split during eviction=0, leaf pages split during eviction=0, locate a random in-mem ref by examining all entries on the root page=0, maximum bytes configured=7829716992, maximum milliseconds spent at a single eviction=0, maximum page size seen at eviction=0, modified pages evicted=3, modified pages evicted by application threads=0, multi-block reconciliation blocked whilst checkpoint is running=0, operations timed out waiting for space in cache=0, overflow keys on a multiblock row-store page blocked its eviction=0, overflow pages read into cache=0, page split during eviction deepened the tree=0, page written requiring history store records=0, pages considered for eviction that were brought in by pre-fetch=0, pages currently held in the cache=37, pages evicted by application threads=0, pages evicted in parallel with checkpoint=0, pages queued for eviction=0, pages queued for eviction post lru sorting=0, pages queued for urgent eviction=2, pages queued for urgent eviction during walk=0, pages queued for urgent eviction from history store due to high dirty content=0, pages read into cache=0, pages read into cache after truncate=0, pages read into cache after truncate in prepare state=0, pages read into cache by checkpoint=0, pages removed from the ordinary queue to be queued for urgent eviction=0, pages requested from the cache=8141, pages requested from the cache due to pre-fetch=0, pages seen by eviction walk=0, pages seen by eviction walk that are already queued=0, pages selected for eviction unable to be evicted=0, pages selected for eviction unable to be evicted because of active children on an internal page=0, pages selected for eviction unable to be evicted because of failure in reconciliation=0, pages selected for eviction unable to be evicted because of race between checkpoint and updates without timestamps=0, pages walked for eviction=0, pages written from cache=310, pages written requiring in-memory restoration=0, percentage overhead=8, recent modification of a page blocked its eviction=0, reverse splits performed=0, reverse splits skipped because of VLCS namespace gap restrictions=0, the number of times full update inserted to history store=0, the number of times reverse modify inserted to history store=0, total milliseconds spent inside reentrant history store evictions in a reconciliation=0, tracked bytes belonging to internal pages in the cache=9222, tracked bytes belonging to leaf pages in the cache=112787, tracked dirty bytes in the cache=0, tracked dirty pages in the cache=0, uncommitted truncate blocked page eviction=0, unmodified pages evicted=0}}, capacity=Document{{background fsync file handles considered=0, background fsync file handles synced=0, background fsync time (msecs)=0, bytes read=528384, bytes written for checkpoint=2019116, bytes written for chunk cache=0, bytes written for eviction=0, bytes written for log=148352, bytes written total=2167468, threshold to call fsync=0, time waiting due to total capacity (usecs)=0, time waiting during checkpoint (usecs)=0, time waiting during eviction (usecs)=0, time waiting during logging (usecs)=0, time waiting during read (usecs)=0, time waiting for chunk cache IO bandwidth (usecs)=0}}, checkpoint=Document{{checkpoint cleanup successful calls=17, checkpoint has acquired a snapshot for its transaction=0, checkpoints skipped because database was clean=0, fsync calls after allocating the transaction ID=82, fsync duration after allocating the transaction ID (usecs)=1736, generation=83, max time (msecs)=815, min time (msecs)=10, most recent duration for checkpoint dropping all handles (usecs)=12278, most recent duration for gathering all handles (usecs)=462, most recent duration for gathering applied handles (usecs)=0, most recent duration for gathering skipped handles (usecs)=436, most recent duration for handles metadata checked (usecs)=746, most recent duration for locking the handles (usecs)=3181, most recent handles applied=0, most recent handles checkpoint dropped=229, most recent handles metadata checked=958, most recent handles metadata locked=958, most recent handles skipped=18, most recent handles walked=37, most recent time (msecs)=18, number of checkpoints started by api=82, number of checkpoints started by compaction=0, number of files synced=320, number of handles visited after writes complete=74, number of history store pages caused to be reconciled=139, number of internal pages visited=153, number of leaf pages visited=150, number of pages caused to be reconciled=303, pages added for eviction during checkpoint cleanup=4, pages removed during checkpoint cleanup=3, pages skipped during checkpoint cleanup tree walk=0, pages visited during checkpoint cleanup=185, prepare currently running=0, prepare max time (msecs)=0, prepare min time (msecs)=0, prepare most recent time (msecs)=0, prepare total time (msecs)=0, progress state=0, scrub dirty target=0, scrub max time (msecs)=1, scrub min time (msecs)=0, scrub most recent time (msecs)=0, scrub total time (msecs)=1, stop timing stress active=0, time spent on per-tree checkpoint work (usecs)=0, total failed number of checkpoints=0, total succeed number of checkpoints=82, total time (msecs)=3839, transaction checkpoints due to obsolete pages=0, wait cycles while cache dirty level is decreasing=0}}, chunk-cache=Document{{aggregate number of spanned chunks on read=0, chunks evicted=0, could not allocate due to exceeding bitmap capacity=0, could not allocate due to exceeding capacity=0, lookups=0, number of chunks loaded from flushed tables in chunk cache=0, number of metadata entries inserted=0, number of metadata entries removed=0, number of metadata inserts/deletes dropped by the worker thread=0, number of metadata inserts/deletes pushed to the worker thread=0, number of metadata inserts/deletes read by the worker thread=0, number of misses=0, number of times a read from storage failed=0, retried accessing a chunk while I/O was in progress=0, retries from a chunk cache checksum mismatch=0, timed out due to too many retries=0, total bytes read from persistent content=0, total bytes used by the cache=0, total bytes used by the cache for pinned chunks=0, total chunks held by the chunk cache=0, total number of chunks inserted on startup from persisted metadata.=0, total pinned chunks held by the chunk cache=0}}, connection=Document{{auto adjusting condition resets=288, auto adjusting condition wait calls=30268, auto adjusting condition wait raced to update timeout and skipped updating=0, detected system time went backwards=0, files currently open=22, hash bucket array size for data handles=512, hash bucket array size general=512, memory allocations=186201, memory frees=184366, memory re-allocations=614, number of sessions without a sweep for 5+ minutes=27, number of sessions without a sweep for 60+ minutes=0, pthread mutex condition wait calls=121630, pthread mutex shared lock read-lock calls=93938, pthread mutex shared lock write-lock calls=4437, total fsync I/Os=661, total read I/Os=236, total write I/Os=948}}, cursor=Document{{Total number of deleted pages skipped during tree walk=0, Total number of entries skipped by cursor next calls=140, Total number of entries skipped by cursor prev calls=0, Total number of entries skipped to position the history store cursor=0, Total number of in-memory deleted pages skipped during tree walk=0, Total number of on-disk deleted pages skipped during tree walk=0, Total number of times a search near has exited due to prefix config=0, Total number of times cursor fails to temporarily release pinned page to encourage eviction of hot or large page=0, Total number of times cursor temporarily releases pinned page to encourage eviction of hot or large page=0, bulk cursor count=0, cached cursor count=31, cursor bound calls that return an error=0, cursor bounds cleared from reset=131, cursor bounds comparisons performed=335, cursor bounds next called on an unpositioned cursor=132, cursor bounds next early exit=47, cursor bounds prev called on an unpositioned cursor=0, cursor bounds prev early exit=0, cursor bounds search early exit=0, cursor bounds search near call repositioned cursor=0, cursor bulk loaded cursor insert calls=0, cursor cache calls that return an error=0, cursor close calls that result in cache=46116, cursor close calls that return an error=0, cursor compare calls that return an error=0, cursor create calls=207, cursor equals calls that return an error=0, cursor get key calls that return an error=0, cursor get value calls that return an error=0, cursor insert calls=420, cursor insert calls that return an error=0, cursor insert check calls that return an error=0, cursor insert key and value bytes=178335, cursor largest key calls that return an error=0, cursor modify calls=0, cursor modify calls that return an error=0, cursor modify key and value bytes affected=0, cursor modify value bytes modified=0, cursor next calls=26548, cursor next calls that return an error=0, cursor next calls that skip due to a globally visible history store tombstone=0, cursor next calls that skip greater than 1 and fewer than 100 entries=20, cursor next calls that skip greater than or equal to 100 entries=0, cursor next random calls that return an error=0, cursor operation restarted=0, cursor prev calls=10, cursor prev calls that return an error=0, cursor prev calls that skip due to a globally visible history store tombstone=0, cursor prev calls that skip greater than or equal to 100 entries=0, cursor prev calls that skip less than 100 entries=0, cursor reconfigure calls that return an error=0, cursor remove calls=56, cursor remove calls that return an error=0, cursor remove key bytes removed=1449, cursor reopen calls that return an error=0, cursor reserve calls=0, cursor reserve calls that return an error=0, cursor reset calls=54189, cursor reset calls that return an error=0, cursor search calls=795, cursor search calls that return an error=0, cursor search history store calls=0, cursor search near calls=204, cursor search near calls that return an error=0, cursor sweep buckets=65463, cursor sweep cursors closed=0, cursor sweep cursors examined=821, cursor sweeps=6298, cursor truncate calls=0, cursor truncates performed on individual keys=0, cursor update calls=0, cursor update calls that return an error=0, cursor update key and value bytes=0, cursor update value size change=0, cursors reused from cache=46085, open cursor count=8}}, data-handle=Document{{connection data handle size=496, connection data handles currently active=37, connection sweep candidate became referenced=0, connection sweep dhandles closed=0, connection sweep dhandles removed from hash list=57, connection sweep time-of-death sets=274, connection sweeps=492, connection sweeps skipped due to checkpoint gathering handles=0, session dhandles swept=34, session sweep attempts=1644}}, lock=Document{{checkpoint lock acquisitions=82, checkpoint lock application thread wait time (usecs)=0, checkpoint lock internal thread wait time (usecs)=0, dhandle lock application thread time waiting (usecs)=0, dhandle lock internal thread time waiting (usecs)=0, dhandle read lock acquisitions=19985, dhandle write lock acquisitions=153, metadata lock acquisitions=82, metadata lock application thread wait time (usecs)=0, metadata lock internal thread wait time (usecs)=0, schema lock acquisitions=102, schema lock application thread wait time (usecs)=0, schema lock internal thread wait time (usecs)=0, table lock application thread time waiting for the table lock (usecs)=0, table lock internal thread time waiting for the table lock (usecs)=0, table read lock acquisitions=0, table write lock acquisitions=18, txn global lock application thread time waiting (usecs)=0, txn global lock internal thread time waiting (usecs)=0, txn global read lock acquisitions=315, txn global write lock acquisitions=227}}, log=Document{{busy returns attempting to switch slots=1, force log remove time sleeping (usecs)=0, log bytes of payload data=109052, log bytes written=148224, log files manually zero-filled=0, log flush operations=49407, log force write operations=54841, log force write operations skipped=54708, log records compressed=88, log records not compressed=86, log records too small to compress=403, log release advances write LSN=101, log scan operations=0, log scan records requiring two reads=0, log server thread advances write LSN=132, log server thread write LSN walk skipped=5814, log sync operations=233, log sync time duration (usecs)=1679807, log sync_dir operations=1, log sync_dir time duration (usecs)=2808, log write operations=577, logging bytes consolidated=147840, maximum log file size=104857600, number of pre-allocated log files to create=1, pre-allocated log files not ready and missed=1, pre-allocated log files prepared=1, pre-allocated log files used=0, records processed by log scan=0, slot close lost race=0, slot close unbuffered waits=0, slot closures=233, slot join atomic update races=0, slot join calls atomic updates raced=0, slot join calls did not yield=577, slot join calls found active slot closed=0, slot join calls slept=0, slot join calls yielded=0, slot join found active slot closed=0, slot joins yield time (usecs)=0, slot transitions unable to find free slot=0, slot unbuffered writes=0, total in-memory size of compressed records=166436, total log buffer size=33554432, total size of compressed records=69639, written slots coalesced=0, yields waiting for previous log file close=0}}, perf=Document{{file system read latency histogram (bucket 1) - 0-10ms=236, file system read latency histogram (bucket 2) - 10-49ms=0, file system read latency histogram (bucket 3) - 50-99ms=0, file system read latency histogram (bucket 4) - 100-249ms=0, file system read latency histogram (bucket 5) - 250-499ms=0, file system read latency histogram (bucket 6) - 500-999ms=0, file system read latency histogram (bucket 7) - 1000ms+=0, file system read latency histogram total (msecs)=16, file system write latency histogram (bucket 1) - 0-10ms=948, file system write latency histogram (bucket 2) - 10-49ms=0, file system write latency histogram (bucket 3) - 50-99ms=0, file system write latency histogram (bucket 4) - 100-249ms=0, file system write latency histogram (bucket 5) - 250-499ms=0, file system write latency histogram (bucket 6) - 500-999ms=0, file system write latency histogram (bucket 7) - 1000ms+=0, file system write latency histogram total (msecs)=1, operation read latency histogram (bucket 1) - 0-100us=879, operation read latency histogram (bucket 2) - 100-249us=1, operation read latency histogram (bucket 3) - 250-499us=0, operation read latency histogram (bucket 4) - 500-999us=0, operation read latency histogram (bucket 5) - 1000-9999us=0, operation read latency histogram (bucket 6) - 10000us+=0, operation read latency histogram total (usecs)=2901, operation write latency histogram (bucket 1) - 0-100us=475, operation write latency histogram (bucket 2) - 100-249us=1, operation write latency histogram (bucket 3) - 250-499us=0, operation write latency histogram (bucket 4) - 500-999us=0, operation write latency histogram (bucket 5) - 1000-9999us=0, operation write latency histogram (bucket 6) - 10000us+=0, operation write latency histogram total (usecs)=2160}}, prefetch=Document{{could not perform pre-fetch on internal page=0, could not perform pre-fetch on ref without the pre-fetch flag set=0, number of times pre-fetch failed to start=0, pre-fetch not repeating for recently pre-fetched ref=0, pre-fetch not triggered after single disk read=0, pre-fetch not triggered as there is no valid dhandle=0, pre-fetch not triggered by page read=5792, pre-fetch not triggered due to disk read count=0, pre-fetch not triggered due to internal session=0, pre-fetch not triggered due to special btree handle=0, pre-fetch page not on disk when reading=0, pre-fetch pages queued=0, pre-fetch pages read in background=0, pre-fetch skipped reading in a page due to harmless error=0, pre-fetch triggered by page read=0}}, reconciliation=Document{{VLCS pages explicitly reconciled as empty=0, approximate byte size of timestamps in pages written=0, approximate byte size of transaction IDs in pages written=1784, fast-path pages deleted=0, leaf-page overflow keys=0, maximum milliseconds spent in a reconciliation call=0, maximum milliseconds spent in building a disk image in a reconciliation=0, maximum milliseconds spent in moving updates to the history store in a reconciliation=0, overflow values written=0, page reconciliation calls=303, page reconciliation calls for eviction=0, page reconciliation calls that resulted in values with prepared transaction metadata=0, page reconciliation calls that resulted in values with timestamps=0, page reconciliation calls that resulted in values with transaction ids=76, pages deleted=9, pages written including an aggregated newest start durable timestamp =0, pages written including an aggregated newest stop durable timestamp =0, pages written including an aggregated newest stop timestamp =0, pages written including an aggregated newest stop transaction ID=0, pages written including an aggregated newest transaction ID =0, pages written including an aggregated oldest start timestamp =0, pages written including an aggregated prepare=0, pages written including at least one prepare state=0, pages written including at least one start durable timestamp=0, pages written including at least one start timestamp=0, pages written including at least one start transaction ID=76, pages written including at least one stop durable timestamp=0, pages written including at least one stop timestamp=0, pages written including at least one stop transaction ID=0, records written including a prepare state=0, records written including a start durable timestamp=0, records written including a start timestamp=0, records written including a start transaction ID=223, records written including a stop durable timestamp=0, records written including a stop timestamp=0, records written including a stop transaction ID=0, split bytes currently awaiting free=0, split objects currently awaiting free=0}}, session=Document{{attempts to remove a local object and the object is in use=0, flush_tier failed calls=0, flush_tier operation calls=0, flush_tier tables skipped due to no checkpoint=0, flush_tier tables switched=0, local objects removed=0, open session count=24, session query timestamp calls=0, table alter failed calls=0, table alter successful calls=0, table alter triggering checkpoint calls=0, table alter unchanged and skipped=0, table compact conflicted with checkpoint=0, table compact dhandle successful calls=0, table compact failed calls=0, table compact failed calls due to cache pressure=0, table compact passes=0, table compact running=0, table compact skipped as process would not reduce file size=0, table compact successful calls=0, table compact timeout=0, table create failed calls=0, table create successful calls=17, table create with import failed calls=0, table create with import successful calls=0, table drop failed calls=0, table drop successful calls=0, table rename failed calls=0, table rename successful calls=0, table salvage failed calls=0, table salvage successful calls=0, table truncate failed calls=0, table truncate successful calls=0, table verify failed calls=0, table verify successful calls=0, tiered operations dequeued and processed=0, tiered operations removed without processing=0, tiered operations scheduled=0, tiered storage local retention time (secs)=0}}, thread-state=Document{{active filesystem fsync calls=0, active filesystem read calls=0, active filesystem write calls=0}}, thread-yield=Document{{application thread operations waiting for cache=0, application thread snapshot refreshed for eviction=0, application thread time waiting for cache (usecs)=0, connection close blocked waiting for transaction state stabilization=0, connection close yielded for lsm manager shutdown=0, data handle lock yielded=0, get reference for page index and slot time sleeping (usecs)=0, page access yielded due to prepare state change=0, page acquire busy blocked=0, page acquire eviction blocked=0, page acquire locked blocked=0, page acquire read blocked=0, page acquire time sleeping (usecs)=0, page delete rollback time sleeping for state change (usecs)=0, page reconciliation yielded due to child modification=0}}, transaction=Document{{Number of prepared updates=0, Number of prepared updates committed=0, Number of prepared updates repeated on the same key=0, Number of prepared updates rolled back=0, a reader raced with a prepared transaction commit and skipped an update or updates=0, number of times overflow removed value is read=0, oldest pinned transaction ID rolled back for eviction=0, prepared transactions=0, prepared transactions committed=0, prepared transactions currently active=0, prepared transactions rolled back=0, query timestamp calls=5089, race to read prepared update retry=0, rollback to stable calls=0, rollback to stable history store keys that would have been swept in non-dryrun mode=0, rollback to stable history store records with stop timestamps older than newer records=0, rollback to stable inconsistent checkpoint=0, rollback to stable keys removed=0, rollback to stable keys restored=0, rollback to stable keys that would have been removed in non-dryrun mode=0, rollback to stable keys that would have been restored in non-dryrun mode=0, rollback to stable pages visited=0, rollback to stable restored tombstones from history store=0, rollback to stable restored updates from history store=0, rollback to stable skipping delete rle=0, rollback to stable skipping stable rle=0, rollback to stable sweeping history store keys=0, rollback to stable tombstones from history store that would have been restored in non-dryrun mode=0, rollback to stable tree walk skipping pages=0, rollback to stable updates aborted=0, rollback to stable updates from history store that would have been restored in non-dryrun mode=0, rollback to stable updates removed from history store=0, rollback to stable updates that would have been aborted in non-dryrun mode=0, rollback to stable updates that would have been removed from history store in non-dryrun mode=0, sessions scanned in each walk of concurrent sessions=153938, set timestamp calls=0, set timestamp durable calls=0, set timestamp durable updates=0, set timestamp force calls=0, set timestamp global oldest timestamp set to be more recent than the global stable timestamp=0, set timestamp oldest calls=0, set timestamp oldest updates=0, set timestamp stable calls=0, set timestamp stable updates=0, transaction begins=5710, transaction checkpoint history store file duration (usecs)=3, transaction range of IDs currently pinned=0, transaction range of IDs currently pinned by a checkpoint=0, transaction range of timestamps currently pinned=0, transaction range of timestamps pinned by a checkpoint=0, transaction range of timestamps pinned by the oldest active read timestamp=0, transaction range of timestamps pinned by the oldest timestamp=0, transaction read timestamp of the oldest active reader=0, transaction rollback to stable currently running=0, transaction walk of concurrent sessions=5814, transactions committed=59, transactions rolled back=5651, update conflicts=0}}, snapshot-window-settings=Document{{total number of SnapshotTooOld errors=0, minimum target snapshot window size in seconds=300, current available snapshot window size in seconds=0, latest majority snapshot timestamp available=Jan  1 00:00:00:0, oldest majority snapshot timestamp available=Jan  1 00:00:00:0, pinned timestamp requests=0, min pinned timestamp=Timestamp{value=-1, seconds=-1, inc=-1}}}, oplog=Document{{visibility timestamp=Timestamp{value=0, seconds=0, inc=0}}}}}, mem=Document{{bits=64, resident=220, virtual=3635, supported=true, secureAllocByteCount=0, secureAllocBytesInPages=0}}, metrics=Document{{apiVersions=Document{{MongoDB Compass=[default], =[default]}}, abortExpiredTransactions=Document{{passes=178}}, aggStageCounters=Document{{$_addReshardingResumeId=0, $_analyzeShardKeyReadWriteDistribution=0, $_internalAllCollectionStats=0, $_internalApplyOplogUpdate=0, $_internalBoundedSort=0, $_internalChangeStreamAddPostImage=0, $_internalChangeStreamAddPreImage=0, $_internalChangeStreamCheckInvalidate=0, $_internalChangeStreamCheckResumability=0, $_internalChangeStreamCheckTopologyChange=0, $_internalChangeStreamHandleTopologyChange=0, $_internalChangeStreamOplogMatch=0, $_internalChangeStreamTransform=0, $_internalChangeStreamUnwindTransaction=0, $_internalComputeGeoNearDistance=0, $_internalConvertBucketIndexStats=0, $_internalDensify=0, $_internalFindAndModifyImageLookup=0, $_internalInhibitOptimization=0, $_internalProjection=0, $_internalReplaceRoot=0, $_internalReshardingIterateTransaction=0, $_internalReshardingOwnershipMatch=0, $_internalSearchIdLookup=0, $_internalSearchMongotRemote=0, $_internalSetWindowFields=0, $_internalShardServerInfo=0, $_internalShredDocuments=0, $_internalSplitPipeline=0, $_internalStreamingGroup=0, $_internalUnpackBucket=0, $_unpackBucket=0, $addFields=2, $bucket=0, $bucketAuto=0, $changeStream=0, $changeStreamSplitLargeEvent=0, $collStats=4, $count=2, $currentOp=1, $densify=0, $documents=0, $facet=0, $fill=0, $geoNear=0, $graphLookup=0, $group=6, $indexStats=2, $limit=2, $listCachedAndActiveUsers=0, $listCatalog=0, $listLocalSessions=0, $listSampledQueries=0, $listSearchIndexes=0, $listSessions=0, $lookup=0, $match=4, $merge=0, $mergeCursors=0, $operationMetrics=0, $out=0, $planCacheStats=0, $project=4, $querySettings=0, $queryStats=0, $queue=0, $redact=0, $replaceRoot=0, $replaceWith=0, $sample=0, $search=0, $searchBeta=0, $searchMeta=0, $set=20, $setVariableFromSubPipeline=0, $setWindowFields=0, $shardedDataDistribution=0, $skip=0, $sort=0, $sortByCount=0, $unionWith=0, $unset=0, $unwind=2, $vectorSearch=0}}, changeStreams=Document{{largeEventsFailed=0, largeEventsSplit=0, showExpandedEvents=0}}, commands=Document{{<UNKNOWN>=2, _addShard=Document{{failed=0, rejected=0, total=0}}, _configsvrAbortReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrAddShard=Document{{failed=0, rejected=0, total=0}}, _configsvrAddShardToZone=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerCollectionStatus=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerStart=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerStatus=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerStop=Document{{failed=0, rejected=0, total=0}}, _configsvrCheckClusterMetadataConsistency=Document{{failed=0, rejected=0, total=0}}, _configsvrCheckMetadataConsistency=Document{{failed=0, rejected=0, total=0}}, _configsvrCleanupReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrClearJumboFlag=Document{{failed=0, rejected=0, total=0}}, _configsvrCollMod=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitChunkMigration=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitChunkSplit=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitChunksMerge=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitIndex=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitMergeAllChunksOnShard=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitMovePrimary=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitRefineCollectionShardKey=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrConfigureCollectionBalancing=Document{{failed=0, rejected=0, total=0}}, _configsvrCreateDatabase=Document{{failed=0, rejected=0, total=0}}, _configsvrDropIndexCatalogEntry=Document{{failed=0, rejected=0, total=0}}, _configsvrEnsureChunkVersionIsGreaterThan=Document{{failed=0, rejected=0, total=0}}, _configsvrGetHistoricalPlacement=Document{{failed=0, rejected=0, total=0}}, _configsvrMoveRange=Document{{failed=0, rejected=0, total=0}}, _configsvrRefineCollectionShardKey=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveChunks=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveShard=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveShardFromZone=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveTags=Document{{failed=0, rejected=0, total=0}}, _configsvrRepairShardedCollectionChunksHistory=Document{{failed=0, rejected=0, total=0}}, _configsvrResetPlacementHistory=Document{{failed=0, rejected=0, total=0}}, _configsvrReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrRunRestore=Document{{failed=0, rejected=0, total=0}}, _configsvrSetAllowMigrations=Document{{failed=0, rejected=0, total=0}}, _configsvrSetClusterParameter=Document{{failed=0, rejected=0, total=0}}, _configsvrSetUserWriteBlockMode=Document{{failed=0, rejected=0, total=0}}, _configsvrTransitionFromDedicatedConfigServer=Document{{failed=0, rejected=0, total=0}}, _configsvrTransitionToDedicatedConfigServer=Document{{failed=0, rejected=0, total=0}}, _configsvrUpdateZoneKeyRange=Document{{failed=0, rejected=0, total=0}}, _flushDatabaseCacheUpdates=Document{{failed=0, rejected=0, total=0}}, _flushDatabaseCacheUpdatesWithWriteConcern=Document{{failed=0, rejected=0, total=0}}, _flushReshardingStateChange=Document{{failed=0, rejected=0, total=0}}, _flushRoutingTableCacheUpdates=Document{{failed=0, rejected=0, total=0}}, _flushRoutingTableCacheUpdatesWithWriteConcern=Document{{failed=0, rejected=0, total=0}}, _getNextSessionMods=Document{{failed=0, rejected=0, total=0}}, _getUserCacheGeneration=Document{{failed=0, rejected=0, total=0}}, _isSelf=Document{{failed=0, rejected=0, total=0}}, _killOperations=Document{{failed=0, rejected=0, total=0}}, _mergeAuthzCollections=Document{{failed=0, rejected=0, total=0}}, _migrateClone=Document{{failed=0, rejected=0, total=0}}, _recvChunkAbort=Document{{failed=0, rejected=0, total=0}}, _recvChunkCommit=Document{{failed=0, rejected=0, total=0}}, _recvChunkReleaseCritSec=Document{{failed=0, rejected=0, total=0}}, _recvChunkStart=Document{{failed=0, rejected=0, total=0}}, _recvChunkStatus=Document{{failed=0, rejected=0, total=0}}, _refreshQueryAnalyzerConfiguration=Document{{failed=0, rejected=0, total=0}}, _shardsvrAbortReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrBeginMigrationBlockingOperation=Document{{failed=0, rejected=0, total=0}}, _shardsvrChangePrimary=Document{{failed=0, rejected=0, total=0}}, _shardsvrCheckMetadataConsistency=Document{{failed=0, rejected=0, total=0}}, _shardsvrCheckMetadataConsistencyParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCleanupReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrCleanupStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, _shardsvrCloneCatalogData=Document{{failed=0, rejected=0, total=0}}, _shardsvrCollMod=Document{{failed=0, rejected=0, total=0}}, _shardsvrCollModParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCommitIndexParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCommitReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrCompactStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, _shardsvrConvertToCapped=Document{{failed=0, rejected=0, total=0}}, _shardsvrConvertToCappedParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCoordinateMultiUpdate=Document{{failed=0, rejected=0, total=0}}, _shardsvrCreateCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrCreateCollectionParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropCollectionIfUUIDNotMatchingWithWriteConcern=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropCollectionParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropDatabase=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropDatabaseParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropIndexCatalogEntryParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropIndexes=Document{{failed=0, rejected=0, total=0}}, _shardsvrEndMigrationBlockingOperation=Document{{failed=0, rejected=0, total=0}}, _shardsvrGetStatsForBalancing=Document{{failed=0, rejected=0, total=0}}, _shardsvrJoinDDLCoordinators=Document{{failed=0, rejected=0, total=0}}, _shardsvrJoinMigrations=Document{{failed=0, rejected=0, total=0}}, _shardsvrMergeAllChunksOnShard=Document{{failed=0, rejected=0, total=0}}, _shardsvrMovePrimary=Document{{failed=0, rejected=0, total=0}}, _shardsvrMovePrimaryEnterCriticalSection=Document{{failed=0, rejected=0, total=0}}, _shardsvrMovePrimaryExitCriticalSection=Document{{failed=0, rejected=0, total=0}}, _shardsvrMoveRange=Document{{failed=0, rejected=0, total=0}}, _shardsvrNotifyShardingEvent=Document{{failed=0, rejected=0, total=0}}, _shardsvrParticipantBlock=Document{{failed=0, rejected=0, total=0}}, _shardsvrRefineCollectionShardKey=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameCollectionParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameCollectionParticipantUnblock=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameIndexMetadata=Document{{failed=0, rejected=0, total=0}}, _shardsvrReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrReshardingOperationTime=Document{{failed=0, rejected=0, total=0}}, _shardsvrSetAllowMigrations=Document{{failed=0, rejected=0, total=0}}, _shardsvrSetClusterParameter=Document{{failed=0, rejected=0, total=0}}, _shardsvrSetUserWriteBlockMode=Document{{failed=0, rejected=0, total=0}}, _shardsvrUntrackUnsplittableCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrValidateShardKeyCandidate=Document{{failed=0, rejected=0, total=0}}, _transferMods=Document{{failed=0, rejected=0, total=0}}, abortShardSplit=Document{{failed=0, rejected=0, total=0}}, abortTransaction=Document{{failed=0, rejected=0, total=0}}, aggregate=Document{{failed=1, rejected=0, total=14}}, analyze=Document{{failed=0, rejected=0, total=0}}, analyzeShardKey=Document{{failed=0, rejected=0, total=0}}, appendOplogNote=Document{{failed=0, rejected=0, total=0}}, applyOps=Document{{failed=0, rejected=0, total=0}}, authenticate=Document{{failed=0, rejected=0, total=0}}, autoCompact=Document{{failed=0, rejected=0, total=0}}, autoSplitVector=Document{{failed=0, rejected=0, total=0}}, buildInfo=Document{{failed=0, rejected=0, total=2}}, bulkWrite=Document{{arrayFilters=0, failed=0, pipeline=0, rejected=0, total=0}}, checkShardingIndex=Document{{failed=0, rejected=0, total=0}}, cleanupOrphaned=Document{{failed=0, rejected=0, total=0}}, cleanupStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, cloneCollectionAsCapped=Document{{failed=0, rejected=0, total=0}}, clusterAbortTransaction=Document{{failed=0, rejected=0, total=0}}, clusterAggregate=Document{{failed=0, rejected=0, total=0}}, clusterBulkWrite=Document{{failed=0, rejected=0, total=0}}, clusterCommitTransaction=Document{{failed=0, rejected=0, total=0}}, clusterCount=Document{{failed=0, rejected=0, total=0}}, clusterDelete=Document{{failed=0, rejected=0, total=0}}, clusterFind=Document{{failed=0, rejected=0, total=0}}, clusterGetMore=Document{{failed=0, rejected=0, total=0}}, clusterInsert=Document{{failed=0, rejected=0, total=0}}, clusterUpdate=Document{{arrayFilters=0, failed=0, pipeline=0, rejected=0, total=0}}, collMod=Document{{failed=0, rejected=0, total=0, validator=Document{{failed=0, jsonSchema=0, total=0}}}}, collStats=Document{{failed=0, rejected=0, total=0}}, commitShardSplit=Document{{failed=0, rejected=0, total=0}}, commitTransaction=Document{{failed=0, rejected=0, total=0}}, compact=Document{{failed=0, rejected=0, total=0}}, compactStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, configureQueryAnalyzer=Document{{failed=0, rejected=0, total=0}}, connPoolStats=Document{{failed=0, rejected=0, total=0}}, connPoolSync=Document{{failed=0, rejected=0, total=0}}, connectionStatus=Document{{failed=0, rejected=0, total=2}}, convertToCapped=Document{{failed=0, rejected=0, total=0}}, coordinateCommitTransaction=Document{{failed=0, rejected=0, total=0}}, count=Document{{failed=0, rejected=0, total=0}}, create=Document{{failed=0, rejected=0, total=0, validator=Document{{failed=0, jsonSchema=0, total=0}}}}, createIndexes=Document{{failed=0, rejected=0, total=3}}, createRole=Document{{failed=0, rejected=0, total=0}}, createSearchIndexes=Document{{failed=0, rejected=0, total=0}}, createUser=Document{{failed=0, rejected=0, total=0}}, currentOp=Document{{failed=0, rejected=0, total=0}}, dataSize=Document{{failed=0, rejected=0, total=0}}, dbCheck=Document{{failed=0, rejected=0, total=0}}, dbHash=Document{{failed=0, rejected=0, total=0}}, dbStats=Document{{failed=0, rejected=0, total=4}}, delete=Document{{failed=0, rejected=0, total=7}}, distinct=Document{{failed=0, rejected=0, total=0}}, donorAbortMigration=Document{{failed=0, rejected=0, total=0}}, donorForgetMigration=Document{{failed=0, rejected=0, total=0}}, donorStartMigration=Document{{failed=0, rejected=0, total=0}}, drop=Document{{failed=0, rejected=0, total=0}}, dropAllRolesFromDatabase=Document{{failed=0, rejected=0, total=0}}, dropAllUsersFromDatabase=Document{{failed=0, rejected=0, total=0}}, dropConnections=Document{{failed=0, rejected=0, total=0}}, dropDatabase=Document{{failed=0, rejected=0, total=0}}, dropIndexes=Document{{failed=0, rejected=0, total=0}}, dropRole=Document{{failed=0, rejected=0, total=0}}, dropSearchIndex=Document{{failed=0, rejected=0, total=0}}, dropUser=Document{{failed=0, rejected=0, total=0}}, endSessions=Document{{failed=0, rejected=0, total=10}}, explain=Document{{failed=0, rejected=0, total=0}}, features=Document{{failed=0, rejected=0, total=0}}, filemd5=Document{{failed=0, rejected=0, total=0}}, find=Document{{failed=0, rejected=0, total=5473}}, findAndModify=Document{{arrayFilters=0, failed=0, pipeline=0, rejected=0, total=0}}, flushRouterConfig=Document{{failed=0, rejected=0, total=0}}, forgetShardSplit=Document{{failed=0, rejected=0, total=0}}, fsync=Document{{failed=0, rejected=0, total=0}}, fsyncUnlock=Document{{failed=0, rejected=0, total=0}}, getChangeStreamState=Document{{failed=0, rejected=0, total=0}}, getClusterParameter=Document{{failed=0, rejected=0, total=0}}, getCmdLineOpts=Document{{failed=0, rejected=0, total=0}}, getDatabaseVersion=Document{{failed=0, rejected=0, total=0}}, getDefaultRWConcern=Document{{failed=0, rejected=0, total=0}}, getDiagnosticData=Document{{failed=0, rejected=0, total=0}}, getLog=Document{{failed=0, rejected=0, total=0}}, getMore=Document{{failed=0, rejected=0, total=0}}, getParameter=Document{{failed=0, rejected=0, total=2}}, getQueryableEncryptionCountInfo=Document{{failed=0, rejected=0, total=0}}, getShardMap=Document{{failed=0, rejected=0, total=0}}, getShardVersion=Document{{failed=0, rejected=0, total=0}}, grantPrivilegesToRole=Document{{failed=0, rejected=0, total=0}}, grantRolesToRole=Document{{failed=0, rejected=0, total=0}}, grantRolesToUser=Document{{failed=0, rejected=0, total=0}}, hello=Document{{failed=13, rejected=0, total=1185}}, hostInfo=Document{{failed=0, rejected=0, total=2}}, insert=Document{{failed=0, rejected=0, total=2}}, internalRenameIfOptionsAndIndexesMatch=Document{{failed=0, rejected=0, total=0}}, invalidateUserCache=Document{{failed=0, rejected=0, total=0}}, isMaster=Document{{failed=0, rejected=0, total=55}}, killAllSessions=Document{{failed=0, rejected=0, total=0}}, killAllSessionsByPattern=Document{{failed=0, rejected=0, total=0}}, killCursors=Document{{failed=0, rejected=0, total=0}}, killOp=Document{{failed=0, rejected=0, total=0}}, killSessions=Document{{failed=0, rejected=0, total=0}}, listCollections=Document{{failed=0, rejected=0, total=9}}, listCommands=Document{{failed=0, rejected=0, total=0}}, listDatabases=Document{{failed=0, rejected=0, total=2}}, listDatabasesForAllTenants=Document{{failed=0, rejected=0, total=0}}, listIndexes=Document{{failed=4, rejected=0, total=40}}, listSearchIndexes=Document{{failed=0, rejected=0, total=0}}, lockInfo=Document{{failed=0, rejected=0, total=0}}, logRotate=Document{{failed=0, rejected=0, total=0}}, logout=Document{{failed=0, rejected=0, total=0}}, mapReduce=Document{{failed=0, rejected=0, total=0}}, mergeChunks=Document{{failed=0, rejected=0, total=0}}, ping=Document{{failed=0, rejected=0, total=1}}, planCacheClear=Document{{failed=0, rejected=0, total=0}}, planCacheClearFilters=Document{{failed=0, rejected=0, total=0}}, planCacheListFilters=Document{{failed=0, rejected=0, total=0}}, planCacheSetFilter=Document{{failed=0, rejected=0, total=0}}, prepareTransaction=Document{{failed=0, rejected=0, total=0}}, profile=Document{{failed=0, rejected=0, total=0}}, reIndex=Document{{failed=0, rejected=0, total=0}}, recipientForgetMigration=Document{{failed=0, rejected=0, total=0}}, recipientSyncData=Document{{failed=0, rejected=0, total=0}}, recipientVoteImportedFiles=Document{{failed=0, rejected=0, total=0}}, refreshSessions=Document{{failed=0, rejected=0, total=0}}, removeQuerySettings=Document{{failed=0, rejected=0, total=0}}, renameCollection=Document{{failed=0, rejected=0, total=0}}, replSetAbortPrimaryCatchUp=Document{{failed=0, rejected=0, total=0}}, replSetFreeze=Document{{failed=0, rejected=0, total=0}}, replSetGetConfig=Document{{failed=0, rejected=0, total=0}}, replSetGetRBID=Document{{failed=0, rejected=0, total=0}}, replSetGetStatus=Document{{failed=0, rejected=0, total=0}}, replSetHeartbeat=Document{{failed=0, rejected=0, total=0}}, replSetInitiate=Document{{failed=0, rejected=0, total=0}}, replSetMaintenance=Document{{failed=0, rejected=0, total=0}}, replSetReconfig=Document{{failed=0, rejected=0, total=0}}, replSetRequestVotes=Document{{failed=0, rejected=0, total=0}}, replSetResizeOplog=Document{{failed=0, rejected=0, total=0}}, replSetStepDown=Document{{failed=0, rejected=0, total=0}}, replSetStepDownWithForce=Document{{failed=0, total=0}}, replSetStepUp=Document{{failed=0, rejected=0, total=0}}, replSetSyncFrom=Document{{failed=0, rejected=0, total=0}}, replSetUpdatePosition=Document{{failed=0, rejected=0, total=0}}, revokePrivilegesFromRole=Document{{failed=0, rejected=0, total=0}}, revokeRolesFromRole=Document{{failed=0, rejected=0, total=0}}, revokeRolesFromUser=Document{{failed=0, rejected=0, total=0}}, rolesInfo=Document{{failed=0, rejected=0, total=0}}, rotateCertificates=Document{{failed=0, rejected=0, total=0}}, rotateFTDC=Document{{failed=0, rejected=0, total=0}}, saslContinue=Document{{failed=0, rejected=0, total=0}}, saslStart=Document{{failed=1, rejected=0, total=1}}, serverStatus=Document{{failed=0, rejected=0, total=11}}, setChangeStreamState=Document{{failed=0, rejected=0, total=0}}, setClusterParameter=Document{{failed=0, rejected=0, total=0}}, setDefaultRWConcern=Document{{failed=0, rejected=0, total=0}}, setFeatureCompatibilityVersion=Document{{failed=0, rejected=0, total=0}}, setIndexCommitQuorum=Document{{failed=0, rejected=0, total=0}}, setParameter=Document{{failed=0, rejected=0, total=0}}, setProfilingFilterGlobally=Document{{failed=0, rejected=0, total=0}}, setQuerySettings=Document{{failed=0, rejected=0, total=0}}, setUserWriteBlockMode=Document{{failed=0, rejected=0, total=0}}, shardingState=Document{{failed=0, rejected=0, total=0}}, shutdown=Document{{failed=0, rejected=0, total=0}}, splitChunk=Document{{failed=0, rejected=0, total=0}}, splitVector=Document{{failed=0, rejected=0, total=0}}, startRecordingTraffic=Document{{failed=0, rejected=0, total=0}}, startSession=Document{{failed=0, rejected=0, total=0}}, stopRecordingTraffic=Document{{failed=0, rejected=0, total=0}}, top=Document{{failed=0, rejected=0, total=1}}, transitionToShardedCluster=Document{{failed=0, rejected=0, total=0}}, update=Document{{arrayFilters=0, failed=0, pipeline=20, rejected=0, total=13}}, updateRole=Document{{failed=0, rejected=0, total=0}}, updateSearchIndex=Document{{failed=0, rejected=0, total=0}}, updateUser=Document{{failed=0, rejected=0, total=0}}, usersInfo=Document{{failed=0, rejected=0, total=0}}, validate=Document{{failed=0, rejected=0, total=0}}, validateDBMetadata=Document{{failed=0, rejected=0, total=0}}, voteAbortIndexBuild=Document{{failed=0, rejected=0, total=0}}, voteCommitIndexBuild=Document{{failed=0, rejected=0, total=0}}, waitForFailPoint=Document{{failed=0, rejected=0, total=0}}, whatsmyuri=Document{{failed=0, rejected=0, total=0}}}}, cursor=Document{{moreThanOneBatch=0, timedOut=0, totalOpened=0, lifespan=Document{{greaterThanOrEqual10Minutes=0, lessThan10Minutes=0, lessThan15Seconds=0, lessThan1Minute=0, lessThan1Second=0, lessThan30Seconds=0, lessThan5Seconds=0}}, open=Document{{multiTarget=0, noTimeout=0, pinned=0, queuedData=0, singleTarget=0, total=0}}}}, diskSpaceMonitor=Document{{passes=5089, tookAction=0}}, document=Document{{deleted=4, inserted=2, returned=5456, updated=2}}, dotsAndDollarsFields=Document{{inserts=0, updates=0}}, getLastError=Document{{wtime=Document{{num=0, totalMillis=0}}, wtimeouts=0, default=Document{{unsatisfiable=0, wtimeouts=0}}}}, mongos=Document{{cursor=Document{{moreThanOneBatch=0, totalOpened=0}}, shardRegistry=Document{{blockedOpsGauge=0}}}}, network=Document{{totalEgressConnectionEstablishmentTimeMillis=0, totalIngressTLSConnections=0, totalIngressTLSHandshakeTimeMillis=0, totalTimeForEgressConnectionAcquiredToWireMicros=0, totalTimeToFirstNonAuthCommandMillis=6798}}, operation=Document{{killedDueToClientDisconnect=13, killedDueToDefaultMaxTimeMSExpired=0, killedDueToMaxTimeMSExpired=0, numConnectionNetworkTimeouts=0, scanAndOrder=0, temporarilyUnavailableErrors=0, temporarilyUnavailableErrorsConvertedToWriteConflict=0, temporarilyUnavailableErrorsEscaped=0, totalTimeWaitingBeforeConnectionTimeoutMillis=0, transactionTooLargeForCacheErrors=0, transactionTooLargeForCacheErrorsConvertedToWriteConflict=0, unsendableCompletedResponses=0, writeConflicts=0}}, operatorCounters=Document{{expressions=Document{{$_internalFindAllValuesAtPath=0, $_internalFleBetween=0, $_internalFleEq=0, $_internalIndexKey=0, $_internalJsEmit=0, $_internalKeyStringValue=0, $_internalOwningShard=0, $abs=0, $acos=0, $acosh=0, $add=0, $allElementsTrue=0, $and=0, $anyElementTrue=0, $arrayElemAt=0, $arrayToObject=0, $asin=0, $asinh=0, $atan=0, $atan2=0, $atanh=0, $avg=0, $binarySize=0, $bitAnd=0, $bitNot=0, $bitOr=0, $bitXor=0, $bsonSize=0, $ceil=0, $cmp=0, $concat=0, $concatArrays=0, $cond=2, $const=0, $convert=0, $cos=0, $cosh=0, $dateAdd=0, $dateDiff=0, $dateFromParts=0, $dateFromString=0, $dateSubtract=0, $dateToParts=0, $dateToString=0, $dateTrunc=0, $dayOfMonth=0, $dayOfWeek=0, $dayOfYear=0, $degreesToRadians=0, $divide=2, $eq=0, $exp=0, $expr=0, $filter=0, $first=0, $firstN=0, $floor=0, $function=0, $getField=0, $gt=0, $gte=0, $hour=0, $ifNull=0, $in=0, $indexOfArray=0, $indexOfBytes=0, $indexOfCP=0, $isArray=0, $isNumber=0, $isoDayOfWeek=0, $isoWeek=0, $isoWeekYear=0, $last=0, $lastN=0, $let=0, $literal=0, $ln=0, $log=0, $log10=0, $lt=0, $lte=0, $ltrim=0, $map=0, $max=0, $maxN=0, $median=0, $mergeObjects=0, $meta=0, $millisecond=0, $min=0, $minN=0, $minute=0, $mod=0, $month=0, $multiply=2, $ne=2, $not=0, $objectToArray=2, $or=0, $percentile=0, $pow=0, $radiansToDegrees=0, $rand=0, $range=0, $reduce=0, $regexFind=0, $regexFindAll=0, $regexMatch=0, $replaceAll=0, $replaceOne=0, $reverseArray=0, $round=0, $rtrim=0, $second=0, $setDifference=0, $setEquals=0, $setField=0, $setIntersection=0, $setIsSubset=0, $setUnion=0, $sin=0, $sinh=0, $size=0, $slice=0, $sortArray=0, $split=0, $sqrt=0, $stdDevPop=0, $stdDevSamp=0, $strLenBytes=0, $strLenCP=0, $strcasecmp=0, $substr=0, $substrBytes=0, $substrCP=0, $subtract=0, $sum=0, $switch=0, $tan=0, $tanh=0, $toBool=0, $toDate=0, $toDecimal=0, $toDouble=16, $toHashedIndexKey=0, $toInt=0, $toLong=0, $toLower=0, $toObjectId=0, $toString=0, $toUUID=0, $toUpper=0, $trim=0, $trunc=0, $tsIncrement=0, $tsSecond=0, $type=0, $unsetField=0, $week=0, $year=0, $zip=0}}, groupAccumulators=Document{{$_internalConstructStats=0, $_internalJsReduce=0, $accumulator=0, $addToSet=0, $avg=0, $bottom=0, $bottomN=0, $count=0, $first=2, $firstN=0, $last=0, $lastN=0, $max=2, $maxN=0, $median=0, $mergeObjects=0, $min=0, $minN=0, $percentile=0, $push=0, $stdDevPop=0, $stdDevSamp=0, $sum=18, $top=0, $topN=0}}, match=Document{{$all=0, $alwaysFalse=0, $alwaysTrue=0, $and=0, $bitsAllClear=0, $bitsAllSet=0, $bitsAnyClear=0, $bitsAnySet=0, $comment=0, $elemMatch=0, $eq=5455, $exists=0, $expr=0, $geoIntersects=0, $geoWithin=0, $gt=0, $gte=0, $in=0, $jsonSchema=0, $lt=17, $lte=0, $mod=0, $ne=2, $near=0, $nearSphere=0, $nin=0, $nor=0, $not=0, $or=0, $regex=0, $sampleRate=0, $size=0, $text=0, $type=0, $where=0}}, windowAccumulators=Document{{$addToSet=0, $avg=0, $bottom=0, $bottomN=0, $count=0, $covariancePop=0, $covarianceSamp=0, $denseRank=0, $derivative=0, $documentNumber=0, $expMovingAvg=0, $first=0, $firstN=0, $integral=0, $last=0, $lastN=0, $linearFill=0, $locf=0, $max=0, $maxN=0, $median=0, $min=0, $minN=0, $percentile=0, $push=0, $rank=0, $shift=0, $stdDevPop=0, $stdDevSamp=0, $sum=0, $top=0, $topN=0}}}}, query=Document{{allowDiskUseFalse=0, deleteManyCount=0, deleteOneNonTargetedShardedCount=0, deleteOneTargetedShardedCount=0, deleteOneUnshardedCount=0, deleteOneWithoutShardKeyWithIdCount=0, deleteOneWithoutShardKeyWithIdRetryCount=0, externalRetryableWriteCount=0, findAndModifyNonTargetedShardedCount=0, findAndModifyTargetedShardedCount=0, findAndModifyUnshardedCount=0, internalRetryableWriteCount=0, nonRetryableDeleteOneWithoutShardKeyWithIdCount=0, nonRetryableUpdateOneWithoutShardKeyWithIdCount=0, recordIdDeduplicationSwitchedToRoaring=0, retryableInternalTransactionCount=0, updateDeleteManyDocumentsMaxCount=0, updateDeleteManyDocumentsTotalCount=0, updateDeleteManyDurationMaxMs=0, updateDeleteManyDurationTotalMs=0, updateManyCount=0, updateOneNonTargetedShardedCount=0, updateOneOpStyleBroadcastWithExactIDCount=0, updateOneTargetedShardedCount=0, updateOneUnshardedCount=0, updateOneWithoutShardKeyWithIdCount=0, updateOneWithoutShardKeyWithIdRetryCount=0, group=Document{{spilledBytes=0, spilledDataStorageSize=0, spilledRecords=0, spills=0}}, lookup=Document{{hashLookup=0, hashLookupSpillToDisk=0, hashLookupSpillToDiskBytes=0, indexedLoopJoin=0, nestedLoopJoin=0}}, multiPlanner=Document{{classicCount=0, classicMicros=0, classicWorks=0, sbeCount=0, sbeMicros=0, sbeNumReads=0, histograms=Document{{classicMicros=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=65536, count=0}}, Document{{lowerBound=262144, count=0}}, Document{{lowerBound=1048576, count=0}}, Document{{lowerBound=4194304, count=0}}, Document{{lowerBound=16777216, count=0}}, Document{{lowerBound=67108864, count=0}}, Document{{lowerBound=268435456, count=0}}, Document{{lowerBound=1073741824, count=0}}], classicNumPlans=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=2, count=0}}, Document{{lowerBound=4, count=0}}, Document{{lowerBound=8, count=0}}, Document{{lowerBound=16, count=0}}, Document{{lowerBound=32, count=0}}], classicWorks=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=128, count=0}}, Document{{lowerBound=256, count=0}}, Document{{lowerBound=512, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=2048, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=8192, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=32768, count=0}}], sbeMicros=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=65536, count=0}}, Document{{lowerBound=262144, count=0}}, Document{{lowerBound=1048576, count=0}}, Document{{lowerBound=4194304, count=0}}, Document{{lowerBound=16777216, count=0}}, Document{{lowerBound=67108864, count=0}}, Document{{lowerBound=268435456, count=0}}, Document{{lowerBound=1073741824, count=0}}], sbeNumPlans=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=2, count=0}}, Document{{lowerBound=4, count=0}}, Document{{lowerBound=8, count=0}}, Document{{lowerBound=16, count=0}}, Document{{lowerBound=32, count=0}}], sbeNumReads=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=128, count=0}}, Document{{lowerBound=256, count=0}}, Document{{lowerBound=512, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=2048, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=8192, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=32768, count=0}}]}}}}, planCache=Document{{totalQueryShapes=0, totalSizeEstimateBytes=0, classic=Document{{hits=0, misses=5450, skipped=31}}, sbe=Document{{hits=0, misses=0, skipped=0}}}}, queryFramework=Document{{aggregate=Document{{classicHybrid=0, classicOnly=9, cqf=0, sbeHybrid=2, sbeOnly=2}}, find=Document{{classic=5473, cqf=0, sbe=0}}}}, setWindowFields=Document{{spilledBytes=0, spilledRecords=0, spills=0}}, sort=Document{{spillToDisk=0, spillToDiskBytes=0, totalBytesSorted=0, totalKeysSorted=0}}}}, queryExecutor=Document{{scanned=11, scannedObjects=20691, collectionScans=Document{{nonTailable=5454, total=5454}}}}, queryStats=Document{{numEvicted=0, numHmacApplicationErrors=0, numQueryStatsStoreWriteErrors=0, numRateLimitedRequests=0, queryStatsStoreSizeEstimateBytes=0}}, repl=Document{{buffer=Document{{write=Document{{count=0, sizeBytes=0, maxSizeBytes=0}}, apply=Document{{count=0, sizeBytes=0, maxSizeBytes=0, maxCount=0}}}}, executor=Document{{pool=Document{{inProgressCount=0}}, queues=Document{{networkInProgress=0, sleepers=0}}, unsignaledEvents=0, shuttingDown=false, networkInterface=DEPRECATED: getDiagnosticString is deprecated in NetworkInterfaceTL}}, write=Document{{batchSize=0, batches=Document{{num=0, totalMillis=0}}}}, apply=Document{{attemptsToBecomeSecondary=0, batchSize=0, batches=Document{{num=0, totalMillis=0}}, ops=0}}, initialSync=Document{{completed=0, failedAttempts=0, failures=0}}, network=Document{{bytes=0, getmores=Document{{num=0, totalMillis=0, numEmptyBatches=0}}, notPrimaryLegacyUnacknowledgedWrites=0, notPrimaryUnacknowledgedWrites=0, oplogGetMoresProcessed=Document{{num=0, totalMillis=0}}, ops=0, readersCreated=0, replSetUpdatePosition=Document{{num=0}}}}, reconfig=Document{{numAutoReconfigsForRemovalOfNewlyAddedFields=0}}, stateTransition=Document{{lastStateTransition=, totalOperationsKilled=0, totalOperationsRunning=0}}, syncSource=Document{{numSelections=0, numSyncSourceChangesDueToSignificantlyCloserNode=0, numTimesChoseDifferent=0, numTimesChoseSame=0, numTimesCouldNotFind=0}}, waiters=Document{{opTime=0, replication=0}}}}, ttl=Document{{collSubpassesIncreasedPriority=0, deletedDocuments=14, passes=88, subPasses=88}}, wiredTiger=Document{{recordStoreCursorBoundRetries=0}}}}, ok=1.0}}
2025-03-17 15:39:59 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 15:39:59 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 15:39:59 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-17 15:39:59 [http-nio-8080-exec-1] DEBUG d.l.r.c.ContentGenerationController - Verificando status do processo: test
2025-03-17 15:39:59 [http-nio-8080-exec-1] WARN  d.l.r.c.ContentGenerationController - Processo não encontrado: test
2025-03-17 15:40:09 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-17 15:41:00 [http-nio-8080-exec-3] DEBUG d.l.r.c.ContentGenerationController - Verificando status do processo: test
2025-03-17 15:41:00 [http-nio-8080-exec-3] WARN  d.l.r.c.ContentGenerationController - Processo não encontrado: test
2025-03-17 15:42:01 [http-nio-8080-exec-5] DEBUG d.l.r.c.ContentGenerationController - Verificando status do processo: test
2025-03-17 15:42:01 [http-nio-8080-exec-5] WARN  d.l.r.c.ContentGenerationController - Processo não encontrado: test
2025-03-17 15:43:02 [http-nio-8080-exec-7] DEBUG d.l.r.c.ContentGenerationController - Verificando status do processo: test
2025-03-17 15:43:02 [http-nio-8080-exec-7] WARN  d.l.r.c.ContentGenerationController - Processo não encontrado: test
2025-03-17 15:44:02 [http-nio-8080-exec-8] DEBUG d.l.r.c.ContentGenerationController - Verificando status do processo: test
2025-03-17 15:44:02 [http-nio-8080-exec-8] WARN  d.l.r.c.ContentGenerationController - Processo não encontrado: test
2025-03-17 15:44:14 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-17 15:44:14 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-17 15:44:14 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-17 15:44:14 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@52bb3dcd]]
2025-03-17 15:44:14 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-17 15:44:14 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-17 15:44:14 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-17 15:44:14 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-17 15:44:22 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 21.0.6 with PID 27020 (D:\WORKSPACE\ROTEIRO_NEW\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\ROTEIRO_NEW\roteiro)
2025-03-17 15:44:22 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17 15:44:22 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 15:44:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-03-17 15:44:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 127 ms. Found 1 MongoDB repository interface.
2025-03-17 15:44:23 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-17 15:44:23 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-17 15:44:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-17 15:44:24 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 15:44:24 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-17 15:44:24 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-17 15:44:24 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2081 ms
2025-03-17 15:44:24 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Amazon.com Inc./21.0.6+7-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4586a8aa, com.mongodb.Jep395RecordCodecProvider@3dc82e6a, com.mongodb.KotlinCodecProvider@54463380]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=STANDARD, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-03-17 15:44:24 [cluster-ClusterId{value='67d86d883d70702a10aa76e0', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=21984700, minRoundTripTimeNanos=0}
2025-03-17 15:44:25 [main] INFO  d.l.r.service.FileStorageService - Inicializando FileStorageService com MongoDB
2025-03-17 15:44:25 [main] INFO  d.l.r.service.SystemConfigService - SystemConfigService inicializado com configurações padrão
2025-03-17 15:44:25 [main] INFO  d.l.r.service.ElevenLabsService - ElevenLabsService inicializado
2025-03-17 15:44:26 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-17 15:44:26 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-17 15:44:26 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-17 15:44:26 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-17 15:44:26 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2ef1fc8a]]
2025-03-17 15:44:26 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-17 15:44:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-17 15:44:26 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 4.518 seconds (process running for 5.303)
2025-03-17 15:44:26 [SimpleAsyncTaskExecutor-12] INFO  d.l.roteiro.config.MongoDBConfig - Conexão com MongoDB estabelecida com sucesso!
2025-03-17 15:44:26 [SimpleAsyncTaskExecutor-12] DEBUG d.l.roteiro.config.MongoDBConfig - Status do servidor MongoDB: Document{{host=183036c089e2, version=8.0.4, process=mongod, service=[shard], pid=1, uptime=5652.0, uptimeMillis=5651518, uptimeEstimate=5651, localTime=Mon Mar 17 15:44:26 BRT 2025, asserts=Document{{regular=0, warning=0, msg=0, user=61, tripwire=0, rollovers=0}}, batchedDeletes=Document{{batches=2, docs=14, stagedSizeBytes=3402, timeInBatchMillis=0, refetchesDueToYield=0}}, catalogStats=Document{{collections=3, capped=0, clustered=0, timeseries=0, views=0, internalCollections=3, internalViews=0, csfle=0, queryableEncryption=0}}, changeStreamPreImages=Document{{purgingJob=Document{{totalPass=0, docsDeleted=0, bytesDeleted=0, scannedCollections=0, scannedInternalCollections=0, maxStartWallTimeMillis=0, timeElapsedMillis=0}}}}, collectionCatalog=Document{{numScansDueToMissingMapping=0}}, connections=Document{{current=13, available=838847, totalCreated=58, rejected=0, active=3, threaded=13, exhaustIsMaster=0, exhaustHello=1, awaitingTopologyChanges=2, loadBalanced=0}}, electionMetrics=Document{{stepUpCmd=Document{{called=0, successful=0}}, priorityTakeover=Document{{called=0, successful=0}}, catchUpTakeover=Document{{called=0, successful=0}}, electionTimeout=Document{{called=0, successful=0}}, freezeTimeout=Document{{called=0, successful=0}}, numStepDownsCausedByHigherTerm=0, numCatchUps=0, numCatchUpsSucceeded=0, numCatchUpsAlreadyCaughtUp=0, numCatchUpsSkipped=0, numCatchUpsTimedOut=0, numCatchUpsFailedWithError=0, numCatchUpsFailedWithNewTerm=0, numCatchUpsFailedWithReplSetAbortPrimaryCatchUpCmd=0, averageCatchUpOps=0.0}}, extra_info=Document{{note=fields vary by platform, user_time_us=22917530, system_time_us=7467716, maximum_resident_set_kb=225664, input_blocks=24160, output_blocks=43120, page_reclaims=4694, page_faults=155, voluntary_context_switches=323216, involuntary_context_switches=68, threads=56}}, featureCompatibilityVersion=Document{{major=8, minor=0, transitioning=0}}, flowControl=Document{{enabled=true, targetRateLimit=1000000000, timeAcquiringMicros=0, locksPerKiloOp=0.0, sustainerRate=0, isLagged=false, isLaggedCount=0, isLaggedTimeMicros=0}}, globalLock=Document{{totalTime=5652189000, currentQueue=Document{{total=0, readers=0, writers=0}}, activeClients=Document{{total=0, readers=0, writers=0}}}}, indexBuilds=Document{{total=0, killedDueToInsufficientDiskSpace=0, failedDueToDataCorruption=0, phases=Document{{scanCollection=0, drainSideWritesTable=0, drainSideWritesTablePreCommit=0, waitForCommitQuorum=0, drainSideWritesTableOnCommit=0, processConstraintsViolatonTableOnCommit=0, commit=0}}}}, indexBulkBuilder=Document{{count=0, resumed=0, filesOpenedForExternalSort=0, filesClosedForExternalSort=0, spilledRanges=0, bytesSpilledUncompressed=0, bytesSpilled=0, numSorted=0, bytesSorted=0, memUsage=0}}, indexStats=Document{{count=5, features=Document{{2d=Document{{count=0, accesses=0}}, 2dsphere=Document{{count=0, accesses=0}}, 2dsphere_bucket=Document{{count=0, accesses=0}}, collation=Document{{count=0, accesses=0}}, columnstore=Document{{count=0, accesses=0}}, compound=Document{{count=2, accesses=0}}, hashed=Document{{count=0, accesses=0}}, id=Document{{count=3, accesses=10}}, normal=Document{{count=2, accesses=0}}, partial=Document{{count=0, accesses=0}}, prepareUnique=Document{{count=0, accesses=0}}, single=Document{{count=0, accesses=0}}, sparse=Document{{count=0, accesses=0}}, text=Document{{count=0, accesses=0}}, ttl=Document{{count=0, accesses=0}}, unique=Document{{count=1, accesses=0}}, wildcard=Document{{count=0, accesses=0}}}}}}, internalTransactions=Document{{started=0, retriedTransactions=0, retriedCommits=0, succeeded=0}}, locks=Document{{MultiDocumentTransactionsBarrier=Document{{acquireCount=Document{{W=5}}}}, ReplicationStateTransition=Document{{acquireCount=Document{{w=5553}}}}, Global=Document{{acquireCount=Document{{r=16518, w=5539, W=5}}}}, Database=Document{{acquireCount=Document{{r=9, w=149, W=1}}}}, Collection=Document{{acquireCount=Document{{r=9, w=146, W=2}}}}, Mutex=Document{{acquireCount=Document{{r=9}}}}, oplog=Document{{acquireCount=Document{{w=1}}}}}}, logicalSessionRecordCache=Document{{activeSessionsCount=2, sessionsCollectionJobCount=19, lastSessionsCollectionJobDurationMillis=2, lastSessionsCollectionJobTimestamp=Mon Mar 17 15:40:15 BRT 2025, lastSessionsCollectionJobEntriesRefreshed=1, lastSessionsCollectionJobEntriesEnded=1, lastSessionsCollectionJobCursorsClosed=0, transactionReaperJobCount=19, lastTransactionReaperJobDurationMillis=0, lastTransactionReaperJobTimestamp=Mon Mar 17 15:40:15 BRT 2025, lastTransactionReaperJobEntriesCleanedUp=0, sessionCatalogSize=0}}, network=Document{{bytesIn=1073666, bytesOut=10069934, physicalBytesIn=966000, physicalBytesOut=10069934, numSlowDNSOperations=0, numSlowSSLOperations=0, numRequests=6905, tcpFastOpen=Document{{kernelSetting=1, serverSupported=false, clientSupported=false, accepted=0}}, compression=Document{{snappy=Document{{compressor=Document{{bytesIn=0, bytesOut=0}}, decompressor=Document{{bytesIn=0, bytesOut=0}}}}, zstd=Document{{compressor=Document{{bytesIn=0, bytesOut=0}}, decompressor=Document{{bytesIn=0, bytesOut=0}}}}, zlib=Document{{compressor=Document{{bytesIn=0, bytesOut=0}}, decompressor=Document{{bytesIn=0, bytesOut=0}}}}}}, serviceExecutors=Document{{passthrough=Document{{threadsRunning=13, clientsInTotal=13, clientsRunning=13, clientsWaitingForData=0}}, inline=Document{{threadsRunning=0, clientsInTotal=0, clientsRunning=0, clientsWaitingForData=0}}}}, listenerProcessingTime=Document{{durationMicros=17244}}}}, opLatencies=Document{{commands=Document{{latency=174434, ops=1418, queryableEncryptionLatencyMicros=0}}, reads=Document{{latency=968794, ops=5475, queryableEncryptionLatencyMicros=0}}, writes=Document{{latency=25341, ops=9, queryableEncryptionLatencyMicros=0}}, transactions=Document{{latency=0, ops=0, queryableEncryptionLatencyMicros=0}}}}, opWorkingTime=Document{{commands=Document{{latency=108000, ops=1418, queryableEncryptionLatencyMicros=0}}, reads=Document{{latency=38000, ops=5475, queryableEncryptionLatencyMicros=0}}, writes=Document{{latency=21000, ops=9, queryableEncryptionLatencyMicros=0}}, transactions=Document{{latency=0, ops=0, queryableEncryptionLatencyMicros=0}}}}, opcounters=Document{{insert=2, query=5493, update=28, delete=10, getmore=0, command=1458}}, opcountersRepl=Document{{insert=0, query=0, update=0, delete=0, getmore=0, command=0}}, querySettings=Document{{count=0, size=0, rejectCount=0}}, queues=Document{{execution=Document{{write=Document{{out=0, available=12, totalTickets=12, exempt=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=5389, processing=0, finishedProcessing=5389, totalTimeProcessingMicros=5163, canceled=0, newAdmissions=0, totalTimeQueuedMicros=0}}, normalPriority=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=141, processing=0, finishedProcessing=141, totalTimeProcessingMicros=156448, canceled=0, newAdmissions=105, totalTimeQueuedMicros=0}}}}, read=Document{{out=0, available=12, totalTickets=12, exempt=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=10957, processing=0, finishedProcessing=10957, totalTimeProcessingMicros=1429836, canceled=0, newAdmissions=10953, totalTimeQueuedMicros=0}}, normalPriority=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=5555, processing=0, finishedProcessing=5555, totalTimeProcessingMicros=826481, canceled=0, newAdmissions=5532, totalTimeQueuedMicros=0}}}}, monitor=Document{{timesDecreased=0, timesIncreased=0, totalAmountDecreased=0, totalAmountIncreased=0, resizeDurationMicros=9}}}}, ingress=Document{{out=0, available=1000000, totalTickets=1000000, exempt=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=1439, processing=3, finishedProcessing=1436, totalTimeProcessingMicros=6918455954, canceled=0, newAdmissions=1405, totalTimeQueuedMicros=0}}, normalPriority=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=5536, processing=0, finishedProcessing=5536, totalTimeProcessingMicros=1091122, canceled=0, newAdmissions=5536, totalTimeQueuedMicros=0}}}}}}, readConcernCounters=Document{{nonTransactionOps=Document{{none=5475, noneInfo=Document{{CWRC=Document{{local=0, available=0, majority=0}}, implicitDefault=Document{{local=5475, available=0}}}}, local=0, available=0, majority=0, snapshot=Document{{withClusterTime=0, withoutClusterTime=0}}, linearizable=0}}, transactionOps=Document{{none=0, noneInfo=Document{{CWRC=Document{{local=0, majority=0}}, implicitDefault=Document{{local=0}}}}, local=0, majority=0, snapshot=Document{{withClusterTime=0, withoutClusterTime=0}}}}}}, scramCache=Document{{SCRAM-SHA-1=Document{{count=0, hits=0, misses=0}}, SCRAM-SHA-256=Document{{count=0, hits=0, misses=0}}}}, security=Document{{authentication=Document{{saslSupportedMechsReceived=1, mechanisms=Document{{MONGODB-X509=Document{{speculativeAuthenticate=Document{{received=0, successful=0}}, clusterAuthenticate=Document{{received=0, successful=0}}, authenticate=Document{{received=0, successful=0}}}}, SCRAM-SHA-1=Document{{speculativeAuthenticate=Document{{received=0, successful=0}}, clusterAuthenticate=Document{{received=0, successful=0}}, authenticate=Document{{received=0, successful=0}}}}, SCRAM-SHA-256=Document{{speculativeAuthenticate=Document{{received=1, successful=0}}, clusterAuthenticate=Document{{received=0, successful=0}}, authenticate=Document{{received=2, successful=0}}}}}}, totalAuthenticationTimeMicros=9848}}}}, shardSplits=Document{{totalCommitted=0, totalCommittedDurationMillis=0, totalCommittedDurationWithoutCatchupMillis=0, totalAborted=0}}, storageEngine=Document{{name=wiredTiger, supportsCommittedReads=true, oldestRequiredTimestampForCrashRecovery=Timestamp{value=0, seconds=0, inc=0}, supportsPendingDrops=true, dropPendingIdents=0, supportsSnapshotReadConcern=true, readOnly=false, persistent=true, backupCursorOpen=false}}, tcmalloc=Document{{usingPerCPUCaches=false, maxPerCPUCacheSizeBytes=1572864, generic=Document{{bytes_in_use_by_app=114295936, current_allocated_bytes=114295936, heap_size=132120576, peak_memory_usage=7717352, physical_memory_used=147736854, virtual_memory_used=147736854}}, tcmalloc=Document{{central_cache_free=650824, cpu_free=0, current_total_thread_cache_bytes=3591256, desired_usage_limit_bytes=-1, hard_usage_limit_bytes=-1, local_bytes=3591320, max_total_thread_cache_bytes=33554432, metadata_bytes=6827574, page_algorithm=1, pageheap_free_bytes=13582336, pageheap_unmapped_bytes=0, required_bytes=134154518, sharded_transfer_cache_free=0, thread_cache_count=44, thread_cache_free=3590872, transfer_cache_free=0, release_rate=0, memory_used_to_memory_held_pct_at_peak=1793, total_bytes_held=33440566, estimated_size_class_overhead_bytes=1689395}}, tcmalloc_derived=Document{{unmapped_bytes=0, total_free_bytes=17824320}}}}, tenantMigrations=Document{{currentMigrationsDonating=0, currentMigrationsReceiving=0, totalMigrationDonationsCommitted=0, totalMigrationDonationsAborted=0}}, trafficRecording=Document{{running=false}}, transactions=Document{{retriedCommandsCount=0, retriedStatementsCount=0, transactionsCollectionWriteCount=0, currentActive=0, currentInactive=0, currentOpen=0, totalAborted=0, totalCommitted=0, totalStarted=0, totalPrepared=0, totalPreparedThenCommitted=0, totalPreparedThenAborted=0, currentPrepared=0}}, transportSecurity=Document{{1.0=0, 1.1=0, 1.2=0, 1.3=0, unknown=0}}, twoPhaseCommitCoordinator=Document{{totalCreated=0, totalStartedTwoPhaseCommit=0, totalAbortedTwoPhaseCommit=0, totalCommittedTwoPhaseCommit=0, currentInSteps=Document{{writingParticipantList=0, waitingForVotes=0, writingDecision=0, waitingForDecisionAcks=0, writingEndOfTransaction=0, deletingCoordinatorDoc=0}}}}, wiredTiger=Document{{uri=statistics:, autocommit=Document{{retries for readonly operations=0, retries for update operations=0}}, background-compact=Document{{background compact failed calls=0, background compact failed calls due to cache pressure=0, background compact interrupted=0, background compact moving average of bytes rewritten=0, background compact recovered bytes=0, background compact running=0, background compact skipped file as it is part of the exclude list=0, background compact skipped file as not meeting requirements for compaction=0, background compact sleeps due to cache pressure=0, background compact successful calls=0, background compact timeout=0, number of files tracked by background compaction=0}}, backup=Document{{backup cursor open=0, backup duplicate cursor open=0, backup granularity size=0, incremental backup enabled=0, opening the backup cursor in progress=0, total modified incremental blocks=0, total modified incremental blocks with compressed data=0, total modified incremental blocks without compressed data=0}}, block-cache=Document{{cached blocks updated=0, cached bytes updated=0, evicted blocks=0, file size causing bypass=0, lookups=0, number of blocks not evicted due to overhead=0, number of bypasses because no-write-allocate setting was on=0, number of bypasses due to overhead on put=0, number of bypasses on get=0, number of bypasses on put because file is too small=0, number of eviction passes=0, number of hits=0, number of misses=0, number of put bypasses on checkpoint I/O=0, removed blocks=0, time sleeping to remove block (usecs)=0, total blocks=0, total blocks inserted on read path=0, total blocks inserted on write path=0, total bytes=0, total bytes inserted on read path=0, total bytes inserted on write path=0}}, block-manager=Document{{blocks pre-loaded=0, blocks read=137, blocks written=646, bytes read=561152, bytes read via memory map API=0, bytes read via system call API=0, bytes written=4497408, bytes written by compaction=0, bytes written for checkpoint=4497408, bytes written via memory map API=0, bytes written via system call API=0, mapped blocks read=0, mapped bytes read=0, number of times the file was remapped because it changed size via fallocate or truncate=0, number of times the region was remapped via write=0}}, cache=Document{{application thread time evicting (usecs)=0, application threads page read from disk to cache count=0, application threads page read from disk to cache time (usecs)=0, application threads page write from cache to disk count=330, application threads page write from cache to disk time (usecs)=39079, bytes allocated for updates=111844, bytes belonging to page images in the cache=0, bytes belonging to the history store table in the cache=182, bytes currently in the cache=122777, bytes dirty in the cache cumulative=4343379, bytes not belonging to page images in the cache=122777, bytes read into cache=0, bytes written from cache=2174374, checkpoint blocked page eviction=0, checkpoint of history store file blocked non-history store page eviction=0, eviction calls to get a page=65, eviction calls to get a page found queue empty=63, eviction calls to get a page found queue empty after locking=0, eviction currently operating in aggressive mode=0, eviction empty score=0, eviction gave up due to detecting a disk value without a timestamp behind the last update on the chain=0, eviction gave up due to detecting a tombstone without a timestamp ahead of the selected on disk update=0, eviction gave up due to detecting a tombstone without a timestamp ahead of the selected on disk update after validating the update chain=0, eviction gave up due to detecting update chain entries without timestamps after the selected on disk update=0, eviction gave up due to needing to remove a record from the history store but checkpoint is running=0, eviction gave up due to no progress being made=0, eviction passes of a file=0, eviction server candidate queue empty when topping up=0, eviction server candidate queue not empty when topping up=0, eviction server evicting pages=0, eviction server skips dirty pages during a running checkpoint=0, eviction server skips internal pages as it has an active child.=0, eviction server skips metadata pages with history=0, eviction server skips pages that are written with transactions greater than the last running=0, eviction server skips pages that previously failed eviction and likely will again=0, eviction server skips pages that we do not want to evict=0, eviction server skips tree that we do not want to evict=0, eviction server skips trees because there are too many active walks=0, eviction server skips trees that are being checkpointed=0, eviction server skips trees that are configured to stick in cache=0, eviction server skips trees that disable eviction=0, eviction server skips trees that were not useful before=0, eviction server slept, because we did not make progress with eviction=452, eviction server unable to reach eviction goal=0, eviction server waiting for a leaf page=3, eviction state=32, eviction walk most recent sleeps for checkpoint handle gathering=0, eviction walk target pages histogram - 0-9=0, eviction walk target pages histogram - 10-31=0, eviction walk target pages histogram - 128 and higher=0, eviction walk target pages histogram - 32-63=0, eviction walk target pages histogram - 64-128=0, eviction walk target pages reduced due to history store cache pressure=0, eviction walk target strategy both clean and dirty pages=0, eviction walk target strategy only clean pages=0, eviction walk target strategy only dirty pages=0, eviction walks abandoned=0, eviction walks gave up because they restarted their walk twice=0, eviction walks gave up because they saw too many pages and found no candidates=0, eviction walks gave up because they saw too many pages and found too few candidates=0, eviction walks random search fails to locate a page, results in a null position=0, eviction walks reached end of tree=0, eviction walks restarted=0, eviction walks started from root of tree=0, eviction walks started from saved location in tree=0, eviction worker thread active=4, eviction worker thread created=0, eviction worker thread evicting pages=2, eviction worker thread removed=0, eviction worker thread stable number=0, files with active eviction walks=0, files with new eviction walks started=0, force re-tuning of eviction workers once in a while=0, forced eviction - do not retry count to evict pages selected to evict during reconciliation=0, forced eviction - history store pages failed to evict while session has history store cursor open=0, forced eviction - history store pages selected while session has history store cursor open=0, forced eviction - history store pages successfully evicted while session has history store cursor open=0, forced eviction - pages evicted that were clean count=0, forced eviction - pages evicted that were clean time (usecs)=0, forced eviction - pages evicted that were dirty count=1, forced eviction - pages evicted that were dirty time (usecs)=79, forced eviction - pages selected because of a large number of updates to a single item=0, forced eviction - pages selected because of too many deleted items count=0, forced eviction - pages selected count=1, forced eviction - pages selected unable to be evicted count=0, forced eviction - pages selected unable to be evicted time=0, hazard pointer blocked page eviction=0, hazard pointer check calls=3, hazard pointer check entries walked=0, hazard pointer maximum array length=0, history store table insert calls=0, history store table insert calls that returned restart=0, history store table max on-disk size=0, history store table on-disk size=4096, history store table reads=0, history store table reads missed=0, history store table reads requiring squashed modifies=0, history store table resolved updates without timestamps that lose their durable timestamp=0, history store table truncation by rollback to stable to remove an unstable update=0, history store table truncation by rollback to stable to remove an update=0, history store table truncation to remove all the keys of a btree=0, history store table truncation to remove an update=0, history store table truncation to remove range of updates due to an update without a timestamp on data page=0, history store table truncation to remove range of updates due to key being removed from the data page during reconciliation=0, history store table truncations that would have happened in non-dryrun mode=0, history store table truncations to remove an unstable update that would have happened in non-dryrun mode=0, history store table truncations to remove an update that would have happened in non-dryrun mode=0, history store table updates without timestamps fixed up by reinserting with the fixed timestamp=0, history store table writes requiring squashed modifies=0, in-memory page passed criteria to be split=0, in-memory page splits=0, internal page split blocked its eviction=0, internal pages evicted=0, internal pages queued for eviction=0, internal pages seen by eviction walk=0, internal pages seen by eviction walk that are already queued=0, internal pages split during eviction=0, leaf pages split during eviction=0, locate a random in-mem ref by examining all entries on the root page=0, maximum bytes configured=7829716992, maximum milliseconds spent at a single eviction=0, maximum page size seen at eviction=0, modified pages evicted=3, modified pages evicted by application threads=0, multi-block reconciliation blocked whilst checkpoint is running=0, operations timed out waiting for space in cache=0, overflow keys on a multiblock row-store page blocked its eviction=0, overflow pages read into cache=0, page split during eviction deepened the tree=0, page written requiring history store records=0, pages considered for eviction that were brought in by pre-fetch=0, pages currently held in the cache=37, pages evicted by application threads=0, pages evicted in parallel with checkpoint=0, pages queued for eviction=0, pages queued for eviction post lru sorting=0, pages queued for urgent eviction=2, pages queued for urgent eviction during walk=0, pages queued for urgent eviction from history store due to high dirty content=0, pages read into cache=0, pages read into cache after truncate=0, pages read into cache after truncate in prepare state=0, pages read into cache by checkpoint=0, pages removed from the ordinary queue to be queued for urgent eviction=0, pages requested from the cache=8297, pages requested from the cache due to pre-fetch=0, pages seen by eviction walk=0, pages seen by eviction walk that are already queued=0, pages selected for eviction unable to be evicted=0, pages selected for eviction unable to be evicted because of active children on an internal page=0, pages selected for eviction unable to be evicted because of failure in reconciliation=0, pages selected for eviction unable to be evicted because of race between checkpoint and updates without timestamps=0, pages walked for eviction=0, pages written from cache=330, pages written requiring in-memory restoration=0, percentage overhead=8, recent modification of a page blocked its eviction=0, reverse splits performed=0, reverse splits skipped because of VLCS namespace gap restrictions=0, the number of times full update inserted to history store=0, the number of times reverse modify inserted to history store=0, total milliseconds spent inside reentrant history store evictions in a reconciliation=0, tracked bytes belonging to internal pages in the cache=9222, tracked bytes belonging to leaf pages in the cache=113555, tracked dirty bytes in the cache=0, tracked dirty pages in the cache=0, uncommitted truncate blocked page eviction=0, unmodified pages evicted=0}}, capacity=Document{{background fsync file handles considered=0, background fsync file handles synced=0, background fsync time (msecs)=0, bytes read=561152, bytes written for checkpoint=2157465, bytes written for chunk cache=0, bytes written for eviction=0, bytes written for log=153344, bytes written total=2310809, threshold to call fsync=0, time waiting due to total capacity (usecs)=0, time waiting during checkpoint (usecs)=0, time waiting during eviction (usecs)=0, time waiting during logging (usecs)=0, time waiting during read (usecs)=0, time waiting for chunk cache IO bandwidth (usecs)=0}}, checkpoint=Document{{checkpoint cleanup successful calls=18, checkpoint has acquired a snapshot for its transaction=0, checkpoints skipped because database was clean=0, fsync calls after allocating the transaction ID=86, fsync duration after allocating the transaction ID (usecs)=1981, generation=87, max time (msecs)=815, min time (msecs)=10, most recent duration for checkpoint dropping all handles (usecs)=13200, most recent duration for gathering all handles (usecs)=74, most recent duration for gathering applied handles (usecs)=0, most recent duration for gathering skipped handles (usecs)=52, most recent duration for handles metadata checked (usecs)=765, most recent duration for locking the handles (usecs)=3291, most recent handles applied=0, most recent handles checkpoint dropped=241, most recent handles metadata checked=1026, most recent handles metadata locked=1026, most recent handles skipped=18, most recent handles walked=37, most recent time (msecs)=22, number of checkpoints started by api=86, number of checkpoints started by compaction=0, number of files synced=336, number of handles visited after writes complete=78, number of history store pages caused to be reconciled=147, number of internal pages visited=161, number of leaf pages visited=158, number of pages caused to be reconciled=319, pages added for eviction during checkpoint cleanup=4, pages removed during checkpoint cleanup=3, pages skipped during checkpoint cleanup tree walk=0, pages visited during checkpoint cleanup=202, prepare currently running=0, prepare max time (msecs)=0, prepare min time (msecs)=0, prepare most recent time (msecs)=0, prepare total time (msecs)=0, progress state=0, scrub dirty target=0, scrub max time (msecs)=5, scrub min time (msecs)=0, scrub most recent time (msecs)=5, scrub total time (msecs)=6, stop timing stress active=0, time spent on per-tree checkpoint work (usecs)=0, total failed number of checkpoints=0, total succeed number of checkpoints=86, total time (msecs)=3911, transaction checkpoints due to obsolete pages=0, wait cycles while cache dirty level is decreasing=0}}, chunk-cache=Document{{aggregate number of spanned chunks on read=0, chunks evicted=0, could not allocate due to exceeding bitmap capacity=0, could not allocate due to exceeding capacity=0, lookups=0, number of chunks loaded from flushed tables in chunk cache=0, number of metadata entries inserted=0, number of metadata entries removed=0, number of metadata inserts/deletes dropped by the worker thread=0, number of metadata inserts/deletes pushed to the worker thread=0, number of metadata inserts/deletes read by the worker thread=0, number of misses=0, number of times a read from storage failed=0, retried accessing a chunk while I/O was in progress=0, retries from a chunk cache checksum mismatch=0, timed out due to too many retries=0, total bytes read from persistent content=0, total bytes used by the cache=0, total bytes used by the cache for pinned chunks=0, total chunks held by the chunk cache=0, total number of chunks inserted on startup from persisted metadata.=0, total pinned chunks held by the chunk cache=0}}, connection=Document{{auto adjusting condition resets=302, auto adjusting condition wait calls=32049, auto adjusting condition wait raced to update timeout and skipped updating=0, detected system time went backwards=0, files currently open=22, hash bucket array size for data handles=512, hash bucket array size general=512, memory allocations=196093, memory frees=194247, memory re-allocations=640, number of sessions without a sweep for 5+ minutes=28, number of sessions without a sweep for 60+ minutes=0, pthread mutex condition wait calls=128785, pthread mutex shared lock read-lock calls=98909, pthread mutex shared lock write-lock calls=4722, total fsync I/Os=692, total read I/Os=248, total write I/Os=999}}, cursor=Document{{Total number of deleted pages skipped during tree walk=0, Total number of entries skipped by cursor next calls=140, Total number of entries skipped by cursor prev calls=0, Total number of entries skipped to position the history store cursor=0, Total number of in-memory deleted pages skipped during tree walk=0, Total number of on-disk deleted pages skipped during tree walk=0, Total number of times a search near has exited due to prefix config=0, Total number of times cursor fails to temporarily release pinned page to encourage eviction of hot or large page=0, Total number of times cursor temporarily releases pinned page to encourage eviction of hot or large page=0, bulk cursor count=0, cached cursor count=31, cursor bound calls that return an error=0, cursor bounds cleared from reset=139, cursor bounds comparisons performed=353, cursor bounds next called on an unpositioned cursor=140, cursor bounds next early exit=52, cursor bounds prev called on an unpositioned cursor=0, cursor bounds prev early exit=0, cursor bounds search early exit=0, cursor bounds search near call repositioned cursor=0, cursor bulk loaded cursor insert calls=0, cursor cache calls that return an error=0, cursor close calls that result in cache=48492, cursor close calls that return an error=0, cursor compare calls that return an error=0, cursor create calls=209, cursor equals calls that return an error=0, cursor get key calls that return an error=0, cursor get value calls that return an error=0, cursor insert calls=436, cursor insert calls that return an error=0, cursor insert check calls that return an error=0, cursor insert key and value bytes=184797, cursor largest key calls that return an error=0, cursor modify calls=0, cursor modify calls that return an error=0, cursor modify key and value bytes affected=0, cursor modify value bytes modified=0, cursor next calls=26609, cursor next calls that return an error=0, cursor next calls that skip due to a globally visible history store tombstone=0, cursor next calls that skip greater than 1 and fewer than 100 entries=20, cursor next calls that skip greater than or equal to 100 entries=0, cursor next random calls that return an error=0, cursor operation restarted=0, cursor prev calls=10, cursor prev calls that return an error=0, cursor prev calls that skip due to a globally visible history store tombstone=0, cursor prev calls that skip greater than or equal to 100 entries=0, cursor prev calls that skip less than 100 entries=0, cursor reconfigure calls that return an error=0, cursor remove calls=59, cursor remove calls that return an error=0, cursor remove key bytes removed=1528, cursor reopen calls that return an error=0, cursor reserve calls=0, cursor reserve calls that return an error=0, cursor reset calls=56711, cursor reset calls that return an error=0, cursor search calls=817, cursor search calls that return an error=0, cursor search history store calls=0, cursor search near calls=222, cursor search near calls that return an error=0, cursor sweep buckets=69288, cursor sweep cursors closed=0, cursor sweep cursors examined=880, cursor sweeps=6669, cursor truncate calls=0, cursor truncates performed on individual keys=0, cursor update calls=0, cursor update calls that return an error=0, cursor update key and value bytes=0, cursor update value size change=0, cursors reused from cache=48461, open cursor count=8}}, data-handle=Document{{connection data handle size=496, connection data handles currently active=37, connection sweep candidate became referenced=0, connection sweep dhandles closed=0, connection sweep dhandles removed from hash list=61, connection sweep time-of-death sets=292, connection sweeps=521, connection sweeps skipped due to checkpoint gathering handles=0, session dhandles swept=34, session sweep attempts=1738}}, lock=Document{{checkpoint lock acquisitions=86, checkpoint lock application thread wait time (usecs)=0, checkpoint lock internal thread wait time (usecs)=0, dhandle lock application thread time waiting (usecs)=0, dhandle lock internal thread time waiting (usecs)=0, dhandle read lock acquisitions=21164, dhandle write lock acquisitions=161, metadata lock acquisitions=86, metadata lock application thread wait time (usecs)=0, metadata lock internal thread wait time (usecs)=0, schema lock acquisitions=106, schema lock application thread wait time (usecs)=0, schema lock internal thread wait time (usecs)=0, table lock application thread time waiting for the table lock (usecs)=0, table lock internal thread time waiting for the table lock (usecs)=0, table read lock acquisitions=0, table write lock acquisitions=18, txn global lock application thread time waiting (usecs)=0, txn global lock internal thread time waiting (usecs)=0, txn global read lock acquisitions=331, txn global write lock acquisitions=238}}, log=Document{{busy returns attempting to switch slots=1, force log remove time sleeping (usecs)=0, log bytes of payload data=112468, log bytes written=153216, log files manually zero-filled=0, log flush operations=52331, log force write operations=58080, log force write operations skipped=57940, log records compressed=89, log records not compressed=90, log records too small to compress=421, log release advances write LSN=105, log scan operations=0, log scan records requiring two reads=0, log server thread advances write LSN=139, log server thread write LSN walk skipped=6099, log sync operations=244, log sync time duration (usecs)=1695424, log sync_dir operations=1, log sync_dir time duration (usecs)=2808, log write operations=600, logging bytes consolidated=152832, maximum log file size=104857600, number of pre-allocated log files to create=1, pre-allocated log files not ready and missed=1, pre-allocated log files prepared=1, pre-allocated log files used=0, records processed by log scan=0, slot close lost race=0, slot close unbuffered waits=0, slot closures=244, slot join atomic update races=0, slot join calls atomic updates raced=0, slot join calls did not yield=600, slot join calls found active slot closed=0, slot join calls slept=0, slot join calls yielded=0, slot join found active slot closed=0, slot joins yield time (usecs)=0, slot transitions unable to find free slot=0, slot unbuffered writes=0, total in-memory size of compressed records=172184, total log buffer size=33554432, total size of compressed records=71239, written slots coalesced=0, yields waiting for previous log file close=0}}, perf=Document{{file system read latency histogram (bucket 1) - 0-10ms=248, file system read latency histogram (bucket 2) - 10-49ms=0, file system read latency histogram (bucket 3) - 50-99ms=0, file system read latency histogram (bucket 4) - 100-249ms=0, file system read latency histogram (bucket 5) - 250-499ms=0, file system read latency histogram (bucket 6) - 500-999ms=0, file system read latency histogram (bucket 7) - 1000ms+=0, file system read latency histogram total (msecs)=16, file system write latency histogram (bucket 1) - 0-10ms=999, file system write latency histogram (bucket 2) - 10-49ms=0, file system write latency histogram (bucket 3) - 50-99ms=0, file system write latency histogram (bucket 4) - 100-249ms=0, file system write latency histogram (bucket 5) - 250-499ms=0, file system write latency histogram (bucket 6) - 500-999ms=0, file system write latency histogram (bucket 7) - 1000ms+=0, file system write latency histogram total (msecs)=1, operation read latency histogram (bucket 1) - 0-100us=919, operation read latency histogram (bucket 2) - 100-249us=1, operation read latency histogram (bucket 3) - 250-499us=0, operation read latency histogram (bucket 4) - 500-999us=0, operation read latency histogram (bucket 5) - 1000-9999us=0, operation read latency histogram (bucket 6) - 10000us+=0, operation read latency histogram total (usecs)=3159, operation write latency histogram (bucket 1) - 0-100us=494, operation write latency histogram (bucket 2) - 100-249us=1, operation write latency histogram (bucket 3) - 250-499us=0, operation write latency histogram (bucket 4) - 500-999us=0, operation write latency histogram (bucket 5) - 1000-9999us=0, operation write latency histogram (bucket 6) - 10000us+=0, operation write latency histogram total (usecs)=2256}}, prefetch=Document{{could not perform pre-fetch on internal page=0, could not perform pre-fetch on ref without the pre-fetch flag set=0, number of times pre-fetch failed to start=0, pre-fetch not repeating for recently pre-fetched ref=0, pre-fetch not triggered after single disk read=0, pre-fetch not triggered as there is no valid dhandle=0, pre-fetch not triggered by page read=5822, pre-fetch not triggered due to disk read count=0, pre-fetch not triggered due to internal session=0, pre-fetch not triggered due to special btree handle=0, pre-fetch page not on disk when reading=0, pre-fetch pages queued=0, pre-fetch pages read in background=0, pre-fetch skipped reading in a page due to harmless error=0, pre-fetch triggered by page read=0}}, reconciliation=Document{{VLCS pages explicitly reconciled as empty=0, approximate byte size of timestamps in pages written=0, approximate byte size of transaction IDs in pages written=1880, fast-path pages deleted=0, leaf-page overflow keys=0, maximum milliseconds spent in a reconciliation call=0, maximum milliseconds spent in building a disk image in a reconciliation=0, maximum milliseconds spent in moving updates to the history store in a reconciliation=0, overflow values written=0, page reconciliation calls=319, page reconciliation calls for eviction=0, page reconciliation calls that resulted in values with prepared transaction metadata=0, page reconciliation calls that resulted in values with timestamps=0, page reconciliation calls that resulted in values with transaction ids=80, pages deleted=9, pages written including an aggregated newest start durable timestamp =0, pages written including an aggregated newest stop durable timestamp =0, pages written including an aggregated newest stop timestamp =0, pages written including an aggregated newest stop transaction ID=0, pages written including an aggregated newest transaction ID =0, pages written including an aggregated oldest start timestamp =0, pages written including an aggregated prepare=0, pages written including at least one prepare state=0, pages written including at least one start durable timestamp=0, pages written including at least one start timestamp=0, pages written including at least one start transaction ID=80, pages written including at least one stop durable timestamp=0, pages written including at least one stop timestamp=0, pages written including at least one stop transaction ID=0, records written including a prepare state=0, records written including a start durable timestamp=0, records written including a start timestamp=0, records written including a start transaction ID=235, records written including a stop durable timestamp=0, records written including a stop timestamp=0, records written including a stop transaction ID=0, split bytes currently awaiting free=0, split objects currently awaiting free=0}}, session=Document{{attempts to remove a local object and the object is in use=0, flush_tier failed calls=0, flush_tier operation calls=0, flush_tier tables skipped due to no checkpoint=0, flush_tier tables switched=0, local objects removed=0, open session count=24, session query timestamp calls=0, table alter failed calls=0, table alter successful calls=0, table alter triggering checkpoint calls=0, table alter unchanged and skipped=0, table compact conflicted with checkpoint=0, table compact dhandle successful calls=0, table compact failed calls=0, table compact failed calls due to cache pressure=0, table compact passes=0, table compact running=0, table compact skipped as process would not reduce file size=0, table compact successful calls=0, table compact timeout=0, table create failed calls=0, table create successful calls=17, table create with import failed calls=0, table create with import successful calls=0, table drop failed calls=0, table drop successful calls=0, table rename failed calls=0, table rename successful calls=0, table salvage failed calls=0, table salvage successful calls=0, table truncate failed calls=0, table truncate successful calls=0, table verify failed calls=0, table verify successful calls=0, tiered operations dequeued and processed=0, tiered operations removed without processing=0, tiered operations scheduled=0, tiered storage local retention time (secs)=0}}, thread-state=Document{{active filesystem fsync calls=0, active filesystem read calls=0, active filesystem write calls=0}}, thread-yield=Document{{application thread operations waiting for cache=0, application thread snapshot refreshed for eviction=0, application thread time waiting for cache (usecs)=0, connection close blocked waiting for transaction state stabilization=0, connection close yielded for lsm manager shutdown=0, data handle lock yielded=0, get reference for page index and slot time sleeping (usecs)=0, page access yielded due to prepare state change=0, page acquire busy blocked=0, page acquire eviction blocked=0, page acquire locked blocked=0, page acquire read blocked=0, page acquire time sleeping (usecs)=0, page delete rollback time sleeping for state change (usecs)=0, page reconciliation yielded due to child modification=0}}, transaction=Document{{Number of prepared updates=0, Number of prepared updates committed=0, Number of prepared updates repeated on the same key=0, Number of prepared updates rolled back=0, a reader raced with a prepared transaction commit and skipped an update or updates=0, number of times overflow removed value is read=0, oldest pinned transaction ID rolled back for eviction=0, prepared transactions=0, prepared transactions committed=0, prepared transactions currently active=0, prepared transactions rolled back=0, query timestamp calls=5391, race to read prepared update retry=0, rollback to stable calls=0, rollback to stable history store keys that would have been swept in non-dryrun mode=0, rollback to stable history store records with stop timestamps older than newer records=0, rollback to stable inconsistent checkpoint=0, rollback to stable keys removed=0, rollback to stable keys restored=0, rollback to stable keys that would have been removed in non-dryrun mode=0, rollback to stable keys that would have been restored in non-dryrun mode=0, rollback to stable pages visited=0, rollback to stable restored tombstones from history store=0, rollback to stable restored updates from history store=0, rollback to stable skipping delete rle=0, rollback to stable skipping stable rle=0, rollback to stable sweeping history store keys=0, rollback to stable tombstones from history store that would have been restored in non-dryrun mode=0, rollback to stable tree walk skipping pages=0, rollback to stable updates aborted=0, rollback to stable updates from history store that would have been restored in non-dryrun mode=0, rollback to stable updates removed from history store=0, rollback to stable updates that would have been aborted in non-dryrun mode=0, rollback to stable updates that would have been removed from history store in non-dryrun mode=0, sessions scanned in each walk of concurrent sessions=163290, set timestamp calls=0, set timestamp durable calls=0, set timestamp durable updates=0, set timestamp force calls=0, set timestamp global oldest timestamp set to be more recent than the global stable timestamp=0, set timestamp oldest calls=0, set timestamp oldest updates=0, set timestamp stable calls=0, set timestamp stable updates=0, transaction begins=5727, transaction checkpoint history store file duration (usecs)=2, transaction range of IDs currently pinned=0, transaction range of IDs currently pinned by a checkpoint=0, transaction range of timestamps currently pinned=0, transaction range of timestamps pinned by a checkpoint=0, transaction range of timestamps pinned by the oldest active read timestamp=0, transaction range of timestamps pinned by the oldest timestamp=0, transaction read timestamp of the oldest active reader=0, transaction rollback to stable currently running=0, transaction walk of concurrent sessions=6148, transactions committed=62, transactions rolled back=5665, update conflicts=0}}, snapshot-window-settings=Document{{total number of SnapshotTooOld errors=0, minimum target snapshot window size in seconds=300, current available snapshot window size in seconds=0, latest majority snapshot timestamp available=Jan  1 00:00:00:0, oldest majority snapshot timestamp available=Jan  1 00:00:00:0, pinned timestamp requests=0, min pinned timestamp=Timestamp{value=-1, seconds=-1, inc=-1}}}, oplog=Document{{visibility timestamp=Timestamp{value=0, seconds=0, inc=0}}}}}, mem=Document{{bits=64, resident=220, virtual=3635, supported=true, secureAllocByteCount=0, secureAllocBytesInPages=0}}, metrics=Document{{apiVersions=Document{{MongoDB Compass=[default], =[default]}}, abortExpiredTransactions=Document{{passes=188}}, aggStageCounters=Document{{$_addReshardingResumeId=0, $_analyzeShardKeyReadWriteDistribution=0, $_internalAllCollectionStats=0, $_internalApplyOplogUpdate=0, $_internalBoundedSort=0, $_internalChangeStreamAddPostImage=0, $_internalChangeStreamAddPreImage=0, $_internalChangeStreamCheckInvalidate=0, $_internalChangeStreamCheckResumability=0, $_internalChangeStreamCheckTopologyChange=0, $_internalChangeStreamHandleTopologyChange=0, $_internalChangeStreamOplogMatch=0, $_internalChangeStreamTransform=0, $_internalChangeStreamUnwindTransaction=0, $_internalComputeGeoNearDistance=0, $_internalConvertBucketIndexStats=0, $_internalDensify=0, $_internalFindAndModifyImageLookup=0, $_internalInhibitOptimization=0, $_internalProjection=0, $_internalReplaceRoot=0, $_internalReshardingIterateTransaction=0, $_internalReshardingOwnershipMatch=0, $_internalSearchIdLookup=0, $_internalSearchMongotRemote=0, $_internalSetWindowFields=0, $_internalShardServerInfo=0, $_internalShredDocuments=0, $_internalSplitPipeline=0, $_internalStreamingGroup=0, $_internalUnpackBucket=0, $_unpackBucket=0, $addFields=2, $bucket=0, $bucketAuto=0, $changeStream=0, $changeStreamSplitLargeEvent=0, $collStats=4, $count=2, $currentOp=1, $densify=0, $documents=0, $facet=0, $fill=0, $geoNear=0, $graphLookup=0, $group=6, $indexStats=2, $limit=2, $listCachedAndActiveUsers=0, $listCatalog=0, $listLocalSessions=0, $listSampledQueries=0, $listSearchIndexes=0, $listSessions=0, $lookup=0, $match=4, $merge=0, $mergeCursors=0, $operationMetrics=0, $out=0, $planCacheStats=0, $project=4, $querySettings=0, $queryStats=0, $queue=0, $redact=0, $replaceRoot=0, $replaceWith=0, $sample=0, $search=0, $searchBeta=0, $searchMeta=0, $set=21, $setVariableFromSubPipeline=0, $setWindowFields=0, $shardedDataDistribution=0, $skip=0, $sort=0, $sortByCount=0, $unionWith=0, $unset=0, $unwind=2, $vectorSearch=0}}, changeStreams=Document{{largeEventsFailed=0, largeEventsSplit=0, showExpandedEvents=0}}, commands=Document{{<UNKNOWN>=2, _addShard=Document{{failed=0, rejected=0, total=0}}, _configsvrAbortReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrAddShard=Document{{failed=0, rejected=0, total=0}}, _configsvrAddShardToZone=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerCollectionStatus=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerStart=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerStatus=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerStop=Document{{failed=0, rejected=0, total=0}}, _configsvrCheckClusterMetadataConsistency=Document{{failed=0, rejected=0, total=0}}, _configsvrCheckMetadataConsistency=Document{{failed=0, rejected=0, total=0}}, _configsvrCleanupReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrClearJumboFlag=Document{{failed=0, rejected=0, total=0}}, _configsvrCollMod=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitChunkMigration=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitChunkSplit=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitChunksMerge=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitIndex=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitMergeAllChunksOnShard=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitMovePrimary=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitRefineCollectionShardKey=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrConfigureCollectionBalancing=Document{{failed=0, rejected=0, total=0}}, _configsvrCreateDatabase=Document{{failed=0, rejected=0, total=0}}, _configsvrDropIndexCatalogEntry=Document{{failed=0, rejected=0, total=0}}, _configsvrEnsureChunkVersionIsGreaterThan=Document{{failed=0, rejected=0, total=0}}, _configsvrGetHistoricalPlacement=Document{{failed=0, rejected=0, total=0}}, _configsvrMoveRange=Document{{failed=0, rejected=0, total=0}}, _configsvrRefineCollectionShardKey=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveChunks=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveShard=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveShardFromZone=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveTags=Document{{failed=0, rejected=0, total=0}}, _configsvrRepairShardedCollectionChunksHistory=Document{{failed=0, rejected=0, total=0}}, _configsvrResetPlacementHistory=Document{{failed=0, rejected=0, total=0}}, _configsvrReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrRunRestore=Document{{failed=0, rejected=0, total=0}}, _configsvrSetAllowMigrations=Document{{failed=0, rejected=0, total=0}}, _configsvrSetClusterParameter=Document{{failed=0, rejected=0, total=0}}, _configsvrSetUserWriteBlockMode=Document{{failed=0, rejected=0, total=0}}, _configsvrTransitionFromDedicatedConfigServer=Document{{failed=0, rejected=0, total=0}}, _configsvrTransitionToDedicatedConfigServer=Document{{failed=0, rejected=0, total=0}}, _configsvrUpdateZoneKeyRange=Document{{failed=0, rejected=0, total=0}}, _flushDatabaseCacheUpdates=Document{{failed=0, rejected=0, total=0}}, _flushDatabaseCacheUpdatesWithWriteConcern=Document{{failed=0, rejected=0, total=0}}, _flushReshardingStateChange=Document{{failed=0, rejected=0, total=0}}, _flushRoutingTableCacheUpdates=Document{{failed=0, rejected=0, total=0}}, _flushRoutingTableCacheUpdatesWithWriteConcern=Document{{failed=0, rejected=0, total=0}}, _getNextSessionMods=Document{{failed=0, rejected=0, total=0}}, _getUserCacheGeneration=Document{{failed=0, rejected=0, total=0}}, _isSelf=Document{{failed=0, rejected=0, total=0}}, _killOperations=Document{{failed=0, rejected=0, total=0}}, _mergeAuthzCollections=Document{{failed=0, rejected=0, total=0}}, _migrateClone=Document{{failed=0, rejected=0, total=0}}, _recvChunkAbort=Document{{failed=0, rejected=0, total=0}}, _recvChunkCommit=Document{{failed=0, rejected=0, total=0}}, _recvChunkReleaseCritSec=Document{{failed=0, rejected=0, total=0}}, _recvChunkStart=Document{{failed=0, rejected=0, total=0}}, _recvChunkStatus=Document{{failed=0, rejected=0, total=0}}, _refreshQueryAnalyzerConfiguration=Document{{failed=0, rejected=0, total=0}}, _shardsvrAbortReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrBeginMigrationBlockingOperation=Document{{failed=0, rejected=0, total=0}}, _shardsvrChangePrimary=Document{{failed=0, rejected=0, total=0}}, _shardsvrCheckMetadataConsistency=Document{{failed=0, rejected=0, total=0}}, _shardsvrCheckMetadataConsistencyParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCleanupReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrCleanupStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, _shardsvrCloneCatalogData=Document{{failed=0, rejected=0, total=0}}, _shardsvrCollMod=Document{{failed=0, rejected=0, total=0}}, _shardsvrCollModParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCommitIndexParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCommitReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrCompactStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, _shardsvrConvertToCapped=Document{{failed=0, rejected=0, total=0}}, _shardsvrConvertToCappedParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCoordinateMultiUpdate=Document{{failed=0, rejected=0, total=0}}, _shardsvrCreateCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrCreateCollectionParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropCollectionIfUUIDNotMatchingWithWriteConcern=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropCollectionParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropDatabase=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropDatabaseParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropIndexCatalogEntryParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropIndexes=Document{{failed=0, rejected=0, total=0}}, _shardsvrEndMigrationBlockingOperation=Document{{failed=0, rejected=0, total=0}}, _shardsvrGetStatsForBalancing=Document{{failed=0, rejected=0, total=0}}, _shardsvrJoinDDLCoordinators=Document{{failed=0, rejected=0, total=0}}, _shardsvrJoinMigrations=Document{{failed=0, rejected=0, total=0}}, _shardsvrMergeAllChunksOnShard=Document{{failed=0, rejected=0, total=0}}, _shardsvrMovePrimary=Document{{failed=0, rejected=0, total=0}}, _shardsvrMovePrimaryEnterCriticalSection=Document{{failed=0, rejected=0, total=0}}, _shardsvrMovePrimaryExitCriticalSection=Document{{failed=0, rejected=0, total=0}}, _shardsvrMoveRange=Document{{failed=0, rejected=0, total=0}}, _shardsvrNotifyShardingEvent=Document{{failed=0, rejected=0, total=0}}, _shardsvrParticipantBlock=Document{{failed=0, rejected=0, total=0}}, _shardsvrRefineCollectionShardKey=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameCollectionParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameCollectionParticipantUnblock=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameIndexMetadata=Document{{failed=0, rejected=0, total=0}}, _shardsvrReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrReshardingOperationTime=Document{{failed=0, rejected=0, total=0}}, _shardsvrSetAllowMigrations=Document{{failed=0, rejected=0, total=0}}, _shardsvrSetClusterParameter=Document{{failed=0, rejected=0, total=0}}, _shardsvrSetUserWriteBlockMode=Document{{failed=0, rejected=0, total=0}}, _shardsvrUntrackUnsplittableCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrValidateShardKeyCandidate=Document{{failed=0, rejected=0, total=0}}, _transferMods=Document{{failed=0, rejected=0, total=0}}, abortShardSplit=Document{{failed=0, rejected=0, total=0}}, abortTransaction=Document{{failed=0, rejected=0, total=0}}, aggregate=Document{{failed=1, rejected=0, total=14}}, analyze=Document{{failed=0, rejected=0, total=0}}, analyzeShardKey=Document{{failed=0, rejected=0, total=0}}, appendOplogNote=Document{{failed=0, rejected=0, total=0}}, applyOps=Document{{failed=0, rejected=0, total=0}}, authenticate=Document{{failed=0, rejected=0, total=0}}, autoCompact=Document{{failed=0, rejected=0, total=0}}, autoSplitVector=Document{{failed=0, rejected=0, total=0}}, buildInfo=Document{{failed=0, rejected=0, total=2}}, bulkWrite=Document{{arrayFilters=0, failed=0, pipeline=0, rejected=0, total=0}}, checkShardingIndex=Document{{failed=0, rejected=0, total=0}}, cleanupOrphaned=Document{{failed=0, rejected=0, total=0}}, cleanupStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, cloneCollectionAsCapped=Document{{failed=0, rejected=0, total=0}}, clusterAbortTransaction=Document{{failed=0, rejected=0, total=0}}, clusterAggregate=Document{{failed=0, rejected=0, total=0}}, clusterBulkWrite=Document{{failed=0, rejected=0, total=0}}, clusterCommitTransaction=Document{{failed=0, rejected=0, total=0}}, clusterCount=Document{{failed=0, rejected=0, total=0}}, clusterDelete=Document{{failed=0, rejected=0, total=0}}, clusterFind=Document{{failed=0, rejected=0, total=0}}, clusterGetMore=Document{{failed=0, rejected=0, total=0}}, clusterInsert=Document{{failed=0, rejected=0, total=0}}, clusterUpdate=Document{{arrayFilters=0, failed=0, pipeline=0, rejected=0, total=0}}, collMod=Document{{failed=0, rejected=0, total=0, validator=Document{{failed=0, jsonSchema=0, total=0}}}}, collStats=Document{{failed=0, rejected=0, total=0}}, commitShardSplit=Document{{failed=0, rejected=0, total=0}}, commitTransaction=Document{{failed=0, rejected=0, total=0}}, compact=Document{{failed=0, rejected=0, total=0}}, compactStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, configureQueryAnalyzer=Document{{failed=0, rejected=0, total=0}}, connPoolStats=Document{{failed=0, rejected=0, total=0}}, connPoolSync=Document{{failed=0, rejected=0, total=0}}, connectionStatus=Document{{failed=0, rejected=0, total=2}}, convertToCapped=Document{{failed=0, rejected=0, total=0}}, coordinateCommitTransaction=Document{{failed=0, rejected=0, total=0}}, count=Document{{failed=0, rejected=0, total=0}}, create=Document{{failed=0, rejected=0, total=0, validator=Document{{failed=0, jsonSchema=0, total=0}}}}, createIndexes=Document{{failed=0, rejected=0, total=3}}, createRole=Document{{failed=0, rejected=0, total=0}}, createSearchIndexes=Document{{failed=0, rejected=0, total=0}}, createUser=Document{{failed=0, rejected=0, total=0}}, currentOp=Document{{failed=0, rejected=0, total=0}}, dataSize=Document{{failed=0, rejected=0, total=0}}, dbCheck=Document{{failed=0, rejected=0, total=0}}, dbHash=Document{{failed=0, rejected=0, total=0}}, dbStats=Document{{failed=0, rejected=0, total=4}}, delete=Document{{failed=0, rejected=0, total=8}}, distinct=Document{{failed=0, rejected=0, total=0}}, donorAbortMigration=Document{{failed=0, rejected=0, total=0}}, donorForgetMigration=Document{{failed=0, rejected=0, total=0}}, donorStartMigration=Document{{failed=0, rejected=0, total=0}}, drop=Document{{failed=0, rejected=0, total=0}}, dropAllRolesFromDatabase=Document{{failed=0, rejected=0, total=0}}, dropAllUsersFromDatabase=Document{{failed=0, rejected=0, total=0}}, dropConnections=Document{{failed=0, rejected=0, total=0}}, dropDatabase=Document{{failed=0, rejected=0, total=0}}, dropIndexes=Document{{failed=0, rejected=0, total=0}}, dropRole=Document{{failed=0, rejected=0, total=0}}, dropSearchIndex=Document{{failed=0, rejected=0, total=0}}, dropUser=Document{{failed=0, rejected=0, total=0}}, endSessions=Document{{failed=0, rejected=0, total=11}}, explain=Document{{failed=0, rejected=0, total=0}}, features=Document{{failed=0, rejected=0, total=0}}, filemd5=Document{{failed=0, rejected=0, total=0}}, find=Document{{failed=0, rejected=0, total=5479}}, findAndModify=Document{{arrayFilters=0, failed=0, pipeline=0, rejected=0, total=0}}, flushRouterConfig=Document{{failed=0, rejected=0, total=0}}, forgetShardSplit=Document{{failed=0, rejected=0, total=0}}, fsync=Document{{failed=0, rejected=0, total=0}}, fsyncUnlock=Document{{failed=0, rejected=0, total=0}}, getChangeStreamState=Document{{failed=0, rejected=0, total=0}}, getClusterParameter=Document{{failed=0, rejected=0, total=0}}, getCmdLineOpts=Document{{failed=0, rejected=0, total=0}}, getDatabaseVersion=Document{{failed=0, rejected=0, total=0}}, getDefaultRWConcern=Document{{failed=0, rejected=0, total=0}}, getDiagnosticData=Document{{failed=0, rejected=0, total=0}}, getLog=Document{{failed=0, rejected=0, total=0}}, getMore=Document{{failed=0, rejected=0, total=0}}, getParameter=Document{{failed=0, rejected=0, total=2}}, getQueryableEncryptionCountInfo=Document{{failed=0, rejected=0, total=0}}, getShardMap=Document{{failed=0, rejected=0, total=0}}, getShardVersion=Document{{failed=0, rejected=0, total=0}}, grantPrivilegesToRole=Document{{failed=0, rejected=0, total=0}}, grantRolesToRole=Document{{failed=0, rejected=0, total=0}}, grantRolesToUser=Document{{failed=0, rejected=0, total=0}}, hello=Document{{failed=14, rejected=0, total=1306}}, hostInfo=Document{{failed=0, rejected=0, total=2}}, insert=Document{{failed=0, rejected=0, total=2}}, internalRenameIfOptionsAndIndexesMatch=Document{{failed=0, rejected=0, total=0}}, invalidateUserCache=Document{{failed=0, rejected=0, total=0}}, isMaster=Document{{failed=0, rejected=0, total=58}}, killAllSessions=Document{{failed=0, rejected=0, total=0}}, killAllSessionsByPattern=Document{{failed=0, rejected=0, total=0}}, killCursors=Document{{failed=0, rejected=0, total=0}}, killOp=Document{{failed=0, rejected=0, total=0}}, killSessions=Document{{failed=0, rejected=0, total=0}}, listCollections=Document{{failed=0, rejected=0, total=9}}, listCommands=Document{{failed=0, rejected=0, total=0}}, listDatabases=Document{{failed=0, rejected=0, total=2}}, listDatabasesForAllTenants=Document{{failed=0, rejected=0, total=0}}, listIndexes=Document{{failed=4, rejected=0, total=42}}, listSearchIndexes=Document{{failed=0, rejected=0, total=0}}, lockInfo=Document{{failed=0, rejected=0, total=0}}, logRotate=Document{{failed=0, rejected=0, total=0}}, logout=Document{{failed=0, rejected=0, total=0}}, mapReduce=Document{{failed=0, rejected=0, total=0}}, mergeChunks=Document{{failed=0, rejected=0, total=0}}, ping=Document{{failed=0, rejected=0, total=1}}, planCacheClear=Document{{failed=0, rejected=0, total=0}}, planCacheClearFilters=Document{{failed=0, rejected=0, total=0}}, planCacheListFilters=Document{{failed=0, rejected=0, total=0}}, planCacheSetFilter=Document{{failed=0, rejected=0, total=0}}, prepareTransaction=Document{{failed=0, rejected=0, total=0}}, profile=Document{{failed=0, rejected=0, total=0}}, reIndex=Document{{failed=0, rejected=0, total=0}}, recipientForgetMigration=Document{{failed=0, rejected=0, total=0}}, recipientSyncData=Document{{failed=0, rejected=0, total=0}}, recipientVoteImportedFiles=Document{{failed=0, rejected=0, total=0}}, refreshSessions=Document{{failed=0, rejected=0, total=0}}, removeQuerySettings=Document{{failed=0, rejected=0, total=0}}, renameCollection=Document{{failed=0, rejected=0, total=0}}, replSetAbortPrimaryCatchUp=Document{{failed=0, rejected=0, total=0}}, replSetFreeze=Document{{failed=0, rejected=0, total=0}}, replSetGetConfig=Document{{failed=0, rejected=0, total=0}}, replSetGetRBID=Document{{failed=0, rejected=0, total=0}}, replSetGetStatus=Document{{failed=0, rejected=0, total=0}}, replSetHeartbeat=Document{{failed=0, rejected=0, total=0}}, replSetInitiate=Document{{failed=0, rejected=0, total=0}}, replSetMaintenance=Document{{failed=0, rejected=0, total=0}}, replSetReconfig=Document{{failed=0, rejected=0, total=0}}, replSetRequestVotes=Document{{failed=0, rejected=0, total=0}}, replSetResizeOplog=Document{{failed=0, rejected=0, total=0}}, replSetStepDown=Document{{failed=0, rejected=0, total=0}}, replSetStepDownWithForce=Document{{failed=0, total=0}}, replSetStepUp=Document{{failed=0, rejected=0, total=0}}, replSetSyncFrom=Document{{failed=0, rejected=0, total=0}}, replSetUpdatePosition=Document{{failed=0, rejected=0, total=0}}, revokePrivilegesFromRole=Document{{failed=0, rejected=0, total=0}}, revokeRolesFromRole=Document{{failed=0, rejected=0, total=0}}, revokeRolesFromUser=Document{{failed=0, rejected=0, total=0}}, rolesInfo=Document{{failed=0, rejected=0, total=0}}, rotateCertificates=Document{{failed=0, rejected=0, total=0}}, rotateFTDC=Document{{failed=0, rejected=0, total=0}}, saslContinue=Document{{failed=0, rejected=0, total=0}}, saslStart=Document{{failed=1, rejected=0, total=1}}, serverStatus=Document{{failed=0, rejected=0, total=12}}, setChangeStreamState=Document{{failed=0, rejected=0, total=0}}, setClusterParameter=Document{{failed=0, rejected=0, total=0}}, setDefaultRWConcern=Document{{failed=0, rejected=0, total=0}}, setFeatureCompatibilityVersion=Document{{failed=0, rejected=0, total=0}}, setIndexCommitQuorum=Document{{failed=0, rejected=0, total=0}}, setParameter=Document{{failed=0, rejected=0, total=0}}, setProfilingFilterGlobally=Document{{failed=0, rejected=0, total=0}}, setQuerySettings=Document{{failed=0, rejected=0, total=0}}, setUserWriteBlockMode=Document{{failed=0, rejected=0, total=0}}, shardingState=Document{{failed=0, rejected=0, total=0}}, shutdown=Document{{failed=0, rejected=0, total=0}}, splitChunk=Document{{failed=0, rejected=0, total=0}}, splitVector=Document{{failed=0, rejected=0, total=0}}, startRecordingTraffic=Document{{failed=0, rejected=0, total=0}}, startSession=Document{{failed=0, rejected=0, total=0}}, stopRecordingTraffic=Document{{failed=0, rejected=0, total=0}}, top=Document{{failed=0, rejected=0, total=1}}, transitionToShardedCluster=Document{{failed=0, rejected=0, total=0}}, update=Document{{arrayFilters=0, failed=0, pipeline=21, rejected=0, total=14}}, updateRole=Document{{failed=0, rejected=0, total=0}}, updateSearchIndex=Document{{failed=0, rejected=0, total=0}}, updateUser=Document{{failed=0, rejected=0, total=0}}, usersInfo=Document{{failed=0, rejected=0, total=0}}, validate=Document{{failed=0, rejected=0, total=0}}, validateDBMetadata=Document{{failed=0, rejected=0, total=0}}, voteAbortIndexBuild=Document{{failed=0, rejected=0, total=0}}, voteCommitIndexBuild=Document{{failed=0, rejected=0, total=0}}, waitForFailPoint=Document{{failed=0, rejected=0, total=0}}, whatsmyuri=Document{{failed=0, rejected=0, total=0}}}}, cursor=Document{{moreThanOneBatch=0, timedOut=0, totalOpened=0, lifespan=Document{{greaterThanOrEqual10Minutes=0, lessThan10Minutes=0, lessThan15Seconds=0, lessThan1Minute=0, lessThan1Second=0, lessThan30Seconds=0, lessThan5Seconds=0}}, open=Document{{multiTarget=0, noTimeout=0, pinned=0, queuedData=0, singleTarget=0, total=0}}}}, diskSpaceMonitor=Document{{passes=5391, tookAction=0}}, document=Document{{deleted=5, inserted=2, returned=5456, updated=2}}, dotsAndDollarsFields=Document{{inserts=0, updates=0}}, getLastError=Document{{wtime=Document{{num=0, totalMillis=0}}, wtimeouts=0, default=Document{{unsatisfiable=0, wtimeouts=0}}}}, mongos=Document{{cursor=Document{{moreThanOneBatch=0, totalOpened=0}}, shardRegistry=Document{{blockedOpsGauge=0}}}}, network=Document{{totalEgressConnectionEstablishmentTimeMillis=0, totalIngressTLSConnections=0, totalIngressTLSHandshakeTimeMillis=0, totalTimeForEgressConnectionAcquiredToWireMicros=0, totalTimeToFirstNonAuthCommandMillis=6807}}, operation=Document{{killedDueToClientDisconnect=14, killedDueToDefaultMaxTimeMSExpired=0, killedDueToMaxTimeMSExpired=0, numConnectionNetworkTimeouts=0, scanAndOrder=0, temporarilyUnavailableErrors=0, temporarilyUnavailableErrorsConvertedToWriteConflict=0, temporarilyUnavailableErrorsEscaped=0, totalTimeWaitingBeforeConnectionTimeoutMillis=0, transactionTooLargeForCacheErrors=0, transactionTooLargeForCacheErrorsConvertedToWriteConflict=0, unsendableCompletedResponses=0, writeConflicts=0}}, operatorCounters=Document{{expressions=Document{{$_internalFindAllValuesAtPath=0, $_internalFleBetween=0, $_internalFleEq=0, $_internalIndexKey=0, $_internalJsEmit=0, $_internalKeyStringValue=0, $_internalOwningShard=0, $abs=0, $acos=0, $acosh=0, $add=0, $allElementsTrue=0, $and=0, $anyElementTrue=0, $arrayElemAt=0, $arrayToObject=0, $asin=0, $asinh=0, $atan=0, $atan2=0, $atanh=0, $avg=0, $binarySize=0, $bitAnd=0, $bitNot=0, $bitOr=0, $bitXor=0, $bsonSize=0, $ceil=0, $cmp=0, $concat=0, $concatArrays=0, $cond=2, $const=0, $convert=0, $cos=0, $cosh=0, $dateAdd=0, $dateDiff=0, $dateFromParts=0, $dateFromString=0, $dateSubtract=0, $dateToParts=0, $dateToString=0, $dateTrunc=0, $dayOfMonth=0, $dayOfWeek=0, $dayOfYear=0, $degreesToRadians=0, $divide=2, $eq=0, $exp=0, $expr=0, $filter=0, $first=0, $firstN=0, $floor=0, $function=0, $getField=0, $gt=0, $gte=0, $hour=0, $ifNull=0, $in=0, $indexOfArray=0, $indexOfBytes=0, $indexOfCP=0, $isArray=0, $isNumber=0, $isoDayOfWeek=0, $isoWeek=0, $isoWeekYear=0, $last=0, $lastN=0, $let=0, $literal=0, $ln=0, $log=0, $log10=0, $lt=0, $lte=0, $ltrim=0, $map=0, $max=0, $maxN=0, $median=0, $mergeObjects=0, $meta=0, $millisecond=0, $min=0, $minN=0, $minute=0, $mod=0, $month=0, $multiply=2, $ne=2, $not=0, $objectToArray=2, $or=0, $percentile=0, $pow=0, $radiansToDegrees=0, $rand=0, $range=0, $reduce=0, $regexFind=0, $regexFindAll=0, $regexMatch=0, $replaceAll=0, $replaceOne=0, $reverseArray=0, $round=0, $rtrim=0, $second=0, $setDifference=0, $setEquals=0, $setField=0, $setIntersection=0, $setIsSubset=0, $setUnion=0, $sin=0, $sinh=0, $size=0, $slice=0, $sortArray=0, $split=0, $sqrt=0, $stdDevPop=0, $stdDevSamp=0, $strLenBytes=0, $strLenCP=0, $strcasecmp=0, $substr=0, $substrBytes=0, $substrCP=0, $subtract=0, $sum=0, $switch=0, $tan=0, $tanh=0, $toBool=0, $toDate=0, $toDecimal=0, $toDouble=16, $toHashedIndexKey=0, $toInt=0, $toLong=0, $toLower=0, $toObjectId=0, $toString=0, $toUUID=0, $toUpper=0, $trim=0, $trunc=0, $tsIncrement=0, $tsSecond=0, $type=0, $unsetField=0, $week=0, $year=0, $zip=0}}, groupAccumulators=Document{{$_internalConstructStats=0, $_internalJsReduce=0, $accumulator=0, $addToSet=0, $avg=0, $bottom=0, $bottomN=0, $count=0, $first=2, $firstN=0, $last=0, $lastN=0, $max=2, $maxN=0, $median=0, $mergeObjects=0, $min=0, $minN=0, $percentile=0, $push=0, $stdDevPop=0, $stdDevSamp=0, $sum=18, $top=0, $topN=0}}, match=Document{{$all=0, $alwaysFalse=0, $alwaysTrue=0, $and=0, $bitsAllClear=0, $bitsAllSet=0, $bitsAnyClear=0, $bitsAnySet=0, $comment=0, $elemMatch=0, $eq=5460, $exists=0, $expr=0, $geoIntersects=0, $geoWithin=0, $gt=0, $gte=0, $in=0, $jsonSchema=0, $lt=18, $lte=0, $mod=0, $ne=2, $near=0, $nearSphere=0, $nin=0, $nor=0, $not=0, $or=0, $regex=0, $sampleRate=0, $size=0, $text=0, $type=0, $where=0}}, windowAccumulators=Document{{$addToSet=0, $avg=0, $bottom=0, $bottomN=0, $count=0, $covariancePop=0, $covarianceSamp=0, $denseRank=0, $derivative=0, $documentNumber=0, $expMovingAvg=0, $first=0, $firstN=0, $integral=0, $last=0, $lastN=0, $linearFill=0, $locf=0, $max=0, $maxN=0, $median=0, $min=0, $minN=0, $percentile=0, $push=0, $rank=0, $shift=0, $stdDevPop=0, $stdDevSamp=0, $sum=0, $top=0, $topN=0}}}}, query=Document{{allowDiskUseFalse=0, deleteManyCount=0, deleteOneNonTargetedShardedCount=0, deleteOneTargetedShardedCount=0, deleteOneUnshardedCount=0, deleteOneWithoutShardKeyWithIdCount=0, deleteOneWithoutShardKeyWithIdRetryCount=0, externalRetryableWriteCount=0, findAndModifyNonTargetedShardedCount=0, findAndModifyTargetedShardedCount=0, findAndModifyUnshardedCount=0, internalRetryableWriteCount=0, nonRetryableDeleteOneWithoutShardKeyWithIdCount=0, nonRetryableUpdateOneWithoutShardKeyWithIdCount=0, recordIdDeduplicationSwitchedToRoaring=0, retryableInternalTransactionCount=0, updateDeleteManyDocumentsMaxCount=0, updateDeleteManyDocumentsTotalCount=0, updateDeleteManyDurationMaxMs=0, updateDeleteManyDurationTotalMs=0, updateManyCount=0, updateOneNonTargetedShardedCount=0, updateOneOpStyleBroadcastWithExactIDCount=0, updateOneTargetedShardedCount=0, updateOneUnshardedCount=0, updateOneWithoutShardKeyWithIdCount=0, updateOneWithoutShardKeyWithIdRetryCount=0, group=Document{{spilledBytes=0, spilledDataStorageSize=0, spilledRecords=0, spills=0}}, lookup=Document{{hashLookup=0, hashLookupSpillToDisk=0, hashLookupSpillToDiskBytes=0, indexedLoopJoin=0, nestedLoopJoin=0}}, multiPlanner=Document{{classicCount=0, classicMicros=0, classicWorks=0, sbeCount=0, sbeMicros=0, sbeNumReads=0, histograms=Document{{classicMicros=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=65536, count=0}}, Document{{lowerBound=262144, count=0}}, Document{{lowerBound=1048576, count=0}}, Document{{lowerBound=4194304, count=0}}, Document{{lowerBound=16777216, count=0}}, Document{{lowerBound=67108864, count=0}}, Document{{lowerBound=268435456, count=0}}, Document{{lowerBound=1073741824, count=0}}], classicNumPlans=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=2, count=0}}, Document{{lowerBound=4, count=0}}, Document{{lowerBound=8, count=0}}, Document{{lowerBound=16, count=0}}, Document{{lowerBound=32, count=0}}], classicWorks=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=128, count=0}}, Document{{lowerBound=256, count=0}}, Document{{lowerBound=512, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=2048, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=8192, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=32768, count=0}}], sbeMicros=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=65536, count=0}}, Document{{lowerBound=262144, count=0}}, Document{{lowerBound=1048576, count=0}}, Document{{lowerBound=4194304, count=0}}, Document{{lowerBound=16777216, count=0}}, Document{{lowerBound=67108864, count=0}}, Document{{lowerBound=268435456, count=0}}, Document{{lowerBound=1073741824, count=0}}], sbeNumPlans=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=2, count=0}}, Document{{lowerBound=4, count=0}}, Document{{lowerBound=8, count=0}}, Document{{lowerBound=16, count=0}}, Document{{lowerBound=32, count=0}}], sbeNumReads=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=128, count=0}}, Document{{lowerBound=256, count=0}}, Document{{lowerBound=512, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=2048, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=8192, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=32768, count=0}}]}}}}, planCache=Document{{totalQueryShapes=0, totalSizeEstimateBytes=0, classic=Document{{hits=0, misses=5455, skipped=32}}, sbe=Document{{hits=0, misses=0, skipped=0}}}}, queryFramework=Document{{aggregate=Document{{classicHybrid=0, classicOnly=9, cqf=0, sbeHybrid=2, sbeOnly=2}}, find=Document{{classic=5479, cqf=0, sbe=0}}}}, setWindowFields=Document{{spilledBytes=0, spilledRecords=0, spills=0}}, sort=Document{{spillToDisk=0, spillToDiskBytes=0, totalBytesSorted=0, totalKeysSorted=0}}}}, queryExecutor=Document{{scanned=12, scannedObjects=20722, collectionScans=Document{{nonTailable=5459, total=5459}}}}, queryStats=Document{{numEvicted=0, numHmacApplicationErrors=0, numQueryStatsStoreWriteErrors=0, numRateLimitedRequests=0, queryStatsStoreSizeEstimateBytes=0}}, repl=Document{{buffer=Document{{write=Document{{count=0, sizeBytes=0, maxSizeBytes=0}}, apply=Document{{count=0, sizeBytes=0, maxSizeBytes=0, maxCount=0}}}}, executor=Document{{pool=Document{{inProgressCount=0}}, queues=Document{{networkInProgress=0, sleepers=0}}, unsignaledEvents=0, shuttingDown=false, networkInterface=DEPRECATED: getDiagnosticString is deprecated in NetworkInterfaceTL}}, write=Document{{batchSize=0, batches=Document{{num=0, totalMillis=0}}}}, apply=Document{{attemptsToBecomeSecondary=0, batchSize=0, batches=Document{{num=0, totalMillis=0}}, ops=0}}, initialSync=Document{{completed=0, failedAttempts=0, failures=0}}, network=Document{{bytes=0, getmores=Document{{num=0, totalMillis=0, numEmptyBatches=0}}, notPrimaryLegacyUnacknowledgedWrites=0, notPrimaryUnacknowledgedWrites=0, oplogGetMoresProcessed=Document{{num=0, totalMillis=0}}, ops=0, readersCreated=0, replSetUpdatePosition=Document{{num=0}}}}, reconfig=Document{{numAutoReconfigsForRemovalOfNewlyAddedFields=0}}, stateTransition=Document{{lastStateTransition=, totalOperationsKilled=0, totalOperationsRunning=0}}, syncSource=Document{{numSelections=0, numSyncSourceChangesDueToSignificantlyCloserNode=0, numTimesChoseDifferent=0, numTimesChoseSame=0, numTimesCouldNotFind=0}}, waiters=Document{{opTime=0, replication=0}}}}, ttl=Document{{collSubpassesIncreasedPriority=0, deletedDocuments=14, passes=94, subPasses=94}}, wiredTiger=Document{{recordStoreCursorBoundRetries=0}}}}, ok=1.0}}
2025-03-17 15:45:02 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 15:45:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 15:45:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-17 15:45:26 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[unknown], outboundChannel[unknown], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-03-17 15:54:21 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-03-17 15:54:21 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-03-17 15:54:21 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-17 15:54:21 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2ef1fc8a]]
2025-03-17 15:54:21 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-17 15:54:21 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-17 15:54:21 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 0 subscriber(s).
2025-03-17 15:54:21 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-03-17 15:59:23 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 21.0.6 with PID 38016 (D:\WORKSPACE\ROTEIRO_NEW\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\ROTEIRO_NEW\roteiro)
2025-03-17 15:59:23 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17 15:59:23 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 15:59:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-03-17 15:59:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 153 ms. Found 2 MongoDB repository interfaces.
2025-03-17 15:59:25 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-17 15:59:25 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-17 15:59:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-17 15:59:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 15:59:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-17 15:59:26 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-17 15:59:26 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2034 ms
2025-03-17 15:59:26 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [D:\WORKSPACE\ROTEIRO_NEW\roteiro\target\classes\dev\luisoliveira\roteiro\config\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtTokenUtil': Injection of autowired dependencies failed
2025-03-17 15:59:26 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-17 15:59:26 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-03-17 15:59:26 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-17 15:59:26 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at dev.luisoliveira.roteiro.RoteiroApplication.main(RoteiroApplication.java:10)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:520)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [D:\WORKSPACE\ROTEIRO_NEW\roteiro\target\classes\dev\luisoliveira\roteiro\config\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtTokenUtil': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtTokenUtil': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 54 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'jwt.secret' in value "${jwt.secret}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81)
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:423)
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128)
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:255)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:226)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:201)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:971)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1574)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	... 65 common frames omitted
2025-03-17 16:13:07 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 7804 (D:\WORKSPACE\ROTEIRO_NEW\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\ROTEIRO_NEW\roteiro)
2025-03-17 16:13:07 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17 16:13:07 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 16:13:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-03-17 16:13:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 133 ms. Found 2 MongoDB repository interfaces.
2025-03-17 16:13:09 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-17 16:13:09 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-17 16:13:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-17 16:13:09 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 16:13:09 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-17 16:13:09 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-17 16:13:09 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2035 ms
2025-03-17 16:13:09 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [D:\WORKSPACE\ROTEIRO_NEW\roteiro\target\classes\dev\luisoliveira\roteiro\config\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtTokenUtil': Injection of autowired dependencies failed
2025-03-17 16:13:09 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-17 16:13:09 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-03-17 16:13:09 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-17 16:13:09 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at dev.luisoliveira.roteiro.RoteiroApplication.main(RoteiroApplication.java:10)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:520)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [D:\WORKSPACE\ROTEIRO_NEW\roteiro\target\classes\dev\luisoliveira\roteiro\config\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtTokenUtil': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtTokenUtil': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 54 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'jwt.secret' in value "${jwt.secret}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81)
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:423)
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128)
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:255)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:226)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:201)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:971)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1574)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	... 65 common frames omitted
2025-03-17 16:16:17 [main] INFO  d.l.roteiro.RoteiroApplication - Starting RoteiroApplication using Java 17.0.11 with PID 42028 (D:\WORKSPACE\ROTEIRO_NEW\roteiro\target\classes started by lfpo2 in D:\WORKSPACE\ROTEIRO_NEW\roteiro)
2025-03-17 16:16:17 [main] DEBUG d.l.roteiro.RoteiroApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17 16:16:17 [main] INFO  d.l.roteiro.RoteiroApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 16:16:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-03-17 16:16:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 147 ms. Found 2 MongoDB repository interfaces.
2025-03-17 16:16:19 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-17 16:16:19 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-17 16:16:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-03-17 16:16:19 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 16:16:19 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-17 16:16:19 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-03-17 16:16:19 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2304 ms
2025-03-17 16:16:20 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.2.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.11+7-LTS-207"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@5c59a0f7, com.mongodb.Jep395RecordCodecProvider@101330ad, com.mongodb.KotlinCodecProvider@625487a6]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=STANDARD, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-03-17 16:16:20 [cluster-ClusterId{value='67d87504b27f0c14462369f3', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=32134500, minRoundTripTimeNanos=0}
2025-03-17 16:16:20 [main] DEBUG d.l.r.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-03-17 16:16:20 [main] INFO  d.l.r.service.FileStorageService - Inicializando FileStorageService com MongoDB
2025-03-17 16:16:20 [main] INFO  d.l.r.service.SystemConfigService - SystemConfigService inicializado com configurações padrão
2025-03-17 16:16:20 [main] INFO  d.l.r.service.ElevenLabsService - ElevenLabsService inicializado
2025-03-17 16:16:21 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-17 16:16:21 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'roteiro.errorChannel' has 1 subscriber(s).
2025-03-17 16:16:21 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-03-17 16:16:21 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-03-17 16:16:21 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1c5d376c]]
2025-03-17 16:16:21 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-03-17 16:16:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-03-17 16:16:22 [main] INFO  d.l.roteiro.RoteiroApplication - Started RoteiroApplication in 5.254 seconds (process running for 5.776)
2025-03-17 16:16:22 [SimpleAsyncTaskExecutor-15] INFO  d.l.roteiro.config.MongoDBConfig - Conexão com MongoDB estabelecida com sucesso!
2025-03-17 16:16:22 [SimpleAsyncTaskExecutor-15] DEBUG d.l.roteiro.config.MongoDBConfig - Status do servidor MongoDB: Document{{host=183036c089e2, version=8.0.4, process=mongod, service=[shard], pid=1, uptime=7568.0, uptimeMillis=7567476, uptimeEstimate=7567, localTime=Mon Mar 17 16:16:22 BRT 2025, asserts=Document{{regular=0, warning=0, msg=0, user=64, tripwire=0, rollovers=0}}, batchedDeletes=Document{{batches=2, docs=14, stagedSizeBytes=3402, timeInBatchMillis=0, refetchesDueToYield=0}}, catalogStats=Document{{collections=3, capped=0, clustered=0, timeseries=0, views=0, internalCollections=3, internalViews=0, csfle=0, queryableEncryption=0}}, changeStreamPreImages=Document{{purgingJob=Document{{totalPass=0, docsDeleted=0, bytesDeleted=0, scannedCollections=0, scannedInternalCollections=0, maxStartWallTimeMillis=0, timeElapsedMillis=0}}}}, collectionCatalog=Document{{numScansDueToMissingMapping=0}}, connections=Document{{current=13, available=838847, totalCreated=61, rejected=0, active=3, threaded=13, exhaustIsMaster=0, exhaustHello=1, awaitingTopologyChanges=2, loadBalanced=0}}, electionMetrics=Document{{stepUpCmd=Document{{called=0, successful=0}}, priorityTakeover=Document{{called=0, successful=0}}, catchUpTakeover=Document{{called=0, successful=0}}, electionTimeout=Document{{called=0, successful=0}}, freezeTimeout=Document{{called=0, successful=0}}, numStepDownsCausedByHigherTerm=0, numCatchUps=0, numCatchUpsSucceeded=0, numCatchUpsAlreadyCaughtUp=0, numCatchUpsSkipped=0, numCatchUpsTimedOut=0, numCatchUpsFailedWithError=0, numCatchUpsFailedWithNewTerm=0, numCatchUpsFailedWithReplSetAbortPrimaryCatchUpCmd=0, averageCatchUpOps=0.0}}, extra_info=Document{{note=fields vary by platform, user_time_us=29896540, system_time_us=10061233, maximum_resident_set_kb=225664, input_blocks=24288, output_blocks=57728, page_reclaims=4695, page_faults=155, voluntary_context_switches=428091, involuntary_context_switches=80, threads=56}}, featureCompatibilityVersion=Document{{major=8, minor=0, transitioning=0}}, flowControl=Document{{enabled=true, targetRateLimit=1000000000, timeAcquiringMicros=0, locksPerKiloOp=0.0, sustainerRate=0, isLagged=false, isLaggedCount=0, isLaggedTimeMicros=0}}, globalLock=Document{{totalTime=7568147000, currentQueue=Document{{total=0, readers=0, writers=0}}, activeClients=Document{{total=0, readers=0, writers=0}}}}, indexBuilds=Document{{total=0, killedDueToInsufficientDiskSpace=0, failedDueToDataCorruption=0, phases=Document{{scanCollection=0, drainSideWritesTable=0, drainSideWritesTablePreCommit=0, waitForCommitQuorum=0, drainSideWritesTableOnCommit=0, processConstraintsViolatonTableOnCommit=0, commit=0}}}}, indexBulkBuilder=Document{{count=0, resumed=0, filesOpenedForExternalSort=0, filesClosedForExternalSort=0, spilledRanges=0, bytesSpilledUncompressed=0, bytesSpilled=0, numSorted=0, bytesSorted=0, memUsage=0}}, indexStats=Document{{count=5, features=Document{{2d=Document{{count=0, accesses=0}}, 2dsphere=Document{{count=0, accesses=0}}, 2dsphere_bucket=Document{{count=0, accesses=0}}, collation=Document{{count=0, accesses=0}}, columnstore=Document{{count=0, accesses=0}}, compound=Document{{count=2, accesses=0}}, hashed=Document{{count=0, accesses=0}}, id=Document{{count=3, accesses=10}}, normal=Document{{count=2, accesses=0}}, partial=Document{{count=0, accesses=0}}, prepareUnique=Document{{count=0, accesses=0}}, single=Document{{count=0, accesses=0}}, sparse=Document{{count=0, accesses=0}}, text=Document{{count=0, accesses=0}}, ttl=Document{{count=0, accesses=0}}, unique=Document{{count=1, accesses=0}}, wildcard=Document{{count=0, accesses=0}}}}}}, internalTransactions=Document{{started=0, retriedTransactions=0, retriedCommits=0, succeeded=0}}, locks=Document{{MultiDocumentTransactionsBarrier=Document{{acquireCount=Document{{W=5}}}}, ReplicationStateTransition=Document{{acquireCount=Document{{w=7414}}}}, Global=Document{{acquireCount=Document{{r=20253, w=7400, W=5}}}}, Database=Document{{acquireCount=Document{{r=9, w=183, W=1}}}}, Collection=Document{{acquireCount=Document{{r=9, w=180, W=2}}}}, Mutex=Document{{acquireCount=Document{{r=9}}}}, oplog=Document{{acquireCount=Document{{w=1}}}}}}, logicalSessionRecordCache=Document{{activeSessionsCount=1, sessionsCollectionJobCount=26, lastSessionsCollectionJobDurationMillis=0, lastSessionsCollectionJobTimestamp=Mon Mar 17 16:15:15 BRT 2025, lastSessionsCollectionJobEntriesRefreshed=0, lastSessionsCollectionJobEntriesEnded=0, lastSessionsCollectionJobCursorsClosed=0, transactionReaperJobCount=26, lastTransactionReaperJobDurationMillis=1, lastTransactionReaperJobTimestamp=Mon Mar 17 16:15:15 BRT 2025, lastTransactionReaperJobEntriesCleanedUp=0, sessionCatalogSize=0}}, network=Document{{bytesIn=1122235, bytesOut=10305889, physicalBytesIn=980347, physicalBytesOut=10305889, numSlowDNSOperations=0, numSlowSSLOperations=0, numRequests=7391, tcpFastOpen=Document{{kernelSetting=1, serverSupported=false, clientSupported=false, accepted=0}}, compression=Document{{snappy=Document{{compressor=Document{{bytesIn=0, bytesOut=0}}, decompressor=Document{{bytesIn=0, bytesOut=0}}}}, zstd=Document{{compressor=Document{{bytesIn=0, bytesOut=0}}, decompressor=Document{{bytesIn=0, bytesOut=0}}}}, zlib=Document{{compressor=Document{{bytesIn=0, bytesOut=0}}, decompressor=Document{{bytesIn=0, bytesOut=0}}}}}}, serviceExecutors=Document{{passthrough=Document{{threadsRunning=13, clientsInTotal=13, clientsRunning=13, clientsWaitingForData=0}}, inline=Document{{threadsRunning=0, clientsInTotal=0, clientsRunning=0, clientsWaitingForData=0}}}}, listenerProcessingTime=Document{{durationMicros=18477}}}}, opLatencies=Document{{commands=Document{{latency=193062, ops=1904, queryableEncryptionLatencyMicros=0}}, reads=Document{{latency=968794, ops=5475, queryableEncryptionLatencyMicros=0}}, writes=Document{{latency=25341, ops=9, queryableEncryptionLatencyMicros=0}}, transactions=Document{{latency=0, ops=0, queryableEncryptionLatencyMicros=0}}}}, opWorkingTime=Document{{commands=Document{{latency=108000, ops=1904, queryableEncryptionLatencyMicros=0}}, reads=Document{{latency=38000, ops=5475, queryableEncryptionLatencyMicros=0}}, writes=Document{{latency=21000, ops=9, queryableEncryptionLatencyMicros=0}}, transactions=Document{{latency=0, ops=0, queryableEncryptionLatencyMicros=0}}}}, opcounters=Document{{insert=2, query=5500, update=29, delete=12, getmore=0, command=1958}}, opcountersRepl=Document{{insert=0, query=0, update=0, delete=0, getmore=0, command=0}}, querySettings=Document{{count=0, size=0, rejectCount=0}}, queues=Document{{execution=Document{{write=Document{{out=0, available=12, totalTickets=12, exempt=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=7216, processing=0, finishedProcessing=7216, totalTimeProcessingMicros=7074, canceled=0, newAdmissions=0, totalTimeQueuedMicros=0}}, normalPriority=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=175, processing=0, finishedProcessing=175, totalTimeProcessingMicros=164216, canceled=0, newAdmissions=136, totalTimeQueuedMicros=0}}}}, read=Document{{out=0, available=12, totalTickets=12, exempt=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=14671, processing=0, finishedProcessing=14671, totalTimeProcessingMicros=1957852, canceled=0, newAdmissions=14667, totalTimeQueuedMicros=0}}, normalPriority=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=5576, processing=0, finishedProcessing=5576, totalTimeProcessingMicros=828403, canceled=0, newAdmissions=5546, totalTimeQueuedMicros=0}}}}, monitor=Document{{timesDecreased=0, timesIncreased=0, totalAmountDecreased=0, totalAmountIncreased=0, resizeDurationMicros=9}}}}, ingress=Document{{out=0, available=1000000, totalTickets=1000000, exempt=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=1935, processing=3, finishedProcessing=1932, totalTimeProcessingMicros=9229391330, canceled=0, newAdmissions=1891, totalTimeQueuedMicros=0}}, normalPriority=Document{{addedToQueue=0, removedFromQueue=0, queueLength=0, startedProcessing=5550, processing=0, finishedProcessing=5550, totalTimeProcessingMicros=1093596, canceled=0, newAdmissions=5550, totalTimeQueuedMicros=0}}}}}}, readConcernCounters=Document{{nonTransactionOps=Document{{none=5475, noneInfo=Document{{CWRC=Document{{local=0, available=0, majority=0}}, implicitDefault=Document{{local=5475, available=0}}}}, local=0, available=0, majority=0, snapshot=Document{{withClusterTime=0, withoutClusterTime=0}}, linearizable=0}}, transactionOps=Document{{none=0, noneInfo=Document{{CWRC=Document{{local=0, majority=0}}, implicitDefault=Document{{local=0}}}}, local=0, majority=0, snapshot=Document{{withClusterTime=0, withoutClusterTime=0}}}}}}, scramCache=Document{{SCRAM-SHA-1=Document{{count=0, hits=0, misses=0}}, SCRAM-SHA-256=Document{{count=0, hits=0, misses=0}}}}, security=Document{{authentication=Document{{saslSupportedMechsReceived=1, mechanisms=Document{{MONGODB-X509=Document{{speculativeAuthenticate=Document{{received=0, successful=0}}, clusterAuthenticate=Document{{received=0, successful=0}}, authenticate=Document{{received=0, successful=0}}}}, SCRAM-SHA-1=Document{{speculativeAuthenticate=Document{{received=0, successful=0}}, clusterAuthenticate=Document{{received=0, successful=0}}, authenticate=Document{{received=0, successful=0}}}}, SCRAM-SHA-256=Document{{speculativeAuthenticate=Document{{received=1, successful=0}}, clusterAuthenticate=Document{{received=0, successful=0}}, authenticate=Document{{received=2, successful=0}}}}}}, totalAuthenticationTimeMicros=9848}}}}, shardSplits=Document{{totalCommitted=0, totalCommittedDurationMillis=0, totalCommittedDurationWithoutCatchupMillis=0, totalAborted=0}}, storageEngine=Document{{name=wiredTiger, supportsCommittedReads=true, oldestRequiredTimestampForCrashRecovery=Timestamp{value=0, seconds=0, inc=0}, supportsPendingDrops=true, dropPendingIdents=0, supportsSnapshotReadConcern=true, readOnly=false, persistent=true, backupCursorOpen=false}}, tcmalloc=Document{{usingPerCPUCaches=false, maxPerCPUCacheSizeBytes=1572864, generic=Document{{bytes_in_use_by_app=114313248, current_allocated_bytes=114313248, heap_size=132120576, peak_memory_usage=7864808, physical_memory_used=147736854, virtual_memory_used=147736854}}, tcmalloc=Document{{central_cache_free=660344, cpu_free=0, current_total_thread_cache_bytes=3597192, desired_usage_limit_bytes=-1, hard_usage_limit_bytes=-1, local_bytes=3597256, max_total_thread_cache_bytes=33554432, metadata_bytes=6827622, page_algorithm=1, pageheap_free_bytes=13549568, pageheap_unmapped_bytes=0, required_bytes=134187286, sharded_transfer_cache_free=0, thread_cache_count=44, thread_cache_free=3596808, transfer_cache_free=0, release_rate=0, memory_used_to_memory_held_pct_at_peak=1757, total_bytes_held=33423254, estimated_size_class_overhead_bytes=1689395}}, tcmalloc_derived=Document{{unmapped_bytes=0, total_free_bytes=17807008}}}}, tenantMigrations=Document{{currentMigrationsDonating=0, currentMigrationsReceiving=0, totalMigrationDonationsCommitted=0, totalMigrationDonationsAborted=0}}, trafficRecording=Document{{running=false}}, transactions=Document{{retriedCommandsCount=0, retriedStatementsCount=0, transactionsCollectionWriteCount=0, currentActive=0, currentInactive=0, currentOpen=0, totalAborted=0, totalCommitted=0, totalStarted=0, totalPrepared=0, totalPreparedThenCommitted=0, totalPreparedThenAborted=0, currentPrepared=0}}, transportSecurity=Document{{1.0=0, 1.1=0, 1.2=0, 1.3=0, unknown=0}}, twoPhaseCommitCoordinator=Document{{totalCreated=0, totalStartedTwoPhaseCommit=0, totalAbortedTwoPhaseCommit=0, totalCommittedTwoPhaseCommit=0, currentInSteps=Document{{writingParticipantList=0, waitingForVotes=0, writingDecision=0, waitingForDecisionAcks=0, writingEndOfTransaction=0, deletingCoordinatorDoc=0}}}}, wiredTiger=Document{{uri=statistics:, autocommit=Document{{retries for readonly operations=0, retries for update operations=0}}, background-compact=Document{{background compact failed calls=0, background compact failed calls due to cache pressure=0, background compact interrupted=0, background compact moving average of bytes rewritten=0, background compact recovered bytes=0, background compact running=0, background compact skipped file as it is part of the exclude list=0, background compact skipped file as not meeting requirements for compaction=0, background compact sleeps due to cache pressure=0, background compact successful calls=0, background compact timeout=0, number of files tracked by background compaction=0}}, backup=Document{{backup cursor open=0, backup duplicate cursor open=0, backup granularity size=0, incremental backup enabled=0, opening the backup cursor in progress=0, total modified incremental blocks=0, total modified incremental blocks with compressed data=0, total modified incremental blocks without compressed data=0}}, block-cache=Document{{cached blocks updated=0, cached bytes updated=0, evicted blocks=0, file size causing bypass=0, lookups=0, number of blocks not evicted due to overhead=0, number of bypasses because no-write-allocate setting was on=0, number of bypasses due to overhead on put=0, number of bypasses on get=0, number of bypasses on put because file is too small=0, number of eviction passes=0, number of hits=0, number of misses=0, number of put bypasses on checkpoint I/O=0, removed blocks=0, time sleeping to remove block (usecs)=0, total blocks=0, total blocks inserted on read path=0, total blocks inserted on write path=0, total bytes=0, total bytes inserted on read path=0, total bytes inserted on write path=0}}, block-manager=Document{{blocks pre-loaded=0, blocks read=175, blocks written=823, bytes read=716800, bytes read via memory map API=0, bytes read via system call API=0, bytes written=6082560, bytes written by compaction=0, bytes written for checkpoint=6082560, bytes written via memory map API=0, bytes written via system call API=0, mapped blocks read=0, mapped bytes read=0, number of times the file was remapped because it changed size via fallocate or truncate=0, number of times the region was remapped via write=0}}, cache=Document{{application thread time evicting (usecs)=0, application threads page read from disk to cache count=0, application threads page read from disk to cache time (usecs)=0, application threads page write from cache to disk count=430, application threads page write from cache to disk time (usecs)=45615, bytes allocated for updates=109099, bytes belonging to page images in the cache=0, bytes belonging to the history store table in the cache=182, bytes currently in the cache=119842, bytes dirty in the cache cumulative=6390100, bytes not belonging to page images in the cache=119842, bytes read into cache=0, bytes written from cache=3207721, checkpoint blocked page eviction=0, checkpoint of history store file blocked non-history store page eviction=0, eviction calls to get a page=84, eviction calls to get a page found queue empty=80, eviction calls to get a page found queue empty after locking=0, eviction currently operating in aggressive mode=0, eviction empty score=0, eviction gave up due to detecting a disk value without a timestamp behind the last update on the chain=0, eviction gave up due to detecting a tombstone without a timestamp ahead of the selected on disk update=0, eviction gave up due to detecting a tombstone without a timestamp ahead of the selected on disk update after validating the update chain=0, eviction gave up due to detecting update chain entries without timestamps after the selected on disk update=0, eviction gave up due to needing to remove a record from the history store but checkpoint is running=0, eviction gave up due to no progress being made=0, eviction passes of a file=0, eviction server candidate queue empty when topping up=0, eviction server candidate queue not empty when topping up=0, eviction server evicting pages=0, eviction server skips dirty pages during a running checkpoint=0, eviction server skips internal pages as it has an active child.=0, eviction server skips metadata pages with history=0, eviction server skips pages that are written with transactions greater than the last running=0, eviction server skips pages that previously failed eviction and likely will again=0, eviction server skips pages that we do not want to evict=0, eviction server skips tree that we do not want to evict=0, eviction server skips trees because there are too many active walks=0, eviction server skips trees that are being checkpointed=0, eviction server skips trees that are configured to stick in cache=0, eviction server skips trees that disable eviction=0, eviction server skips trees that were not useful before=0, eviction server slept, because we did not make progress with eviction=736, eviction server unable to reach eviction goal=0, eviction server waiting for a leaf page=7, eviction state=32, eviction walk most recent sleeps for checkpoint handle gathering=0, eviction walk target pages histogram - 0-9=0, eviction walk target pages histogram - 10-31=0, eviction walk target pages histogram - 128 and higher=0, eviction walk target pages histogram - 32-63=0, eviction walk target pages histogram - 64-128=0, eviction walk target pages reduced due to history store cache pressure=0, eviction walk target strategy both clean and dirty pages=0, eviction walk target strategy only clean pages=0, eviction walk target strategy only dirty pages=0, eviction walks abandoned=0, eviction walks gave up because they restarted their walk twice=0, eviction walks gave up because they saw too many pages and found no candidates=0, eviction walks gave up because they saw too many pages and found too few candidates=0, eviction walks random search fails to locate a page, results in a null position=0, eviction walks reached end of tree=0, eviction walks restarted=0, eviction walks started from root of tree=0, eviction walks started from saved location in tree=0, eviction worker thread active=4, eviction worker thread created=0, eviction worker thread evicting pages=4, eviction worker thread removed=0, eviction worker thread stable number=0, files with active eviction walks=0, files with new eviction walks started=0, force re-tuning of eviction workers once in a while=0, forced eviction - do not retry count to evict pages selected to evict during reconciliation=0, forced eviction - history store pages failed to evict while session has history store cursor open=0, forced eviction - history store pages selected while session has history store cursor open=0, forced eviction - history store pages successfully evicted while session has history store cursor open=0, forced eviction - pages evicted that were clean count=0, forced eviction - pages evicted that were clean time (usecs)=0, forced eviction - pages evicted that were dirty count=2, forced eviction - pages evicted that were dirty time (usecs)=112, forced eviction - pages selected because of a large number of updates to a single item=0, forced eviction - pages selected because of too many deleted items count=0, forced eviction - pages selected count=2, forced eviction - pages selected unable to be evicted count=0, forced eviction - pages selected unable to be evicted time=0, hazard pointer blocked page eviction=0, hazard pointer check calls=6, hazard pointer check entries walked=0, hazard pointer maximum array length=0, history store table insert calls=0, history store table insert calls that returned restart=0, history store table max on-disk size=0, history store table on-disk size=4096, history store table reads=0, history store table reads missed=0, history store table reads requiring squashed modifies=0, history store table resolved updates without timestamps that lose their durable timestamp=0, history store table truncation by rollback to stable to remove an unstable update=0, history store table truncation by rollback to stable to remove an update=0, history store table truncation to remove all the keys of a btree=0, history store table truncation to remove an update=0, history store table truncation to remove range of updates due to an update without a timestamp on data page=0, history store table truncation to remove range of updates due to key being removed from the data page during reconciliation=0, history store table truncations that would have happened in non-dryrun mode=0, history store table truncations to remove an unstable update that would have happened in non-dryrun mode=0, history store table truncations to remove an update that would have happened in non-dryrun mode=0, history store table updates without timestamps fixed up by reinserting with the fixed timestamp=0, history store table writes requiring squashed modifies=0, in-memory page passed criteria to be split=0, in-memory page splits=0, internal page split blocked its eviction=0, internal pages evicted=0, internal pages queued for eviction=0, internal pages seen by eviction walk=0, internal pages seen by eviction walk that are already queued=0, internal pages split during eviction=0, leaf pages split during eviction=0, locate a random in-mem ref by examining all entries on the root page=0, maximum bytes configured=7829716992, maximum milliseconds spent at a single eviction=0, maximum page size seen at eviction=0, modified pages evicted=6, modified pages evicted by application threads=0, multi-block reconciliation blocked whilst checkpoint is running=0, operations timed out waiting for space in cache=0, overflow keys on a multiblock row-store page blocked its eviction=0, overflow pages read into cache=0, page split during eviction deepened the tree=0, page written requiring history store records=0, pages considered for eviction that were brought in by pre-fetch=0, pages currently held in the cache=35, pages evicted by application threads=0, pages evicted in parallel with checkpoint=0, pages queued for eviction=0, pages queued for eviction post lru sorting=0, pages queued for urgent eviction=4, pages queued for urgent eviction during walk=0, pages queued for urgent eviction from history store due to high dirty content=0, pages read into cache=0, pages read into cache after truncate=0, pages read into cache after truncate in prepare state=0, pages read into cache by checkpoint=0, pages removed from the ordinary queue to be queued for urgent eviction=0, pages requested from the cache=9268, pages requested from the cache due to pre-fetch=0, pages seen by eviction walk=0, pages seen by eviction walk that are already queued=0, pages selected for eviction unable to be evicted=0, pages selected for eviction unable to be evicted because of active children on an internal page=0, pages selected for eviction unable to be evicted because of failure in reconciliation=0, pages selected for eviction unable to be evicted because of race between checkpoint and updates without timestamps=0, pages walked for eviction=0, pages written from cache=430, pages written requiring in-memory restoration=0, percentage overhead=8, recent modification of a page blocked its eviction=0, reverse splits performed=0, reverse splits skipped because of VLCS namespace gap restrictions=0, the number of times full update inserted to history store=0, the number of times reverse modify inserted to history store=0, total milliseconds spent inside reentrant history store evictions in a reconciliation=0, tracked bytes belonging to internal pages in the cache=9222, tracked bytes belonging to leaf pages in the cache=110620, tracked dirty bytes in the cache=0, tracked dirty pages in the cache=0, uncommitted truncate blocked page eviction=0, unmodified pages evicted=0}}, capacity=Document{{background fsync file handles considered=0, background fsync file handles synced=0, background fsync time (msecs)=0, bytes read=716800, bytes written for checkpoint=3188418, bytes written for chunk cache=0, bytes written for eviction=0, bytes written for log=182016, bytes written total=3370434, threshold to call fsync=0, time waiting due to total capacity (usecs)=0, time waiting during checkpoint (usecs)=0, time waiting during eviction (usecs)=0, time waiting during logging (usecs)=0, time waiting during read (usecs)=0, time waiting for chunk cache IO bandwidth (usecs)=0}}, checkpoint=Document{{checkpoint cleanup successful calls=24, checkpoint has acquired a snapshot for its transaction=0, checkpoints skipped because database was clean=0, fsync calls after allocating the transaction ID=116, fsync duration after allocating the transaction ID (usecs)=825, generation=117, max time (msecs)=815, min time (msecs)=10, most recent duration for checkpoint dropping all handles (usecs)=19429, most recent duration for gathering all handles (usecs)=77, most recent duration for gathering applied handles (usecs)=0, most recent duration for gathering skipped handles (usecs)=56, most recent duration for handles metadata checked (usecs)=1256, most recent duration for locking the handles (usecs)=4600, most recent handles applied=0, most recent handles checkpoint dropped=295, most recent handles metadata checked=1536, most recent handles metadata locked=1536, most recent handles skipped=18, most recent handles walked=37, most recent time (msecs)=13, number of checkpoints started by api=116, number of checkpoints started by compaction=0, number of files synced=438, number of handles visited after writes complete=90, number of history store pages caused to be reconciled=167, number of internal pages visited=203, number of leaf pages visited=196, number of pages caused to be reconciled=399, pages added for eviction during checkpoint cleanup=9, pages removed during checkpoint cleanup=7, pages skipped during checkpoint cleanup tree walk=0, pages visited during checkpoint cleanup=306, prepare currently running=0, prepare max time (msecs)=1, prepare min time (msecs)=0, prepare most recent time (msecs)=0, prepare total time (msecs)=1, progress state=0, scrub dirty target=0, scrub max time (msecs)=5, scrub min time (msecs)=0, scrub most recent time (msecs)=0, scrub total time (msecs)=6, stop timing stress active=0, time spent on per-tree checkpoint work (usecs)=0, total failed number of checkpoints=0, total succeed number of checkpoints=116, total time (msecs)=4523, transaction checkpoints due to obsolete pages=0, wait cycles while cache dirty level is decreasing=0}}, chunk-cache=Document{{aggregate number of spanned chunks on read=0, chunks evicted=0, could not allocate due to exceeding bitmap capacity=0, could not allocate due to exceeding capacity=0, lookups=0, number of chunks loaded from flushed tables in chunk cache=0, number of metadata entries inserted=0, number of metadata entries removed=0, number of metadata inserts/deletes dropped by the worker thread=0, number of metadata inserts/deletes pushed to the worker thread=0, number of metadata inserts/deletes read by the worker thread=0, number of misses=0, number of times a read from storage failed=0, retried accessing a chunk while I/O was in progress=0, retries from a chunk cache checksum mismatch=0, timed out due to too many retries=0, total bytes read from persistent content=0, total bytes used by the cache=0, total bytes used by the cache for pinned chunks=0, total chunks held by the chunk cache=0, total number of chunks inserted on startup from persisted metadata.=0, total pinned chunks held by the chunk cache=0}}, connection=Document{{auto adjusting condition resets=369, auto adjusting condition wait calls=42859, auto adjusting condition wait raced to update timeout and skipped updating=0, detected system time went backwards=0, files currently open=22, hash bucket array size for data handles=512, hash bucket array size general=512, memory allocations=257563, memory frees=255745, memory re-allocations=811, number of sessions without a sweep for 5+ minutes=36, number of sessions without a sweep for 60+ minutes=0, pthread mutex condition wait calls=172509, pthread mutex shared lock read-lock calls=128911, pthread mutex shared lock write-lock calls=6250, total fsync I/Os=891, total read I/Os=316, total write I/Os=1273}}, cursor=Document{{Total number of deleted pages skipped during tree walk=0, Total number of entries skipped by cursor next calls=140, Total number of entries skipped by cursor prev calls=0, Total number of entries skipped to position the history store cursor=0, Total number of in-memory deleted pages skipped during tree walk=0, Total number of on-disk deleted pages skipped during tree walk=0, Total number of times a search near has exited due to prefix config=0, Total number of times cursor fails to temporarily release pinned page to encourage eviction of hot or large page=0, Total number of times cursor temporarily releases pinned page to encourage eviction of hot or large page=0, bulk cursor count=0, cached cursor count=31, cursor bound calls that return an error=0, cursor bounds cleared from reset=173, cursor bounds comparisons performed=389, cursor bounds next called on an unpositioned cursor=174, cursor bounds next early exit=64, cursor bounds prev called on an unpositioned cursor=0, cursor bounds prev early exit=0, cursor bounds search early exit=0, cursor bounds search near call repositioned cursor=0, cursor bulk loaded cursor insert calls=0, cursor cache calls that return an error=0, cursor close calls that result in cache=63073, cursor close calls that return an error=0, cursor compare calls that return an error=0, cursor create calls=213, cursor equals calls that return an error=0, cursor get key calls that return an error=0, cursor get value calls that return an error=0, cursor insert calls=513, cursor insert calls that return an error=0, cursor insert check calls that return an error=0, cursor insert key and value bytes=206648, cursor largest key calls that return an error=0, cursor modify calls=0, cursor modify calls that return an error=0, cursor modify key and value bytes affected=0, cursor modify value bytes modified=0, cursor next calls=26753, cursor next calls that return an error=0, cursor next calls that skip due to a globally visible history store tombstone=0, cursor next calls that skip greater than 1 and fewer than 100 entries=20, cursor next calls that skip greater than or equal to 100 entries=0, cursor next random calls that return an error=0, cursor operation restarted=0, cursor prev calls=10, cursor prev calls that return an error=0, cursor prev calls that skip due to a globally visible history store tombstone=0, cursor prev calls that skip greater than or equal to 100 entries=0, cursor prev calls that skip less than 100 entries=0, cursor reconfigure calls that return an error=0, cursor remove calls=65, cursor remove calls that return an error=0, cursor remove key bytes removed=1686, cursor reopen calls that return an error=0, cursor reserve calls=0, cursor reserve calls that return an error=0, cursor reset calls=72195, cursor reset calls that return an error=0, cursor search calls=953, cursor search calls that return an error=0, cursor search history store calls=0, cursor search near calls=332, cursor search near calls that return an error=0, cursor sweep buckets=92178, cursor sweep cursors closed=0, cursor sweep cursors examined=1366, cursor sweeps=8926, cursor truncate calls=0, cursor truncates performed on individual keys=0, cursor update calls=0, cursor update calls that return an error=0, cursor update key and value bytes=0, cursor update value size change=0, cursors reused from cache=63042, open cursor count=8}}, data-handle=Document{{connection data handle size=496, connection data handles currently active=37, connection sweep candidate became referenced=0, connection sweep dhandles closed=0, connection sweep dhandles removed from hash list=73, connection sweep time-of-death sets=343, connection sweeps=698, connection sweeps skipped due to checkpoint gathering handles=0, session dhandles swept=34, session sweep attempts=2300}}, lock=Document{{checkpoint lock acquisitions=116, checkpoint lock application thread wait time (usecs)=0, checkpoint lock internal thread wait time (usecs)=0, dhandle lock application thread time waiting (usecs)=0, dhandle lock internal thread time waiting (usecs)=0, dhandle read lock acquisitions=28284, dhandle write lock acquisitions=185, metadata lock acquisitions=116, metadata lock application thread wait time (usecs)=0, metadata lock internal thread wait time (usecs)=0, schema lock acquisitions=136, schema lock application thread wait time (usecs)=0, schema lock internal thread wait time (usecs)=0, table lock application thread time waiting for the table lock (usecs)=0, table lock internal thread time waiting for the table lock (usecs)=0, table read lock acquisitions=0, table write lock acquisitions=18, txn global lock application thread time waiting (usecs)=0, txn global lock internal thread time waiting (usecs)=0, txn global read lock acquisitions=397, txn global write lock acquisitions=306}}, log=Document{{busy returns attempting to switch slots=1, force log remove time sleeping (usecs)=0, log bytes of payload data=129901, log bytes written=181888, log files manually zero-filled=0, log flush operations=70061, log force write operations=77762, log force write operations skipped=77585, log records compressed=93, log records not compressed=117, log records too small to compress=545, log release advances write LSN=135, log scan operations=0, log scan records requiring two reads=0, log server thread advances write LSN=176, log server thread write LSN walk skipped=8833, log sync operations=311, log sync time duration (usecs)=2746238, log sync_dir operations=1, log sync_dir time duration (usecs)=2808, log write operations=755, logging bytes consolidated=181504, maximum log file size=104857600, number of pre-allocated log files to create=1, pre-allocated log files not ready and missed=1, pre-allocated log files prepared=1, pre-allocated log files used=0, records processed by log scan=0, slot close lost race=0, slot close unbuffered waits=0, slot closures=311, slot join atomic update races=0, slot join calls atomic updates raced=0, slot join calls did not yield=755, slot join calls found active slot closed=0, slot join calls slept=0, slot join calls yielded=0, slot join found active slot closed=0, slot joins yield time (usecs)=0, slot transitions unable to find free slot=0, slot unbuffered writes=0, total in-memory size of compressed records=189523, total log buffer size=33554432, total size of compressed records=76932, written slots coalesced=0, yields waiting for previous log file close=0}}, perf=Document{{file system read latency histogram (bucket 1) - 0-10ms=316, file system read latency histogram (bucket 2) - 10-49ms=0, file system read latency histogram (bucket 3) - 50-99ms=0, file system read latency histogram (bucket 4) - 100-249ms=0, file system read latency histogram (bucket 5) - 250-499ms=0, file system read latency histogram (bucket 6) - 500-999ms=0, file system read latency histogram (bucket 7) - 1000ms+=0, file system read latency histogram total (msecs)=16, file system write latency histogram (bucket 1) - 0-10ms=1273, file system write latency histogram (bucket 2) - 10-49ms=0, file system write latency histogram (bucket 3) - 50-99ms=0, file system write latency histogram (bucket 4) - 100-249ms=0, file system write latency histogram (bucket 5) - 250-499ms=0, file system write latency histogram (bucket 6) - 500-999ms=0, file system write latency histogram (bucket 7) - 1000ms+=0, file system write latency histogram total (msecs)=1, operation read latency histogram (bucket 1) - 0-100us=1139, operation read latency histogram (bucket 2) - 100-249us=1, operation read latency histogram (bucket 3) - 250-499us=0, operation read latency histogram (bucket 4) - 500-999us=0, operation read latency histogram (bucket 5) - 1000-9999us=0, operation read latency histogram (bucket 6) - 10000us+=0, operation read latency histogram total (usecs)=4499, operation write latency histogram (bucket 1) - 0-100us=577, operation write latency histogram (bucket 2) - 100-249us=1, operation write latency histogram (bucket 3) - 250-499us=0, operation write latency histogram (bucket 4) - 500-999us=0, operation write latency histogram (bucket 5) - 1000-9999us=0, operation write latency histogram (bucket 6) - 10000us+=0, operation write latency histogram total (usecs)=2799}}, prefetch=Document{{could not perform pre-fetch on internal page=0, could not perform pre-fetch on ref without the pre-fetch flag set=0, number of times pre-fetch failed to start=0, pre-fetch not repeating for recently pre-fetched ref=0, pre-fetch not triggered after single disk read=0, pre-fetch not triggered as there is no valid dhandle=0, pre-fetch not triggered by page read=5960, pre-fetch not triggered due to disk read count=0, pre-fetch not triggered due to internal session=0, pre-fetch not triggered due to special btree handle=0, pre-fetch page not on disk when reading=0, pre-fetch pages queued=0, pre-fetch pages read in background=0, pre-fetch skipped reading in a page due to harmless error=0, pre-fetch triggered by page read=0}}, reconciliation=Document{{VLCS pages explicitly reconciled as empty=0, approximate byte size of timestamps in pages written=0, approximate byte size of transaction IDs in pages written=2408, fast-path pages deleted=0, leaf-page overflow keys=0, maximum milliseconds spent in a reconciliation call=0, maximum milliseconds spent in building a disk image in a reconciliation=0, maximum milliseconds spent in moving updates to the history store in a reconciliation=0, overflow values written=0, page reconciliation calls=399, page reconciliation calls for eviction=0, page reconciliation calls that resulted in values with prepared transaction metadata=0, page reconciliation calls that resulted in values with timestamps=0, page reconciliation calls that resulted in values with transaction ids=109, pages deleted=19, pages written including an aggregated newest start durable timestamp =0, pages written including an aggregated newest stop durable timestamp =0, pages written including an aggregated newest stop timestamp =0, pages written including an aggregated newest stop transaction ID=0, pages written including an aggregated newest transaction ID =0, pages written including an aggregated oldest start timestamp =0, pages written including an aggregated prepare=0, pages written including at least one prepare state=0, pages written including at least one start durable timestamp=0, pages written including at least one start timestamp=0, pages written including at least one start transaction ID=109, pages written including at least one stop durable timestamp=0, pages written including at least one stop timestamp=0, pages written including at least one stop transaction ID=0, records written including a prepare state=0, records written including a start durable timestamp=0, records written including a start timestamp=0, records written including a start transaction ID=301, records written including a stop durable timestamp=0, records written including a stop timestamp=0, records written including a stop transaction ID=0, split bytes currently awaiting free=0, split objects currently awaiting free=0}}, session=Document{{attempts to remove a local object and the object is in use=0, flush_tier failed calls=0, flush_tier operation calls=0, flush_tier tables skipped due to no checkpoint=0, flush_tier tables switched=0, local objects removed=0, open session count=24, session query timestamp calls=0, table alter failed calls=0, table alter successful calls=0, table alter triggering checkpoint calls=0, table alter unchanged and skipped=0, table compact conflicted with checkpoint=0, table compact dhandle successful calls=0, table compact failed calls=0, table compact failed calls due to cache pressure=0, table compact passes=0, table compact running=0, table compact skipped as process would not reduce file size=0, table compact successful calls=0, table compact timeout=0, table create failed calls=0, table create successful calls=17, table create with import failed calls=0, table create with import successful calls=0, table drop failed calls=0, table drop successful calls=0, table rename failed calls=0, table rename successful calls=0, table salvage failed calls=0, table salvage successful calls=0, table truncate failed calls=0, table truncate successful calls=0, table verify failed calls=0, table verify successful calls=0, tiered operations dequeued and processed=0, tiered operations removed without processing=0, tiered operations scheduled=0, tiered storage local retention time (secs)=0}}, thread-state=Document{{active filesystem fsync calls=0, active filesystem read calls=0, active filesystem write calls=0}}, thread-yield=Document{{application thread operations waiting for cache=0, application thread snapshot refreshed for eviction=0, application thread time waiting for cache (usecs)=0, connection close blocked waiting for transaction state stabilization=0, connection close yielded for lsm manager shutdown=0, data handle lock yielded=0, get reference for page index and slot time sleeping (usecs)=0, page access yielded due to prepare state change=0, page acquire busy blocked=0, page acquire eviction blocked=0, page acquire locked blocked=0, page acquire read blocked=0, page acquire time sleeping (usecs)=0, page delete rollback time sleeping for state change (usecs)=0, page reconciliation yielded due to child modification=0}}, transaction=Document{{Number of prepared updates=0, Number of prepared updates committed=0, Number of prepared updates repeated on the same key=0, Number of prepared updates rolled back=0, a reader raced with a prepared transaction commit and skipped an update or updates=0, number of times overflow removed value is read=0, oldest pinned transaction ID rolled back for eviction=0, prepared transactions=0, prepared transactions committed=0, prepared transactions currently active=0, prepared transactions rolled back=0, query timestamp calls=7218, race to read prepared update retry=0, rollback to stable calls=0, rollback to stable history store keys that would have been swept in non-dryrun mode=0, rollback to stable history store records with stop timestamps older than newer records=0, rollback to stable inconsistent checkpoint=0, rollback to stable keys removed=0, rollback to stable keys restored=0, rollback to stable keys that would have been removed in non-dryrun mode=0, rollback to stable keys that would have been restored in non-dryrun mode=0, rollback to stable pages visited=0, rollback to stable restored tombstones from history store=0, rollback to stable restored updates from history store=0, rollback to stable skipping delete rle=0, rollback to stable skipping stable rle=0, rollback to stable sweeping history store keys=0, rollback to stable tombstones from history store that would have been restored in non-dryrun mode=0, rollback to stable tree walk skipping pages=0, rollback to stable updates aborted=0, rollback to stable updates from history store that would have been restored in non-dryrun mode=0, rollback to stable updates removed from history store=0, rollback to stable updates that would have been aborted in non-dryrun mode=0, rollback to stable updates that would have been removed from history store in non-dryrun mode=0, sessions scanned in each walk of concurrent sessions=219066, set timestamp calls=0, set timestamp durable calls=0, set timestamp durable updates=0, set timestamp force calls=0, set timestamp global oldest timestamp set to be more recent than the global stable timestamp=0, set timestamp oldest calls=0, set timestamp oldest updates=0, set timestamp stable calls=0, set timestamp stable updates=0, transaction begins=5784, transaction checkpoint history store file duration (usecs)=4, transaction range of IDs currently pinned=0, transaction range of IDs currently pinned by a checkpoint=0, transaction range of timestamps currently pinned=0, transaction range of timestamps pinned by a checkpoint=0, transaction range of timestamps pinned by the oldest active read timestamp=0, transaction range of timestamps pinned by the oldest timestamp=0, transaction read timestamp of the oldest active reader=0, transaction rollback to stable currently running=0, transaction walk of concurrent sessions=8140, transactions committed=67, transactions rolled back=5717, update conflicts=0}}, snapshot-window-settings=Document{{total number of SnapshotTooOld errors=0, minimum target snapshot window size in seconds=300, current available snapshot window size in seconds=0, latest majority snapshot timestamp available=Jan  1 00:00:00:0, oldest majority snapshot timestamp available=Jan  1 00:00:00:0, pinned timestamp requests=0, min pinned timestamp=Timestamp{value=-1, seconds=-1, inc=-1}}}, oplog=Document{{visibility timestamp=Timestamp{value=0, seconds=0, inc=0}}}}}, mem=Document{{bits=64, resident=220, virtual=3635, supported=true, secureAllocByteCount=0, secureAllocBytesInPages=0}}, metrics=Document{{apiVersions=Document{{MongoDB Compass=[default], =[default]}}, abortExpiredTransactions=Document{{passes=252}}, aggStageCounters=Document{{$_addReshardingResumeId=0, $_analyzeShardKeyReadWriteDistribution=0, $_internalAllCollectionStats=0, $_internalApplyOplogUpdate=0, $_internalBoundedSort=0, $_internalChangeStreamAddPostImage=0, $_internalChangeStreamAddPreImage=0, $_internalChangeStreamCheckInvalidate=0, $_internalChangeStreamCheckResumability=0, $_internalChangeStreamCheckTopologyChange=0, $_internalChangeStreamHandleTopologyChange=0, $_internalChangeStreamOplogMatch=0, $_internalChangeStreamTransform=0, $_internalChangeStreamUnwindTransaction=0, $_internalComputeGeoNearDistance=0, $_internalConvertBucketIndexStats=0, $_internalDensify=0, $_internalFindAndModifyImageLookup=0, $_internalInhibitOptimization=0, $_internalProjection=0, $_internalReplaceRoot=0, $_internalReshardingIterateTransaction=0, $_internalReshardingOwnershipMatch=0, $_internalSearchIdLookup=0, $_internalSearchMongotRemote=0, $_internalSetWindowFields=0, $_internalShardServerInfo=0, $_internalShredDocuments=0, $_internalSplitPipeline=0, $_internalStreamingGroup=0, $_internalUnpackBucket=0, $_unpackBucket=0, $addFields=2, $bucket=0, $bucketAuto=0, $changeStream=0, $changeStreamSplitLargeEvent=0, $collStats=4, $count=2, $currentOp=1, $densify=0, $documents=0, $facet=0, $fill=0, $geoNear=0, $graphLookup=0, $group=6, $indexStats=2, $limit=2, $listCachedAndActiveUsers=0, $listCatalog=0, $listLocalSessions=0, $listSampledQueries=0, $listSearchIndexes=0, $listSessions=0, $lookup=0, $match=4, $merge=0, $mergeCursors=0, $operationMetrics=0, $out=0, $planCacheStats=0, $project=4, $querySettings=0, $queryStats=0, $queue=0, $redact=0, $replaceRoot=0, $replaceWith=0, $sample=0, $search=0, $searchBeta=0, $searchMeta=0, $set=22, $setVariableFromSubPipeline=0, $setWindowFields=0, $shardedDataDistribution=0, $skip=0, $sort=0, $sortByCount=0, $unionWith=0, $unset=0, $unwind=2, $vectorSearch=0}}, changeStreams=Document{{largeEventsFailed=0, largeEventsSplit=0, showExpandedEvents=0}}, commands=Document{{<UNKNOWN>=2, _addShard=Document{{failed=0, rejected=0, total=0}}, _configsvrAbortReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrAddShard=Document{{failed=0, rejected=0, total=0}}, _configsvrAddShardToZone=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerCollectionStatus=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerStart=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerStatus=Document{{failed=0, rejected=0, total=0}}, _configsvrBalancerStop=Document{{failed=0, rejected=0, total=0}}, _configsvrCheckClusterMetadataConsistency=Document{{failed=0, rejected=0, total=0}}, _configsvrCheckMetadataConsistency=Document{{failed=0, rejected=0, total=0}}, _configsvrCleanupReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrClearJumboFlag=Document{{failed=0, rejected=0, total=0}}, _configsvrCollMod=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitChunkMigration=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitChunkSplit=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitChunksMerge=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitIndex=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitMergeAllChunksOnShard=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitMovePrimary=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitRefineCollectionShardKey=Document{{failed=0, rejected=0, total=0}}, _configsvrCommitReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrConfigureCollectionBalancing=Document{{failed=0, rejected=0, total=0}}, _configsvrCreateDatabase=Document{{failed=0, rejected=0, total=0}}, _configsvrDropIndexCatalogEntry=Document{{failed=0, rejected=0, total=0}}, _configsvrEnsureChunkVersionIsGreaterThan=Document{{failed=0, rejected=0, total=0}}, _configsvrGetHistoricalPlacement=Document{{failed=0, rejected=0, total=0}}, _configsvrMoveRange=Document{{failed=0, rejected=0, total=0}}, _configsvrRefineCollectionShardKey=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveChunks=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveShard=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveShardFromZone=Document{{failed=0, rejected=0, total=0}}, _configsvrRemoveTags=Document{{failed=0, rejected=0, total=0}}, _configsvrRepairShardedCollectionChunksHistory=Document{{failed=0, rejected=0, total=0}}, _configsvrResetPlacementHistory=Document{{failed=0, rejected=0, total=0}}, _configsvrReshardCollection=Document{{failed=0, rejected=0, total=0}}, _configsvrRunRestore=Document{{failed=0, rejected=0, total=0}}, _configsvrSetAllowMigrations=Document{{failed=0, rejected=0, total=0}}, _configsvrSetClusterParameter=Document{{failed=0, rejected=0, total=0}}, _configsvrSetUserWriteBlockMode=Document{{failed=0, rejected=0, total=0}}, _configsvrTransitionFromDedicatedConfigServer=Document{{failed=0, rejected=0, total=0}}, _configsvrTransitionToDedicatedConfigServer=Document{{failed=0, rejected=0, total=0}}, _configsvrUpdateZoneKeyRange=Document{{failed=0, rejected=0, total=0}}, _flushDatabaseCacheUpdates=Document{{failed=0, rejected=0, total=0}}, _flushDatabaseCacheUpdatesWithWriteConcern=Document{{failed=0, rejected=0, total=0}}, _flushReshardingStateChange=Document{{failed=0, rejected=0, total=0}}, _flushRoutingTableCacheUpdates=Document{{failed=0, rejected=0, total=0}}, _flushRoutingTableCacheUpdatesWithWriteConcern=Document{{failed=0, rejected=0, total=0}}, _getNextSessionMods=Document{{failed=0, rejected=0, total=0}}, _getUserCacheGeneration=Document{{failed=0, rejected=0, total=0}}, _isSelf=Document{{failed=0, rejected=0, total=0}}, _killOperations=Document{{failed=0, rejected=0, total=0}}, _mergeAuthzCollections=Document{{failed=0, rejected=0, total=0}}, _migrateClone=Document{{failed=0, rejected=0, total=0}}, _recvChunkAbort=Document{{failed=0, rejected=0, total=0}}, _recvChunkCommit=Document{{failed=0, rejected=0, total=0}}, _recvChunkReleaseCritSec=Document{{failed=0, rejected=0, total=0}}, _recvChunkStart=Document{{failed=0, rejected=0, total=0}}, _recvChunkStatus=Document{{failed=0, rejected=0, total=0}}, _refreshQueryAnalyzerConfiguration=Document{{failed=0, rejected=0, total=0}}, _shardsvrAbortReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrBeginMigrationBlockingOperation=Document{{failed=0, rejected=0, total=0}}, _shardsvrChangePrimary=Document{{failed=0, rejected=0, total=0}}, _shardsvrCheckMetadataConsistency=Document{{failed=0, rejected=0, total=0}}, _shardsvrCheckMetadataConsistencyParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCleanupReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrCleanupStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, _shardsvrCloneCatalogData=Document{{failed=0, rejected=0, total=0}}, _shardsvrCollMod=Document{{failed=0, rejected=0, total=0}}, _shardsvrCollModParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCommitIndexParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCommitReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrCompactStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, _shardsvrConvertToCapped=Document{{failed=0, rejected=0, total=0}}, _shardsvrConvertToCappedParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrCoordinateMultiUpdate=Document{{failed=0, rejected=0, total=0}}, _shardsvrCreateCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrCreateCollectionParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropCollectionIfUUIDNotMatchingWithWriteConcern=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropCollectionParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropDatabase=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropDatabaseParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropIndexCatalogEntryParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrDropIndexes=Document{{failed=0, rejected=0, total=0}}, _shardsvrEndMigrationBlockingOperation=Document{{failed=0, rejected=0, total=0}}, _shardsvrGetStatsForBalancing=Document{{failed=0, rejected=0, total=0}}, _shardsvrJoinDDLCoordinators=Document{{failed=0, rejected=0, total=0}}, _shardsvrJoinMigrations=Document{{failed=0, rejected=0, total=0}}, _shardsvrMergeAllChunksOnShard=Document{{failed=0, rejected=0, total=0}}, _shardsvrMovePrimary=Document{{failed=0, rejected=0, total=0}}, _shardsvrMovePrimaryEnterCriticalSection=Document{{failed=0, rejected=0, total=0}}, _shardsvrMovePrimaryExitCriticalSection=Document{{failed=0, rejected=0, total=0}}, _shardsvrMoveRange=Document{{failed=0, rejected=0, total=0}}, _shardsvrNotifyShardingEvent=Document{{failed=0, rejected=0, total=0}}, _shardsvrParticipantBlock=Document{{failed=0, rejected=0, total=0}}, _shardsvrRefineCollectionShardKey=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameCollectionParticipant=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameCollectionParticipantUnblock=Document{{failed=0, rejected=0, total=0}}, _shardsvrRenameIndexMetadata=Document{{failed=0, rejected=0, total=0}}, _shardsvrReshardCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrReshardingOperationTime=Document{{failed=0, rejected=0, total=0}}, _shardsvrSetAllowMigrations=Document{{failed=0, rejected=0, total=0}}, _shardsvrSetClusterParameter=Document{{failed=0, rejected=0, total=0}}, _shardsvrSetUserWriteBlockMode=Document{{failed=0, rejected=0, total=0}}, _shardsvrUntrackUnsplittableCollection=Document{{failed=0, rejected=0, total=0}}, _shardsvrValidateShardKeyCandidate=Document{{failed=0, rejected=0, total=0}}, _transferMods=Document{{failed=0, rejected=0, total=0}}, abortShardSplit=Document{{failed=0, rejected=0, total=0}}, abortTransaction=Document{{failed=0, rejected=0, total=0}}, aggregate=Document{{failed=1, rejected=0, total=14}}, analyze=Document{{failed=0, rejected=0, total=0}}, analyzeShardKey=Document{{failed=0, rejected=0, total=0}}, appendOplogNote=Document{{failed=0, rejected=0, total=0}}, applyOps=Document{{failed=0, rejected=0, total=0}}, authenticate=Document{{failed=0, rejected=0, total=0}}, autoCompact=Document{{failed=0, rejected=0, total=0}}, autoSplitVector=Document{{failed=0, rejected=0, total=0}}, buildInfo=Document{{failed=0, rejected=0, total=2}}, bulkWrite=Document{{arrayFilters=0, failed=0, pipeline=0, rejected=0, total=0}}, checkShardingIndex=Document{{failed=0, rejected=0, total=0}}, cleanupOrphaned=Document{{failed=0, rejected=0, total=0}}, cleanupStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, cloneCollectionAsCapped=Document{{failed=0, rejected=0, total=0}}, clusterAbortTransaction=Document{{failed=0, rejected=0, total=0}}, clusterAggregate=Document{{failed=0, rejected=0, total=0}}, clusterBulkWrite=Document{{failed=0, rejected=0, total=0}}, clusterCommitTransaction=Document{{failed=0, rejected=0, total=0}}, clusterCount=Document{{failed=0, rejected=0, total=0}}, clusterDelete=Document{{failed=0, rejected=0, total=0}}, clusterFind=Document{{failed=0, rejected=0, total=0}}, clusterGetMore=Document{{failed=0, rejected=0, total=0}}, clusterInsert=Document{{failed=0, rejected=0, total=0}}, clusterUpdate=Document{{arrayFilters=0, failed=0, pipeline=0, rejected=0, total=0}}, collMod=Document{{failed=0, rejected=0, total=0, validator=Document{{failed=0, jsonSchema=0, total=0}}}}, collStats=Document{{failed=0, rejected=0, total=0}}, commitShardSplit=Document{{failed=0, rejected=0, total=0}}, commitTransaction=Document{{failed=0, rejected=0, total=0}}, compact=Document{{failed=0, rejected=0, total=0}}, compactStructuredEncryptionData=Document{{failed=0, rejected=0, total=0}}, configureQueryAnalyzer=Document{{failed=0, rejected=0, total=0}}, connPoolStats=Document{{failed=0, rejected=0, total=0}}, connPoolSync=Document{{failed=0, rejected=0, total=0}}, connectionStatus=Document{{failed=0, rejected=0, total=2}}, convertToCapped=Document{{failed=0, rejected=0, total=0}}, coordinateCommitTransaction=Document{{failed=0, rejected=0, total=0}}, count=Document{{failed=0, rejected=0, total=0}}, create=Document{{failed=0, rejected=0, total=0, validator=Document{{failed=0, jsonSchema=0, total=0}}}}, createIndexes=Document{{failed=0, rejected=0, total=3}}, createRole=Document{{failed=0, rejected=0, total=0}}, createSearchIndexes=Document{{failed=0, rejected=0, total=0}}, createUser=Document{{failed=0, rejected=0, total=0}}, currentOp=Document{{failed=0, rejected=0, total=0}}, dataSize=Document{{failed=0, rejected=0, total=0}}, dbCheck=Document{{failed=0, rejected=0, total=0}}, dbHash=Document{{failed=0, rejected=0, total=0}}, dbStats=Document{{failed=0, rejected=0, total=4}}, delete=Document{{failed=0, rejected=0, total=10}}, distinct=Document{{failed=0, rejected=0, total=0}}, donorAbortMigration=Document{{failed=0, rejected=0, total=0}}, donorForgetMigration=Document{{failed=0, rejected=0, total=0}}, donorStartMigration=Document{{failed=0, rejected=0, total=0}}, drop=Document{{failed=0, rejected=0, total=0}}, dropAllRolesFromDatabase=Document{{failed=0, rejected=0, total=0}}, dropAllUsersFromDatabase=Document{{failed=0, rejected=0, total=0}}, dropConnections=Document{{failed=0, rejected=0, total=0}}, dropDatabase=Document{{failed=0, rejected=0, total=0}}, dropIndexes=Document{{failed=0, rejected=0, total=0}}, dropRole=Document{{failed=0, rejected=0, total=0}}, dropSearchIndex=Document{{failed=0, rejected=0, total=0}}, dropUser=Document{{failed=0, rejected=0, total=0}}, endSessions=Document{{failed=0, rejected=0, total=12}}, explain=Document{{failed=0, rejected=0, total=0}}, features=Document{{failed=0, rejected=0, total=0}}, filemd5=Document{{failed=0, rejected=0, total=0}}, find=Document{{failed=0, rejected=0, total=5486}}, findAndModify=Document{{arrayFilters=0, failed=0, pipeline=0, rejected=0, total=0}}, flushRouterConfig=Document{{failed=0, rejected=0, total=0}}, forgetShardSplit=Document{{failed=0, rejected=0, total=0}}, fsync=Document{{failed=0, rejected=0, total=0}}, fsyncUnlock=Document{{failed=0, rejected=0, total=0}}, getChangeStreamState=Document{{failed=0, rejected=0, total=0}}, getClusterParameter=Document{{failed=0, rejected=0, total=0}}, getCmdLineOpts=Document{{failed=0, rejected=0, total=0}}, getDatabaseVersion=Document{{failed=0, rejected=0, total=0}}, getDefaultRWConcern=Document{{failed=0, rejected=0, total=0}}, getDiagnosticData=Document{{failed=0, rejected=0, total=0}}, getLog=Document{{failed=0, rejected=0, total=0}}, getMore=Document{{failed=0, rejected=0, total=0}}, getParameter=Document{{failed=0, rejected=0, total=2}}, getQueryableEncryptionCountInfo=Document{{failed=0, rejected=0, total=0}}, getShardMap=Document{{failed=0, rejected=0, total=0}}, getShardVersion=Document{{failed=0, rejected=0, total=0}}, grantPrivilegesToRole=Document{{failed=0, rejected=0, total=0}}, grantRolesToRole=Document{{failed=0, rejected=0, total=0}}, grantRolesToUser=Document{{failed=0, rejected=0, total=0}}, hello=Document{{failed=15, rejected=0, total=1787}}, hostInfo=Document{{failed=0, rejected=0, total=2}}, insert=Document{{failed=0, rejected=0, total=2}}, internalRenameIfOptionsAndIndexesMatch=Document{{failed=0, rejected=0, total=0}}, invalidateUserCache=Document{{failed=0, rejected=0, total=0}}, isMaster=Document{{failed=0, rejected=0, total=61}}, killAllSessions=Document{{failed=0, rejected=0, total=0}}, killAllSessionsByPattern=Document{{failed=0, rejected=0, total=0}}, killCursors=Document{{failed=0, rejected=0, total=0}}, killOp=Document{{failed=0, rejected=0, total=0}}, killSessions=Document{{failed=0, rejected=0, total=0}}, listCollections=Document{{failed=0, rejected=0, total=9}}, listCommands=Document{{failed=0, rejected=0, total=0}}, listDatabases=Document{{failed=0, rejected=0, total=2}}, listDatabasesForAllTenants=Document{{failed=0, rejected=0, total=0}}, listIndexes=Document{{failed=4, rejected=0, total=56}}, listSearchIndexes=Document{{failed=0, rejected=0, total=0}}, lockInfo=Document{{failed=0, rejected=0, total=0}}, logRotate=Document{{failed=0, rejected=0, total=0}}, logout=Document{{failed=0, rejected=0, total=0}}, mapReduce=Document{{failed=0, rejected=0, total=0}}, mergeChunks=Document{{failed=0, rejected=0, total=0}}, ping=Document{{failed=0, rejected=0, total=1}}, planCacheClear=Document{{failed=0, rejected=0, total=0}}, planCacheClearFilters=Document{{failed=0, rejected=0, total=0}}, planCacheListFilters=Document{{failed=0, rejected=0, total=0}}, planCacheSetFilter=Document{{failed=0, rejected=0, total=0}}, prepareTransaction=Document{{failed=0, rejected=0, total=0}}, profile=Document{{failed=0, rejected=0, total=0}}, reIndex=Document{{failed=0, rejected=0, total=0}}, recipientForgetMigration=Document{{failed=0, rejected=0, total=0}}, recipientSyncData=Document{{failed=0, rejected=0, total=0}}, recipientVoteImportedFiles=Document{{failed=0, rejected=0, total=0}}, refreshSessions=Document{{failed=0, rejected=0, total=0}}, removeQuerySettings=Document{{failed=0, rejected=0, total=0}}, renameCollection=Document{{failed=0, rejected=0, total=0}}, replSetAbortPrimaryCatchUp=Document{{failed=0, rejected=0, total=0}}, replSetFreeze=Document{{failed=0, rejected=0, total=0}}, replSetGetConfig=Document{{failed=0, rejected=0, total=0}}, replSetGetRBID=Document{{failed=0, rejected=0, total=0}}, replSetGetStatus=Document{{failed=0, rejected=0, total=0}}, replSetHeartbeat=Document{{failed=0, rejected=0, total=0}}, replSetInitiate=Document{{failed=0, rejected=0, total=0}}, replSetMaintenance=Document{{failed=0, rejected=0, total=0}}, replSetReconfig=Document{{failed=0, rejected=0, total=0}}, replSetRequestVotes=Document{{failed=0, rejected=0, total=0}}, replSetResizeOplog=Document{{failed=0, rejected=0, total=0}}, replSetStepDown=Document{{failed=0, rejected=0, total=0}}, replSetStepDownWithForce=Document{{failed=0, total=0}}, replSetStepUp=Document{{failed=0, rejected=0, total=0}}, replSetSyncFrom=Document{{failed=0, rejected=0, total=0}}, replSetUpdatePosition=Document{{failed=0, rejected=0, total=0}}, revokePrivilegesFromRole=Document{{failed=0, rejected=0, total=0}}, revokeRolesFromRole=Document{{failed=0, rejected=0, total=0}}, revokeRolesFromUser=Document{{failed=0, rejected=0, total=0}}, rolesInfo=Document{{failed=0, rejected=0, total=0}}, rotateCertificates=Document{{failed=0, rejected=0, total=0}}, rotateFTDC=Document{{failed=0, rejected=0, total=0}}, saslContinue=Document{{failed=0, rejected=0, total=0}}, saslStart=Document{{failed=1, rejected=0, total=1}}, serverStatus=Document{{failed=0, rejected=0, total=13}}, setChangeStreamState=Document{{failed=0, rejected=0, total=0}}, setClusterParameter=Document{{failed=0, rejected=0, total=0}}, setDefaultRWConcern=Document{{failed=0, rejected=0, total=0}}, setFeatureCompatibilityVersion=Document{{failed=0, rejected=0, total=0}}, setIndexCommitQuorum=Document{{failed=0, rejected=0, total=0}}, setParameter=Document{{failed=0, rejected=0, total=0}}, setProfilingFilterGlobally=Document{{failed=0, rejected=0, total=0}}, setQuerySettings=Document{{failed=0, rejected=0, total=0}}, setUserWriteBlockMode=Document{{failed=0, rejected=0, total=0}}, shardingState=Document{{failed=0, rejected=0, total=0}}, shutdown=Document{{failed=0, rejected=0, total=0}}, splitChunk=Document{{failed=0, rejected=0, total=0}}, splitVector=Document{{failed=0, rejected=0, total=0}}, startRecordingTraffic=Document{{failed=0, rejected=0, total=0}}, startSession=Document{{failed=0, rejected=0, total=0}}, stopRecordingTraffic=Document{{failed=0, rejected=0, total=0}}, top=Document{{failed=0, rejected=0, total=1}}, transitionToShardedCluster=Document{{failed=0, rejected=0, total=0}}, update=Document{{arrayFilters=0, failed=0, pipeline=22, rejected=0, total=15}}, updateRole=Document{{failed=0, rejected=0, total=0}}, updateSearchIndex=Document{{failed=0, rejected=0, total=0}}, updateUser=Document{{failed=0, rejected=0, total=0}}, usersInfo=Document{{failed=0, rejected=0, total=0}}, validate=Document{{failed=0, rejected=0, total=0}}, validateDBMetadata=Document{{failed=0, rejected=0, total=0}}, voteAbortIndexBuild=Document{{failed=0, rejected=0, total=0}}, voteCommitIndexBuild=Document{{failed=0, rejected=0, total=0}}, waitForFailPoint=Document{{failed=0, rejected=0, total=0}}, whatsmyuri=Document{{failed=0, rejected=0, total=0}}}}, cursor=Document{{moreThanOneBatch=0, timedOut=0, totalOpened=0, lifespan=Document{{greaterThanOrEqual10Minutes=0, lessThan10Minutes=0, lessThan15Seconds=0, lessThan1Minute=0, lessThan1Second=0, lessThan30Seconds=0, lessThan5Seconds=0}}, open=Document{{multiTarget=0, noTimeout=0, pinned=0, queuedData=0, singleTarget=0, total=0}}}}, diskSpaceMonitor=Document{{passes=7218, tookAction=0}}, document=Document{{deleted=7, inserted=2, returned=5456, updated=2}}, dotsAndDollarsFields=Document{{inserts=0, updates=0}}, getLastError=Document{{wtime=Document{{num=0, totalMillis=0}}, wtimeouts=0, default=Document{{unsatisfiable=0, wtimeouts=0}}}}, mongos=Document{{cursor=Document{{moreThanOneBatch=0, totalOpened=0}}, shardRegistry=Document{{blockedOpsGauge=0}}}}, network=Document{{totalEgressConnectionEstablishmentTimeMillis=0, totalIngressTLSConnections=0, totalIngressTLSHandshakeTimeMillis=0, totalTimeForEgressConnectionAcquiredToWireMicros=0, totalTimeToFirstNonAuthCommandMillis=6820}}, operation=Document{{killedDueToClientDisconnect=15, killedDueToDefaultMaxTimeMSExpired=0, killedDueToMaxTimeMSExpired=0, numConnectionNetworkTimeouts=0, scanAndOrder=0, temporarilyUnavailableErrors=0, temporarilyUnavailableErrorsConvertedToWriteConflict=0, temporarilyUnavailableErrorsEscaped=0, totalTimeWaitingBeforeConnectionTimeoutMillis=0, transactionTooLargeForCacheErrors=0, transactionTooLargeForCacheErrorsConvertedToWriteConflict=0, unsendableCompletedResponses=0, writeConflicts=0}}, operatorCounters=Document{{expressions=Document{{$_internalFindAllValuesAtPath=0, $_internalFleBetween=0, $_internalFleEq=0, $_internalIndexKey=0, $_internalJsEmit=0, $_internalKeyStringValue=0, $_internalOwningShard=0, $abs=0, $acos=0, $acosh=0, $add=0, $allElementsTrue=0, $and=0, $anyElementTrue=0, $arrayElemAt=0, $arrayToObject=0, $asin=0, $asinh=0, $atan=0, $atan2=0, $atanh=0, $avg=0, $binarySize=0, $bitAnd=0, $bitNot=0, $bitOr=0, $bitXor=0, $bsonSize=0, $ceil=0, $cmp=0, $concat=0, $concatArrays=0, $cond=2, $const=0, $convert=0, $cos=0, $cosh=0, $dateAdd=0, $dateDiff=0, $dateFromParts=0, $dateFromString=0, $dateSubtract=0, $dateToParts=0, $dateToString=0, $dateTrunc=0, $dayOfMonth=0, $dayOfWeek=0, $dayOfYear=0, $degreesToRadians=0, $divide=2, $eq=0, $exp=0, $expr=0, $filter=0, $first=0, $firstN=0, $floor=0, $function=0, $getField=0, $gt=0, $gte=0, $hour=0, $ifNull=0, $in=0, $indexOfArray=0, $indexOfBytes=0, $indexOfCP=0, $isArray=0, $isNumber=0, $isoDayOfWeek=0, $isoWeek=0, $isoWeekYear=0, $last=0, $lastN=0, $let=0, $literal=0, $ln=0, $log=0, $log10=0, $lt=0, $lte=0, $ltrim=0, $map=0, $max=0, $maxN=0, $median=0, $mergeObjects=0, $meta=0, $millisecond=0, $min=0, $minN=0, $minute=0, $mod=0, $month=0, $multiply=2, $ne=2, $not=0, $objectToArray=2, $or=0, $percentile=0, $pow=0, $radiansToDegrees=0, $rand=0, $range=0, $reduce=0, $regexFind=0, $regexFindAll=0, $regexMatch=0, $replaceAll=0, $replaceOne=0, $reverseArray=0, $round=0, $rtrim=0, $second=0, $setDifference=0, $setEquals=0, $setField=0, $setIntersection=0, $setIsSubset=0, $setUnion=0, $sin=0, $sinh=0, $size=0, $slice=0, $sortArray=0, $split=0, $sqrt=0, $stdDevPop=0, $stdDevSamp=0, $strLenBytes=0, $strLenCP=0, $strcasecmp=0, $substr=0, $substrBytes=0, $substrCP=0, $subtract=0, $sum=0, $switch=0, $tan=0, $tanh=0, $toBool=0, $toDate=0, $toDecimal=0, $toDouble=16, $toHashedIndexKey=0, $toInt=0, $toLong=0, $toLower=0, $toObjectId=0, $toString=0, $toUUID=0, $toUpper=0, $trim=0, $trunc=0, $tsIncrement=0, $tsSecond=0, $type=0, $unsetField=0, $week=0, $year=0, $zip=0}}, groupAccumulators=Document{{$_internalConstructStats=0, $_internalJsReduce=0, $accumulator=0, $addToSet=0, $avg=0, $bottom=0, $bottomN=0, $count=0, $first=2, $firstN=0, $last=0, $lastN=0, $max=2, $maxN=0, $median=0, $mergeObjects=0, $min=0, $minN=0, $percentile=0, $push=0, $stdDevPop=0, $stdDevSamp=0, $sum=18, $top=0, $topN=0}}, match=Document{{$all=0, $alwaysFalse=0, $alwaysTrue=0, $and=0, $bitsAllClear=0, $bitsAllSet=0, $bitsAnyClear=0, $bitsAnySet=0, $comment=0, $elemMatch=0, $eq=5460, $exists=0, $expr=0, $geoIntersects=0, $geoWithin=0, $gt=0, $gte=0, $in=0, $jsonSchema=0, $lt=25, $lte=0, $mod=0, $ne=2, $near=0, $nearSphere=0, $nin=0, $nor=0, $not=0, $or=0, $regex=0, $sampleRate=0, $size=0, $text=0, $type=0, $where=0}}, windowAccumulators=Document{{$addToSet=0, $avg=0, $bottom=0, $bottomN=0, $count=0, $covariancePop=0, $covarianceSamp=0, $denseRank=0, $derivative=0, $documentNumber=0, $expMovingAvg=0, $first=0, $firstN=0, $integral=0, $last=0, $lastN=0, $linearFill=0, $locf=0, $max=0, $maxN=0, $median=0, $min=0, $minN=0, $percentile=0, $push=0, $rank=0, $shift=0, $stdDevPop=0, $stdDevSamp=0, $sum=0, $top=0, $topN=0}}}}, query=Document{{allowDiskUseFalse=0, deleteManyCount=0, deleteOneNonTargetedShardedCount=0, deleteOneTargetedShardedCount=0, deleteOneUnshardedCount=0, deleteOneWithoutShardKeyWithIdCount=0, deleteOneWithoutShardKeyWithIdRetryCount=0, externalRetryableWriteCount=0, findAndModifyNonTargetedShardedCount=0, findAndModifyTargetedShardedCount=0, findAndModifyUnshardedCount=0, internalRetryableWriteCount=0, nonRetryableDeleteOneWithoutShardKeyWithIdCount=0, nonRetryableUpdateOneWithoutShardKeyWithIdCount=0, recordIdDeduplicationSwitchedToRoaring=0, retryableInternalTransactionCount=0, updateDeleteManyDocumentsMaxCount=0, updateDeleteManyDocumentsTotalCount=0, updateDeleteManyDurationMaxMs=0, updateDeleteManyDurationTotalMs=0, updateManyCount=0, updateOneNonTargetedShardedCount=0, updateOneOpStyleBroadcastWithExactIDCount=0, updateOneTargetedShardedCount=0, updateOneUnshardedCount=0, updateOneWithoutShardKeyWithIdCount=0, updateOneWithoutShardKeyWithIdRetryCount=0, group=Document{{spilledBytes=0, spilledDataStorageSize=0, spilledRecords=0, spills=0}}, lookup=Document{{hashLookup=0, hashLookupSpillToDisk=0, hashLookupSpillToDiskBytes=0, indexedLoopJoin=0, nestedLoopJoin=0}}, multiPlanner=Document{{classicCount=0, classicMicros=0, classicWorks=0, sbeCount=0, sbeMicros=0, sbeNumReads=0, histograms=Document{{classicMicros=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=65536, count=0}}, Document{{lowerBound=262144, count=0}}, Document{{lowerBound=1048576, count=0}}, Document{{lowerBound=4194304, count=0}}, Document{{lowerBound=16777216, count=0}}, Document{{lowerBound=67108864, count=0}}, Document{{lowerBound=268435456, count=0}}, Document{{lowerBound=1073741824, count=0}}], classicNumPlans=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=2, count=0}}, Document{{lowerBound=4, count=0}}, Document{{lowerBound=8, count=0}}, Document{{lowerBound=16, count=0}}, Document{{lowerBound=32, count=0}}], classicWorks=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=128, count=0}}, Document{{lowerBound=256, count=0}}, Document{{lowerBound=512, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=2048, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=8192, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=32768, count=0}}], sbeMicros=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=65536, count=0}}, Document{{lowerBound=262144, count=0}}, Document{{lowerBound=1048576, count=0}}, Document{{lowerBound=4194304, count=0}}, Document{{lowerBound=16777216, count=0}}, Document{{lowerBound=67108864, count=0}}, Document{{lowerBound=268435456, count=0}}, Document{{lowerBound=1073741824, count=0}}], sbeNumPlans=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=2, count=0}}, Document{{lowerBound=4, count=0}}, Document{{lowerBound=8, count=0}}, Document{{lowerBound=16, count=0}}, Document{{lowerBound=32, count=0}}], sbeNumReads=[Document{{lowerBound=0, count=0}}, Document{{lowerBound=128, count=0}}, Document{{lowerBound=256, count=0}}, Document{{lowerBound=512, count=0}}, Document{{lowerBound=1024, count=0}}, Document{{lowerBound=2048, count=0}}, Document{{lowerBound=4096, count=0}}, Document{{lowerBound=8192, count=0}}, Document{{lowerBound=16384, count=0}}, Document{{lowerBound=32768, count=0}}]}}}}, planCache=Document{{totalQueryShapes=0, totalSizeEstimateBytes=0, classic=Document{{hits=0, misses=5455, skipped=39}}, sbe=Document{{hits=0, misses=0, skipped=0}}}}, queryFramework=Document{{aggregate=Document{{classicHybrid=0, classicOnly=9, cqf=0, sbeHybrid=2, sbeOnly=2}}, find=Document{{classic=5486, cqf=0, sbe=0}}}}, setWindowFields=Document{{spilledBytes=0, spilledRecords=0, spills=0}}, sort=Document{{spillToDisk=0, spillToDiskBytes=0, totalBytesSorted=0, totalKeysSorted=0}}}}, queryExecutor=Document{{scanned=14, scannedObjects=20724, collectionScans=Document{{nonTailable=5459, total=5459}}}}, queryStats=Document{{numEvicted=0, numHmacApplicationErrors=0, numQueryStatsStoreWriteErrors=0, numRateLimitedRequests=0, queryStatsStoreSizeEstimateBytes=0}}, repl=Document{{buffer=Document{{write=Document{{count=0, sizeBytes=0, maxSizeBytes=0}}, apply=Document{{count=0, sizeBytes=0, maxSizeBytes=0, maxCount=0}}}}, executor=Document{{pool=Document{{inProgressCount=0}}, queues=Document{{networkInProgress=0, sleepers=0}}, unsignaledEvents=0, shuttingDown=false, networkInterface=DEPRECATED: getDiagnosticString is deprecated in NetworkInterfaceTL}}, write=Document{{batchSize=0, batches=Document{{num=0, totalMillis=0}}}}, apply=Document{{attemptsToBecomeSecondary=0, batchSize=0, batches=Document{{num=0, totalMillis=0}}, ops=0}}, initialSync=Document{{completed=0, failedAttempts=0, failures=0}}, network=Document{{bytes=0, getmores=Document{{num=0, totalMillis=0, numEmptyBatches=0}}, notPrimaryLegacyUnacknowledgedWrites=0, notPrimaryUnacknowledgedWrites=0, oplogGetMoresProcessed=Document{{num=0, totalMillis=0}}, ops=0, readersCreated=0, replSetUpdatePosition=Document{{num=0}}}}, reconfig=Document{{numAutoReconfigsForRemovalOfNewlyAddedFields=0}}, stateTransition=Document{{lastStateTransition=, totalOperationsKilled=0, totalOperationsRunning=0}}, syncSource=Document{{numSelections=0, numSyncSourceChangesDueToSignificantlyCloserNode=0, numTimesChoseDifferent=0, numTimesChoseSame=0, numTimesCouldNotFind=0}}, waiters=Document{{opTime=0, replication=0}}}}, ttl=Document{{collSubpassesIncreasedPriority=0, deletedDocuments=14, passes=125, subPasses=125}}, wiredTiger=Document{{recordStoreCursorBoundRetries=0}}}}, ok=1.0}}
